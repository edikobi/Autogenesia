AI_Assistant_Pro/
|
├──  .env               # Файл с секретами (ключами API)
├── .gitignore          # Чтобы не слить секреты в Git
├── requirements.txt    # Список библиотек
├── mainsertif.py      # Точка входа (для теста работы API ключей, больше ничего не умеет!)
├── main.py # точка входа реальная, вызывает все что надо (в теории)
├── maintestchunk.py # тест работы чанкирования и составления умной карты (в нем можно выбрать какую папку проверить, и еще считаются токены)
├── __init__.py
├── debug_cert.py # проверяем правильность и целостность сертификатов SSL по GigaChat
├── check_models.py # проверяем какие модели Qwen доступны на OpenRouter
├── test_index_builder.py # задумывалась для работы индексной карты (не работает!)
├── test_all_chunkers.py # тестирование чанкирования
├──   test_models.py # выводит все доступные по API модели ИИ (от Google и Cloud) через OpenRouter
├──  test_prefilter_minimal.py
├── config/
      ├── __init__.py
      ├── settings.py # это API менеджер(там настройки API ключей)

├── app/
     ├── utils/
            ├── __init__.py
            ├── xml_wrapper.py # XML - обертка, с помощью нее отправляем текст вместе с метаданными файла ИИ
            ├── xml_parser.py # XML - обертка, с помощью нее получаем ответ от ИИ 
            ├── file_types.py # определение типа (формата) файла
            ├── token_counter.py   # считает токены
            ├── compact_index.py # (не уверен, что работает и задействован) API для работы с большой индексной картой
            ├── response_parser.py (не работает!)это прасер ответа от ИИ для режима Ask(чтобы все красиво выводилось)
            ├──  file_parser.py # парсинг файлов, которые пользователь присылает в общий бот
            ├──  translator.py # переводит мысли Оркестратора и Валидатора в терминале (на ходу)
            ├──  validation_logger.py # Специализированный логгер для отслеживания процесса валидации и генерации кода.
            ├──  pipeline_trace_logger.py # логгирует ход беседы
      ├── llm/
            ├── __init__.py
            ├── api_client.py # общий api клиент для всех операций (он сейчас действующий!!)
            ├── prompt_templates.py # промпты для разных ролей ИИ
     ├── services/
            ├── project_map_builder.py # создаёт и поддерживает карту проекта с описаниями на основе ИИ. (этот действующий!)
            ├── python_chunker.py    #  чанкирует файлы py
            ├── go_chunker.py        #  (временно не работает!)чанкирует файлы go  
            ├── sql_chunker.py  #  (временно не работает!)чанкирует файлы sql
            ├── json_chunker.py    # (нужно проверять, работает ли)чанкирует файлы json
            ├── project_scanner.py #  не особо нужен, теперь его функции выполняет другой файл! Раньше строил карту проекта 
            ├── file_io_tools.py      # (временно не используется!) (инструменты чтения/записи)
            ├── index_updater.py # инкрементально индексирует (уже после первой подробной карты) с помощью Qwen карту методов и классов
            ├── detailed_index_builder.py # (заменена другим файлом, сейчас не работает!!) 
            ├── index_reader.py # API для удобного чтения индексной карты
            ├── __init__.py
            ├── ai_client.py # (тестовый, уже не работает!)AI клиент для направления запросов ИИ
            ├── index_manager.py # координирует создание и обновление всех индексов(в том числе и карты проекта).
            ├── virtual_fs.py # Позволяет "применять" изменения к файлам без реальной модификации.
            ├── backup_manager.py # Обеспечивает безопасное резервное копирование файлов перед модификацией.
            ├── file_modifier.py # Отвечает за применение сгенерированного кода к файлам
            ├── syntax_checker.py # Проверка синтаксиса и минимальное автоформатирование кода.
            ├── change_validator.py # Проверка синтаксиса и минимальное автоформатирование кода и Применяет black/autopep8 ТОЛЬКО при критических проблемах с отступами.
            ├── runtime_tester.py # Runtime Tester — Unified testing system for all application types.
      ├── builders/
            ├── detailed_index_builder.py #  недействуйщий файл!
            ├── __init__.py
            ├── semantic_index_builder.py # создает полную и компактную индексную карту и может инкрементально ее обновлять
      ├── storage/   
            ├── sqlite_index.py # (временно заброшено!)переводит полную индексную карту в SQLite для удобства пользования Архитектору   
      ├── agents/        
            ├── __init__.py # AI Code Agent - Agent modules
            ├──  router.py # Router Agent - Classifies task complexity and selects appropriate Orchestrator model
            ├──  pre_filter.py # выбирает лучшие топ 5 чанков AST чанкирования
            ├──  orchestrator.py # оркестратор анализрует присланные чанки, пишет инструкции для написания кода
            ├──  code_generator.py # пишет код по инструкции Оркестратора
            ├──  feedback_loop.py # Управляет состоянием циклов проверки между: AI Validator (утверждает/отклоняет код) Orchestrator (пересматривает инструкции на основе обратной связи) Code Generator 
            ├──  validator.py # агент валидатор, проверяет код
            ├──  feedback_handler.py # Обработчик различных типов обратной связи
            ├──  agent_pipeline.py # Central coordinator for Agent Mode
            ├──  feedback_prompt_loader.py # Dynamic Feedback Prompt Loader for Agent Mode. (динамически подгружает фидбэк)
      ├──  tools/
            ├── __init__.py
            ├── tool_definitions.py # Лежат все инструменты (это этакий словарь инструментов)
            ├── read_file.py # инструмент по чтению файлов
            ├── search_code.py # инструмент поиска по коду (по отдельным методам в семантическом индексе) 
            ├── web_search.py # инструмент поиска Интернету
            ├── tool_executor.py # Tool Executor - Central dispatcher for all tools.
            ├── general_web_search.py # иснтрумент поиска (для чата общего назначения "General Chat")
            ├── run_project_tests.py # инструмент для тестирования файлов
            ├── dependency_manager.py # менеджер зависимостей
            ├── grep_search.py # поиск по коду

      ├── history/
            ├── __init__.py
            ├── storage.py #  основной файл хранилища истории бесед (с ИИ) (это он создает большую историю беседы)
            ├── compressor.py # динамически сжимает историю беседы для Оркестратора
            ├── manager.py # точка входа для управления историей беседы, именно он объединяет оба прошлых файла(которые заняты историей беседы)
            ├── orchestrator_trace.py # отдельное хранилище для шагов агента. Нужно для отображения "мышления" Оркестратора на фронтенде.
            ├── context_manager.py # (пока не работает, ибо ну его нахуй)управляет сжатием внутри итерации (когда вызываются инструменты)
      ├── advice/
            ├── __init__.py
            ├── advice_catalog.json # каталог советов (для Оркестратора в режиме Агент)
            ├── advice_content.json # сами советы для Оркестратора в режиме Агент (там их текст)
            ├── advice_loader.py # Модуль загрузки советов

      

├── certs/ 
      ├── russian_trusted_root_ca_pem.crt # сертификат для SSL GigaChat
├── scripts/ 
      ├── test_detailed_index.py # (НЕ РАБОТАЕТ)скрипт для тестирования подробной индексной карты(запускает формирование индексной карты )
      ├── test_index_manager.py # теперь это скрипт для создания индексной карты
      ├── analyze_index.py #  вспомогательный скрипт для проверки результатов 
      ├── test_semantic_index.py # ПРОВЕРКА СОЗДАНИЯ ИНДЕКСНОЙ КАРТЫ(запускает индексную создание)
      ├── test_deepseek_wrapper.py # должна запускать тест оберток(отправляет Deepseek запрос)
      ├── test_agents.py # тестирует агенты (уже можно вводить запросы по поводу кода)
      ├── test_history_manager.py # тест истории бесед
      ├── test_general_chat.py # тест общего чата (общего назначения, без привязки к директориям и коду)
      ├── test_agent_foundation.py # компонентов Этапа 1 Agent Mode (типа бэкапа и изменений файлов)
      ├── test_agent_stage2.py # Тестовый скрипт для проверки компонентов Этапа 2 Agent Mode.
      ├── test_agent_stage3.py # тестовый скрипт для этапа 3 + как изменения будут передаваться
      ├── test_context_compression.py # Тестовый скрипт для проверки сжатия контекста в Agent Mode.
├── tests/
      ├── test_xml_wrapper.py # тестировали XML - обертку для отправки файла
      ├── test_response_parser.py # тестировали парсер (не работает!)
├── detailed_index/ # в этой папке храню результаты тестов индексной карты(удалить потом)


