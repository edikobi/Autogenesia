{
  "version": "1.2",
  "created_at": "2025-12-12T11:00:34.095973+00:00",
  "updated_at": "2026-01-12T12:47:17.920771+00:00",
  "root_path": "C:\\Users\\Admin\\AI_Assistant_Pro",
  "total_files": 104,
  "total_tokens": 688906,
  "files": {
    "__init__.py": {
      "name": "__init__.py",
      "path": "__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\__init__.py",
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "tokens_total": 0,
      "lines_total": 0,
      "imports": null,
      "globals": null,
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-12T11:00:34.110902+00:00"
    },
    "app/__init__.py": {
      "name": "__init__.py",
      "path": "app/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\__init__.py",
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "tokens_total": 0,
      "lines_total": 0,
      "imports": null,
      "globals": null,
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-12T11:00:34.111558+00:00"
    },
    "app/agents/__init__.py": {
      "name": "__init__.py",
      "path": "app/agents/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\agents\\__init__.py",
      "file_hash": "6fe3f8902269ded3d6173bb6b088bb2a",
      "tokens_total": 166,
      "lines_total": 28,
      "imports": {
        "lines": "12-18",
        "modules": [
          "app.agents.code_generator.generate_code",
          "app.agents.code_generator.generate_code_agent_mode",
          "app.agents.code_generator.parse_agent_code_blocks",
          "app.agents.code_generator.CodeGeneratorResult",
          "app.agents.code_generator.CodeBlock"
        ],
        "tokens": 54
      },
      "globals": {
        "lines": "19-28",
        "names": [
          "__all__"
        ],
        "tokens": 53
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-22T12:24:38.777594+00:00"
    },
    "app/agents/orchestrator.py": {
      "name": "orchestrator.py",
      "path": "app/agents/orchestrator.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro (есть гугл дж 03.06.26)\\app\\agents\\orchestrator.py",
      "file_hash": "be847e1687148e21095a3c9c48d814a2",
      "tokens_total": 16013,
      "lines_total": 1966,
      "imports": {
        "lines": "20-46",
        "modules": [
          "__future__.annotations",
          "logging",
          "re",
          "dataclasses.dataclass",
          "dataclasses.field",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.Callable",
          "typing.Set",
          "config.settings.cfg",
          "app.llm.api_client.call_llm_with_tools",
          "app.llm.api_client.call_llm",
          "app.llm.prompt_templates.format_orchestrator_prompt_ask",
          "app.llm.prompt_templates.format_orchestrator_prompt_new_project",
          "app.llm.prompt_templates.MAX_WEB_SEARCH_CALLS",
          "app.tools.tool_definitions.ORCHESTRATOR_TOOLS",
          "app.tools.tool_executor.ToolExecutor",
          "app.tools.tool_executor.parse_tool_call",
          "app.agents.pre_filter.SelectedChunk",
          "app.history.context_manager.get_compressor",
          "app.history.context_manager.is_context_overflow_error"
        ],
        "tokens": 156
      },
      "globals": {
        "lines": "48-61",
        "names": [
          "logger",
          "MAX_TOOL_ITERATIONS",
          "MAX_TEST_RUNS",
          "BATCH_FILE_TOKEN_LIMIT"
        ],
        "tokens": 54
      },
      "description": "Core orchestration engine for managing multi-step LLM workflows with tool execution, file processing, and usage tracking, integrating with LLM models, search tools, and token-limited batch operations.",
      "classes": [
        {
          "name": "ToolCall",
          "lines": "68-74",
          "tokens": 46,
          "content_hash": "1c13370f2f7edeb031f1ffcb669b2b3d",
          "analyzed_by": "qwen",
          "description": "Represents a record of a tool call made by the Orchestrator, including the tool name, arguments, output, success status, and optional thinking context.",
          "references": [],
          "methods": []
        },
        {
          "name": "ToolUsageStats",
          "lines": "78-113",
          "tokens": 312,
          "content_hash": "7a33a6370d35c442d4565ed1f61d3300",
          "analyzed_by": "qwen",
          "description": "Tracks usage of orchestration tools and enforces call limits for web search and test runs.",
          "references": [],
          "methods": [
            "can_use_web_search",
            "can_run_tests",
            "increment",
            "get_remaining_web_searches",
            "get_remaining_test_runs"
          ]
        },
        {
          "name": "OrchestratorResult",
          "lines": "116-124",
          "tokens": 108,
          "content_hash": "09ec5fa2d5cdfbb8ac1d66d9c4ffd067",
          "analyzed_by": "qwen",
          "description": "Represents the result of an orchestration process, containing analysis, instructions, tool calls, and file targets. Used to communicate outcomes between components.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "UserFile",
          "lines": "1347-1352",
          "tokens": 58,
          "content_hash": "a9da1ef9ec27104b8c2f827c5293cbea",
          "analyzed_by": "qwen",
          "description": "Represents a user-uploaded file with metadata such as filename, content, token count, and file type.",
          "references": [],
          "methods": []
        },
        {
          "name": "GeneralChatResult",
          "lines": "1356-1361",
          "tokens": 65,
          "content_hash": "6026788e09f1a645d53eb3a4f098b04a",
          "analyzed_by": "qwen",
          "description": "Represents the result of the General Chat Orchestrator's processing, containing the final response, tool calls, raw response, and optional tool usage statistics.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "GeneralChatOrchestrator",
          "lines": "1364-1618",
          "tokens": 2449,
          "content_hash": "1748322432f3b46bb13d5dd0877d613e",
          "analyzed_by": "qwen",
          "description": "Оркеструет обработку общих чат-запросов, используя загруженные файлы и веб-поиск, с поддержкой юридического режима и ограничениями на количество итераций и поисков. Интегрируется с LLM, HistoryManager и инструментами вроде general_web_search.",
          "references": [
            "GeneralChatResult",
            "ToolCall",
            "ToolUsageStats",
            "_format_web_search_limit_error",
            "_optimize_cache_by_size",
            "all_tool_calls.append",
            "args.get",
            "assistant_tool_calls.append",
            "async_general_web_search",
            "call_llm_with_tools",
            "cfg.GENERAL_CHAT_MODEL",
            "cfg.MODEL_OPUS_4_5",
            "cfg.MODEL_SONNET_4_5",
            "cfg.get_model_display_name",
            "f.content",
            "f.filename",
            "format_error",
            "format_no_results",
            "format_orchestrator_prompt_general",
            "format_results_xml",
            "logger.error",
            "logger.info",
            "logger.warning",
            "messages.append",
            "messages.extend",
            "parse_tool_call",
            "response.get",
            "result.error",
            "result.pages",
            "result.success",
            "tool_result.startswith",
            "tool_results.append",
            "tool_usage.can_use_web_search",
            "tool_usage.get_remaining_web_searches",
            "tool_usage.increment",
            "tool_usage.web_search_count",
            "tools.append"
          ],
          "methods": [
            "__init__",
            "orchestrate_general",
            "_get_general_tools",
            "_execute_general_tool"
          ]
        }
      ],
      "functions": [
        {
          "name": "orchestrate",
          "lines": "131-469",
          "tokens": 2824,
          "content_hash": "b2dadd5571c12b5fcbeb007fc38cb2d8",
          "analyzed_by": "qwen",
          "description": "Analyzes user queries with selected code chunks and orchestrates tool execution for code generation, integrating with LLM models, file operations, and search tools.",
          "references": [
            "ORCHESTRATOR_TOOLS.copy",
            "OrchestratorResult",
            "ToolCall",
            "ToolExecutor",
            "ToolUsageStats",
            "_format_chunks_as_initial_context_message",
            "_format_chunks_for_context",
            "_format_test_run_limit_error",
            "_format_web_search_limit_error",
            "_get_available_tools",
            "_has_instruction_section",
            "_optimize_cache_by_size",
            "_parse_orchestrator_response",
            "_process_file_tools_with_batch_limit",
            "_remove_chunks_message_from_history",
            "_should_use_batch_limit",
            "all_tool_calls.append",
            "all_tool_calls.extend",
            "assistant_tool_calls.append",
            "call_llm",
            "call_llm_with_tools",
            "cfg.MODEL_OPUS_4_5",
            "cfg.MODEL_SONNET_4_5",
            "cfg.get_model_display_name",
            "executor_instance.execute",
            "format_orchestrator_prompt_ask",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "messages.append",
            "messages.extend",
            "parse_tool_call",
            "parsed.get",
            "response.get",
            "tool_executor",
            "tool_result.startswith",
            "tool_results.append",
            "tool_usage.can_run_tests",
            "tool_usage.can_use_web_search",
            "tool_usage.get_remaining_web_searches",
            "tool_usage.increment",
            "tr.get"
          ]
        },
        {
          "name": "_format_test_run_limit_error",
          "lines": "472-484",
          "tokens": 131,
          "content_hash": "543d31c8f3479034e43c3dde7e57d7a0",
          "analyzed_by": "qwen",
          "description": "Generates a formatted XML error message when the maximum number of test runs is exceeded, showing usage statistics and guidance.",
          "references": [
            "tool_usage.test_run_count"
          ]
        },
        {
          "name": "_process_file_tools_with_batch_limit",
          "lines": "487-634",
          "tokens": 1146,
          "content_hash": "ecf0406ac14b3b73322ed67046ffbb25",
          "analyzed_by": "qwen",
          "description": "Processes file-reading tool calls with a token limit, executing them until the limit is reached and deferring remaining files, while also handling non-file tools and tracking usage statistics. Integrates with TokenCounter and ToolUsageStats.",
          "references": [
            "TokenCounter",
            "ToolCall",
            "_format_batch_limit_skip_message",
            "_format_test_run_limit_error",
            "_format_web_search_limit_error",
            "all_tool_calls.append",
            "assistant_tool_calls.append",
            "counter.count",
            "file_tool_indices.append",
            "files_skipped.append",
            "func_args.get",
            "func_info.get",
            "logger.debug",
            "logger.info",
            "logger.warning",
            "other_tool_indices.append",
            "parse_tool_call",
            "tc.get",
            "tool_executor",
            "tool_result.startswith",
            "tool_results.append",
            "tool_usage.can_run_tests",
            "tool_usage.can_use_web_search",
            "tool_usage.increment"
          ]
        },
        {
          "name": "_format_batch_limit_skip_message",
          "lines": "637-660",
          "tokens": 233,
          "content_hash": "dcd334c51d8c58aab5dcc29aee32b9a3",
          "analyzed_by": "qwen",
          "description": "Generates a structured message when a file is skipped due to exceeding the batch token limit, instructing the model to request the file in a subsequent call.",
          "references": []
        },
        {
          "name": "_should_use_batch_limit",
          "lines": "663-675",
          "tokens": 104,
          "content_hash": "b4b7263987c40c91179f7b7c31bf059c",
          "analyzed_by": "qwen",
          "description": "Determines if a model should use a batch file token limit based on predefined models with constrained context windows.",
          "references": [
            "cfg.MODEL_DEEPSEEK_REASONER",
            "cfg.MODEL_OPUS_4_5"
          ]
        },
        {
          "name": "orchestrate_new_project",
          "lines": "678-862",
          "tokens": 1323,
          "content_hash": "c8611fb6e24a28e0876df23641234cea",
          "analyzed_by": "qwen",
          "description": "Orchestrates the creation of a new project by using an LLM to generate setup instructions and leveraging limited tools like web_search, ensuring a final response is generated even if no instruction section is found. Integrates with tool execution and logging systems.",
          "references": [
            "OrchestratorResult",
            "ToolCall",
            "ToolExecutor",
            "ToolUsageStats",
            "_format_web_search_limit_error",
            "_has_instruction_section",
            "_parse_orchestrator_response",
            "all_tool_calls.append",
            "assistant_tool_calls.append",
            "call_llm",
            "call_llm_with_tools",
            "cfg.get_model_display_name",
            "executor_instance.execute",
            "format_orchestrator_prompt_new_project",
            "logger.error",
            "logger.info",
            "logger.warning",
            "messages.append",
            "messages.extend",
            "parse_tool_call",
            "response.get",
            "tool_result.startswith",
            "tool_results.append",
            "tool_usage.can_use_web_search",
            "tool_usage.get_remaining_web_searches",
            "tool_usage.increment"
          ]
        },
        {
          "name": "_has_instruction_section",
          "lines": "869-892",
          "tokens": 167,
          "content_hash": "dbfb0abb3c7f096e22b35aadde3e8536",
          "analyzed_by": "qwen",
          "description": "Checks if the provided content contains an instruction section using predefined regex patterns. Used to detect missing instructions in Orchestrator responses.",
          "references": [
            "re.IGNORECASE",
            "re.search"
          ]
        },
        {
          "name": "_get_available_tools",
          "lines": "895-916",
          "tokens": 139,
          "content_hash": "826f8ed489e8244d84c47dd20dee8431",
          "analyzed_by": "qwen",
          "description": "Filters and returns a list of available tools by checking usage limits for specific functions like web_search and run_project_tests.",
          "references": [
            "available.append",
            "tool_usage.can_run_tests",
            "tool_usage.can_use_web_search"
          ]
        },
        {
          "name": "_format_web_search_limit_error",
          "lines": "919-931",
          "tokens": 127,
          "content_hash": "dfc0c8367a5c3b4537f26d867b86b794",
          "analyzed_by": "qwen",
          "description": "Generates an error message when web_search usage exceeds the session limit, displaying current usage and remaining tools. Integrates with ToolUsageStats for tracking.",
          "references": [
            "tool_usage.web_search_count"
          ]
        },
        {
          "name": "_format_chunks_for_context",
          "lines": "934-951",
          "tokens": 175,
          "content_hash": "2c10ede4e160276303a1cafb4cf5c64b",
          "analyzed_by": "qwen",
          "description": "Formats a list of selected code chunks into a structured, human-readable context string for the Orchestrator, including chunk metadata, relevance scores, and code snippets.",
          "references": [
            "chunk.chunk_type",
            "chunk.code",
            "chunk.end_line",
            "chunk.file_path",
            "chunk.name",
            "chunk.reason",
            "chunk.relevance_score",
            "chunk.start_line",
            "prompt_parts.append"
          ]
        },
        {
          "name": "_format_chunks_as_initial_context_message",
          "lines": "953-992",
          "tokens": 343,
          "content_hash": "d44adb321104e97a5abd8822a2f2f1cc",
          "analyzed_by": "qwen",
          "description": "Formats selected code chunks into a user message for initial context, including file details, relevance scores, and code snippets; returns the formatted message or None if no chunks are provided.",
          "references": [
            "chunk.chunk_type",
            "chunk.code",
            "chunk.end_line",
            "chunk.file_path",
            "chunk.name",
            "chunk.reason",
            "chunk.relevance_score",
            "chunk.start_line",
            "parts.append"
          ]
        },
        {
          "name": "_remove_chunks_message_from_history",
          "lines": "995-1027",
          "tokens": 237,
          "content_hash": "6a02a149c3634ee74cc66f6746f92a03",
          "analyzed_by": "qwen",
          "description": "Removes a specific user message containing \"PRE-FILTERED CODE CHUNKS\" from the message history to optimize token usage, logs the removal and context reduction.",
          "references": [
            "filtered.append",
            "logger.debug",
            "logger.info",
            "msg.get"
          ]
        },
        {
          "name": "_parse_orchestrator_response",
          "lines": "1030-1159",
          "tokens": 1490,
          "content_hash": "cdaa9cdcce3cff5ef2169d7c3e5cf1d6",
          "analyzed_by": "qwen",
          "description": "Parses Orchestrator responses into structured analysis and instruction sections, supporting multiple languages and formats, with fallback strategies for robust extraction. Integrates with regex patterns and logging for debugging.",
          "references": [
            "_looks_like_instruction",
            "analysis_match.group",
            "file_mode_match.group",
            "file_path.endswith",
            "file_path.replace",
            "file_path.startswith",
            "found_files.add",
            "logger.debug",
            "logger.info",
            "logger.warning",
            "match.group",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.findall",
            "re.finditer",
            "re.search",
            "response.strip"
          ]
        },
        {
          "name": "_looks_like_instruction",
          "lines": "1163-1269",
          "tokens": 574,
          "content_hash": "2f39dc4a2cf055a103ebba758f367be7",
          "analyzed_by": "qwen",
          "description": "Determines if a given text contains actionable instruction markers or code-related content, indicating it's more than just analysis. Used to differentiate between instructions and general commentary.",
          "references": [
            "marker.lower",
            "re.search",
            "text.lower"
          ]
        },
        {
          "name": "_validate_instruction_format",
          "lines": "1272-1299",
          "tokens": 243,
          "content_hash": "fb9bc4293d7d0a6a0568183c138f5a0c",
          "analyzed_by": "qwen",
          "description": "Validates the format of an instruction string against required headers and structure, returning a tuple of validation status and a list of issues. Uses regex to check for required elements like SCOPE, Task, and file specification.",
          "references": [
            "issues.append",
            "re.search"
          ]
        },
        {
          "name": "_optimize_cache_by_size",
          "lines": "1301-1339",
          "tokens": 447,
          "content_hash": "e10c4067a8e699f1f43b2e62539e35b8",
          "analyzed_by": "qwen",
          "description": "Optimizes message cache by removing cache_control from smaller blocks, keeping only the top N largest ones by text size. Integrates with message content structure and logging.",
          "references": [
            "block.get",
            "candidates.append",
            "candidates.sort",
            "logger.info",
            "msg.get"
          ]
        },
        {
          "name": "orchestrate_agent",
          "lines": "1625-1966",
          "tokens": 2681,
          "content_hash": "c047952e062dfe3eb979c4bfc2997605",
          "analyzed_by": "qwen",
          "description": "Orchestrates an agent mode workflow with context compression, tool execution, and iterative LLM interaction, integrating with file operations, web search, and Claude cache optimization.",
          "references": [
            "ORCHESTRATOR_TOOLS.copy",
            "OrchestratorResult",
            "ToolCall",
            "ToolExecutor",
            "ToolUsageStats",
            "_format_chunks_as_initial_context_message",
            "_format_chunks_for_context",
            "_format_test_run_limit_error",
            "_format_web_search_limit_error",
            "_get_available_tools",
            "_has_instruction_section",
            "_optimize_cache_by_size",
            "_parse_orchestrator_response",
            "_process_file_tools_with_batch_limit",
            "_remove_chunks_message_from_history",
            "_should_use_batch_limit",
            "all_tool_calls.append",
            "all_tool_calls.extend",
            "assistant_tool_calls.append",
            "call_llm",
            "call_llm_with_tools",
            "cfg.MODEL_OPUS_4_5",
            "cfg.MODEL_SONNET_4_5",
            "cfg.get_model_display_name",
            "compression_result.compressed_tokens",
            "compression_result.original_tokens",
            "compressor.check_and_compress",
            "compressor.emergency_compress",
            "emergency_result.compressed_tokens",
            "emergency_result.original_tokens",
            "executor_instance.execute",
            "format_orchestrator_prompt_ask",
            "get_compressor",
            "is_context_overflow_error",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "messages.append",
            "messages.extend",
            "parse_tool_call",
            "parsed.get",
            "response.get",
            "tool_executor",
            "tool_result.startswith",
            "tool_results.append",
            "tool_usage.can_run_tests",
            "tool_usage.can_use_web_search",
            "tool_usage.get_remaining_web_searches",
            "tool_usage.increment",
            "tr.get"
          ]
        }
      ],
      "last_indexed": "2026-01-04T02:03:46.398226+00:00"
    },
    "app/agents/pre_filter.py": {
      "name": "pre_filter.py",
      "path": "app/agents/pre_filter.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\agents\\pre_filter.py",
      "file_hash": "dbef13baaad5730b21748c8919c0ff33",
      "tokens_total": 7312,
      "lines_total": 972,
      "imports": {
        "lines": "15-27",
        "modules": [
          "__future__.annotations",
          "json",
          "logging",
          "re",
          "dataclasses.dataclass",
          "pathlib.Path",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "config.settings.cfg",
          "app.llm.api_client.call_llm",
          "app.llm.api_client.get_model_for_role",
          "app.llm.prompt_templates.PREFILTER_SYSTEM_PROMPT",
          "app.llm.prompt_templates.PREFILTER_USER_PROMPT",
          "app.services.project_map_builder.get_project_map_for_prompt",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 101
      },
      "globals": {
        "lines": "29-29",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Pre-filtering module for selecting and prioritizing relevant code chunks from a semantic index based on a user query and token budget, integrating with LLM ranking and file extraction utilities.",
      "classes": [
        {
          "name": "SelectedChunk",
          "lines": "37-48",
          "tokens": 75,
          "content_hash": "899e120e24d00888defb754bb0e058fc",
          "analyzed_by": "qwen",
          "description": "Represents a selected code chunk with metadata such as file path, type, relevance score, and line numbers. Used for organizing and referencing relevant code segments during processing.",
          "references": [],
          "methods": []
        },
        {
          "name": "PreFilterResult",
          "lines": "52-58",
          "tokens": 47,
          "content_hash": "0e66213860d1ac500d3bde9fd2457d30",
          "analyzed_by": "qwen",
          "description": "Represents the outcome of a pre-filtering process, including selected chunks, token count, and pruning statistics.",
          "references": [],
          "methods": []
        }
      ],
      "functions": [
        {
          "name": "pre_filter_chunks",
          "lines": "65-344",
          "tokens": 2936,
          "content_hash": "cb7b749fd4e730513f28224901aff248",
          "analyzed_by": "qwen",
          "description": "Selects top relevant code chunks from a project index based on user query and model-specific token limits, integrating with LLMs like DeepSeek and handling dynamic token constraints for different orchestrator models.",
          "references": [
            "Path",
            "PreFilterResult",
            "SelectedChunk",
            "TokenCounter",
            "_apply_token_limit",
            "_build_chunks_for_llm",
            "_call_prefilter_llm",
            "_empty_result",
            "_fallback_selection",
            "_get_selected_chunks",
            "_is_gemini_3_pro",
            "_is_strict_limit_model",
            "_load_all_chunks_with_code",
            "_read_file_safe",
            "c.file_path",
            "c.tokens",
            "cfg.MODEL_DEEPSEEK_REASONER",
            "cfg.MODEL_GEMINI_3_PRO",
            "cfg.MODEL_OPUS_4_5",
            "cfg.PRE_FILTER_MAX_CHUNKS",
            "cfg.PRE_FILTER_MAX_TOKENS",
            "cfg.get_model_display_name",
            "chunk.tokens",
            "get_project_map_for_prompt",
            "index.get",
            "logger.debug",
            "logger.info",
            "logger.warning",
            "model.lower",
            "readme_content.splitlines",
            "readme_path.exists",
            "selected_chunks.insert",
            "token_counter.count",
            "truncated_lines.append",
            "user_query.strip"
          ]
        },
        {
          "name": "_load_all_chunks_with_code",
          "lines": "351-372",
          "tokens": 145,
          "content_hash": "f764dd381fc07ef4f8a405c5e5025c60",
          "analyzed_by": "qwen",
          "description": "Loads all code chunks from either a compressed or regular index, using the project directory to retrieve the actual code, and tracks tokens used.",
          "references": [
            "TokenCounter",
            "_load_from_compressed_index",
            "_load_from_regular_index",
            "index.get"
          ]
        },
        {
          "name": "_load_from_regular_index",
          "lines": "375-421",
          "tokens": 305,
          "content_hash": "cf0f23f25e2f52471cf37de815648a0d",
          "analyzed_by": "qwen",
          "description": "Loads code chunks (classes and functions) from a regular semantic index, using file paths and line ranges to extract content and descriptions. Integrates with _extract_chunk_from_lines and TokenCounter for processing.",
          "references": [
            "Path",
            "_extract_chunk_from_lines",
            "_read_file_safe",
            "chunks.append",
            "file_content.splitlines",
            "file_data.get",
            "func.get",
            "index.get"
          ]
        },
        {
          "name": "_load_from_compressed_index",
          "lines": "424-483",
          "tokens": 396,
          "content_hash": "7c5be2f1402253bff1c861473c7814a1",
          "analyzed_by": "qwen",
          "description": "Loads code chunks (classes and functions) from a compressed semantic index, using file caching and line extraction; integrates with token counter and file reading utilities.",
          "references": [
            "Path",
            "_extract_chunk_from_lines",
            "_read_file_safe",
            "chunks.append",
            "content.splitlines",
            "func.get",
            "get_file_lines",
            "index.get"
          ]
        },
        {
          "name": "_extract_chunk_from_lines",
          "lines": "486-524",
          "tokens": 253,
          "content_hash": "ad3f251304229f6522f2c10acc95f2cc",
          "analyzed_by": "qwen",
          "description": "Extracts a code chunk from a file based on specified line numbers, returning a SelectedChunk object with metadata like token count and code content. Integrates with TokenCounter for token estimation.",
          "references": [
            "SelectedChunk",
            "code.strip",
            "lines_str.split",
            "token_counter.count"
          ]
        },
        {
          "name": "_read_file_safe",
          "lines": "527-540",
          "tokens": 83,
          "content_hash": "152516700c1ac18f9c133832059c73d2",
          "analyzed_by": "qwen",
          "description": "Safely reads the contents of a file with fallback encodings (UTF-8 to Latin-1) and returns None if the file doesn't exist or reading fails.",
          "references": [
            "path.exists",
            "path.read_text"
          ]
        },
        {
          "name": "_build_chunks_for_llm",
          "lines": "547-596",
          "tokens": 362,
          "content_hash": "2eb36480cd99c6cbf97ceada526487b8",
          "analyzed_by": "qwen",
          "description": "Selects and prioritizes chunks for LLM input based on token budget, ensuring the total stays under the specified limit while including as many relevant chunks as possible. Integrates with chunk metadata and logging for monitoring.",
          "references": [
            "c.tokens",
            "chunk.tokens",
            "logger.info",
            "logger.warning",
            "selected.append",
            "smallest.tokens"
          ]
        },
        {
          "name": "_call_prefilter_llm",
          "lines": "603-652",
          "tokens": 297,
          "content_hash": "4d83193105859fd13e861c9714758e4c",
          "analyzed_by": "qwen",
          "description": "Calls a pre-filter LLM to rank or select relevant code chunks based on the user query and full code content, integrating with LLM models and logging for error tracking.",
          "references": [
            "_format_chunks_with_code",
            "_get_prefilter_system_prompt",
            "_get_prefilter_user_prompt",
            "_parse_prefilter_response",
            "call_llm",
            "get_model_for_role",
            "logger.error",
            "logger.warning",
            "response.strip"
          ]
        },
        {
          "name": "_format_chunks_with_code",
          "lines": "655-693",
          "tokens": 199,
          "content_hash": "863e43c76cf51f8ea181dccdf5d82cc4",
          "analyzed_by": "qwen",
          "description": "Formats selected code chunks with metadata and code for LLM input, using a structured, multi-chunk template.",
          "references": [
            "chunk.chunk_id",
            "chunk.chunk_type",
            "chunk.code",
            "chunk.end_line",
            "chunk.file_path",
            "chunk.start_line",
            "chunk.tokens",
            "parts.append"
          ]
        },
        {
          "name": "_get_prefilter_system_prompt",
          "lines": "696-728",
          "tokens": 284,
          "content_hash": "d3266b3ab849fe85742998b9d0310836",
          "analyzed_by": "qwen",
          "description": "Generates a system prompt for an LLM to select the most relevant code chunks based on a user's query, using a specified maximum number of chunks. Integrates with code analysis logic and expects structured input including code chunks and project maps.",
          "references": []
        },
        {
          "name": "_get_prefilter_user_prompt",
          "lines": "730-747",
          "tokens": 117,
          "content_hash": "b7ea3d476b094a8ba7d6c621d8c53f71",
          "analyzed_by": "qwen",
          "description": "Generates a user prompt for a Pre-filter LLM to select the most relevant code chunks based on a query, project map, and list of chunks. Integrates with data passed as strings for LLM processing.",
          "references": []
        },
        {
          "name": "_parse_prefilter_response",
          "lines": "754-776",
          "tokens": 193,
          "content_hash": "6f2013c9eaea7ad5496f1e8c384e0902",
          "analyzed_by": "qwen",
          "description": "Parses the Pre-filter LLM response into a list of selected chunks, using JSON extraction with fallback to regex parsing. Integrates with logging and helper functions for error handling and data normalization.",
          "references": [
            "_clean_json_string",
            "_extract_json_from_response",
            "_normalize_chunks",
            "_try_regex_extraction",
            "json.JSONDecodeError",
            "json.loads",
            "logger.warning",
            "result.get"
          ]
        },
        {
          "name": "_extract_json_from_response",
          "lines": "779-795",
          "tokens": 153,
          "content_hash": "ca0d5472520db4edb58eec31e392b3aa",
          "analyzed_by": "qwen",
          "description": "Extracts a JSON object from an LLM response using markdown code block detection or brace matching. Returns the JSON string if found, otherwise returns None.",
          "references": [
            "_extract_by_brace_matching",
            "code_block_match.group",
            "content.startswith",
            "re.search",
            "response.find"
          ]
        },
        {
          "name": "_extract_by_brace_matching",
          "lines": "798-827",
          "tokens": 172,
          "content_hash": "10926e1c3c7ceadd643c3ea9003e5009",
          "analyzed_by": "qwen",
          "description": "Extracts a JSON object from a string starting at a given index by matching opening and closing braces, handling string and escape characters appropriately.",
          "references": []
        },
        {
          "name": "_clean_json_string",
          "lines": "830-834",
          "tokens": 63,
          "content_hash": "e19c0d6a20dc5afd73b735fe02255c06",
          "analyzed_by": "qwen",
          "description": "Removes common JSON formatting issues like trailing commas and invisible characters from a JSON string.",
          "references": [
            "json_str.lstrip",
            "json_str.strip",
            "re.sub"
          ]
        },
        {
          "name": "_normalize_chunks",
          "lines": "837-869",
          "tokens": 221,
          "content_hash": "94f99304643d7be6e3f34d2a700cea41",
          "analyzed_by": "qwen",
          "description": "Normalizes a list of chunk dictionaries by extracting and validating chunk IDs, relevance scores, and reasons, then returns the top max_chunks sorted by relevance score.",
          "references": [
            "chunk.get",
            "normalized.append",
            "normalized.sort"
          ]
        },
        {
          "name": "_try_regex_extraction",
          "lines": "872-887",
          "tokens": 144,
          "content_hash": "cb8b1bdd2076e30ca67b3f319dd983d8",
          "analyzed_by": "qwen",
          "description": "Extracts structured data from a response string using regex as a fallback method, returning a list of chunk details with relevance scores and reasons.",
          "references": [
            "re.DOTALL",
            "re.findall"
          ]
        },
        {
          "name": "_get_selected_chunks",
          "lines": "894-916",
          "tokens": 172,
          "content_hash": "eeada3267b170b56ed5f6148171e6335",
          "analyzed_by": "qwen",
          "description": "Filters and returns selected chunks by ID, updating their relevance scores and reasons based on input, then sorts them in descending order of relevance.",
          "references": [
            "c.chunk_id",
            "c.relevance_score",
            "chunk.reason",
            "chunk.relevance_score",
            "chunks_map.get",
            "result.append",
            "result.sort",
            "selection.get"
          ]
        },
        {
          "name": "_apply_token_limit",
          "lines": "919-946",
          "tokens": 223,
          "content_hash": "41f80f1f450421e64ca4263030e223aa",
          "analyzed_by": "qwen",
          "description": "Reduces the total token count by removing the least relevant chunks until under the specified token limit, returning the pruned list and pruning details. Integrates with logging for tracking removed chunks.",
          "references": [
            "chunk.tokens",
            "chunks.pop",
            "logger.info",
            "logger.warning",
            "removed.chunk_id",
            "removed.tokens"
          ]
        },
        {
          "name": "_fallback_selection",
          "lines": "949-961",
          "tokens": 84,
          "content_hash": "d6969b2db6e928a97bb0e9412f9f84bd",
          "analyzed_by": "qwen",
          "description": "Selects the first N chunks with default relevance scores when the LLM fails, returning a list of simplified chunk metadata.",
          "references": [
            "c.chunk_id"
          ]
        },
        {
          "name": "_empty_result",
          "lines": "964-972",
          "tokens": 53,
          "content_hash": "f76526dec951708c2ae353c630b4d798",
          "analyzed_by": "qwen",
          "description": "Returns an empty PreFilterResult object with default values for all attributes.",
          "references": [
            "PreFilterResult"
          ]
        }
      ],
      "last_indexed": "2026-01-03T03:01:46.639410+00:00"
    },
    "app/agents/router.py": {
      "name": "router.py",
      "path": "app/agents/router.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\agents\\router.py",
      "file_hash": "5e755396f2ce1b9f54f5da66420f1cb3",
      "tokens_total": 6524,
      "lines_total": 590,
      "imports": {
        "lines": "20-28",
        "modules": [
          "__future__.annotations",
          "json",
          "logging",
          "re",
          "dataclasses.dataclass",
          "typing.Optional",
          "typing.Dict",
          "typing.Any",
          "config.settings.cfg",
          "app.llm.api_client.call_llm",
          "app.llm.api_client.is_router_enabled"
        ],
        "tokens": 52
      },
      "globals": {
        "lines": "30-309",
        "names": [
          "logger",
          "ROUTER_SYSTEM_PROMPT",
          "ROUTER_USER_PROMPT"
        ],
        "tokens": 31
      },
      "description": "AI model router for classifying coding tasks by complexity and risk, then routing them to appropriate orchestrator models with fallback and logging.",
      "classes": [
        {
          "name": "RouteResult",
          "lines": "38-45",
          "tokens": 79,
          "content_hash": "5abb6ec2950b8d922be533bde6ae69be",
          "analyzed_by": "qwen",
          "description": "Represents the outcome of a routing decision, including the selected orchestrator model, complexity and risk levels, reasoning, confidence score, and whether the router was used.",
          "references": [],
          "methods": []
        }
      ],
      "functions": [
        {
          "name": "_build_router_system_prompt",
          "lines": "52-291",
          "tokens": 3806,
          "content_hash": "2c74b93234fc46b0a9902f65bf04651c",
          "analyzed_by": "qwen",
          "description": "Generates a detailed system prompt for classifying coding tasks into three complexity levels (simple, medium, complex) based on criteria like task category (creation, addition, bugfix), required reasoning, and risk factors. Used to determine which AI model should handle the task.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_router_user_prompt",
          "lines": "294-305",
          "tokens": 92,
          "content_hash": "5ffe5eafa2c515347cbe2f04cc498940",
          "analyzed_by": "qwen",
          "description": "Constructs a user prompt template for task classification, combining the user query and project context into a structured format.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "route_request",
          "lines": "316-384",
          "tokens": 569,
          "content_hash": "e1320553cdece64a97417dca532f4c17",
          "analyzed_by": "qwen",
          "description": "Routes user requests to the appropriate Orchestrator model (simple/medium/complex) based on query and context, using a Router LLM (Gemini 2.0 Flash) when enabled; integrates with logging, configuration, and fallback mechanisms for reliability.",
          "references": [
            "RouteResult",
            "_call_router_llm",
            "_create_fallback_result",
            "_get_model_for_complexity",
            "_handle_router_disabled",
            "_parse_router_response",
            "cfg.get_model_display_name",
            "is_router_enabled",
            "logger.error",
            "logger.info",
            "logger.warning",
            "response.strip",
            "result.get",
            "user_query.strip"
          ]
        },
        {
          "name": "_get_model_for_complexity",
          "lines": "391-401",
          "tokens": 113,
          "content_hash": "dbcd715c83a3dec92a936b2681a8fec5",
          "analyzed_by": "qwen",
          "description": "Maps a complexity level to a corresponding model name based on configuration, using defaults if no specific model is defined.",
          "references": [
            "cfg.ORCHESTRATOR_COMPLEX_MODEL",
            "cfg.ORCHESTRATOR_MEDIUM_MODEL",
            "cfg.ORCHESTRATOR_SIMPLE_MODEL",
            "cfg.get_orchestrator_model_config",
            "config.get",
            "models.get"
          ]
        },
        {
          "name": "_handle_router_disabled",
          "lines": "404-418",
          "tokens": 118,
          "content_hash": "7ecafe5ec8873d5d68b249db6df135c8",
          "analyzed_by": "qwen",
          "description": "Returns a fixed model routing result when the router is disabled, using configuration settings and logging the decision.",
          "references": [
            "RouteResult",
            "cfg.get_model_display_name",
            "cfg.get_orchestrator_model_config",
            "logger.info"
          ]
        },
        {
          "name": "_create_fallback_result",
          "lines": "421-432",
          "tokens": 92,
          "content_hash": "68789d275a65022e124d3ce198ef5664",
          "analyzed_by": "qwen",
          "description": "Generates a fallback RouteResult based on a specified reason and complexity level, using a model determined by the complexity.",
          "references": [
            "RouteResult",
            "_get_model_for_complexity"
          ]
        },
        {
          "name": "_call_router_llm",
          "lines": "435-458",
          "tokens": 169,
          "content_hash": "5e10c1a7e253a0e4d4bacdb51119a45c",
          "analyzed_by": "qwen",
          "description": "Routes user queries to the appropriate LLM model by formatting and sending them with project context, using a specified router model for decision-making. Integrates with call_llm for model inference.",
          "references": [
            "ROUTER_USER_PROMPT.format",
            "call_llm",
            "cfg.ROUTER_MODEL"
          ]
        },
        {
          "name": "_parse_router_response",
          "lines": "461-488",
          "tokens": 260,
          "content_hash": "2bbc7be72082c6bd1c4766093b78e84f",
          "analyzed_by": "qwen",
          "description": "Parses a JSON-formatted LLM router response into a structured dictionary, extracting and normalizing key decision attributes like orchestrator, complexity, and risk level. Integrates with JSON parsing and logging utilities for error handling and fallback defaults.",
          "references": [
            "_default_router_result",
            "_extract_json_from_response",
            "_normalize_router_result",
            "json.JSONDecodeError",
            "json.loads",
            "logger.debug",
            "logger.warning"
          ]
        },
        {
          "name": "_extract_json_from_response",
          "lines": "491-530",
          "tokens": 324,
          "content_hash": "4638147fd63e03505163167eba2ad359",
          "analyzed_by": "qwen",
          "description": "Extracts a JSON object from an LLM response using multiple strategies including markdown code blocks, brace matching, and regex fallback. Used to parse structured data from unstructured text responses.",
          "references": [
            "code_block_match.group",
            "json_str.strip",
            "re.search",
            "response.find",
            "simple_match.group"
          ]
        },
        {
          "name": "_normalize_router_result",
          "lines": "533-579",
          "tokens": 507,
          "content_hash": "4395c5e299e816cd8b86c2afa5259f2f",
          "analyzed_by": "qwen",
          "description": "Normalizes and validates a router result dictionary by mapping orchestrator strings to complexity levels, ensuring consistent formatting for fields like confidence, reasoning, and risk level.",
          "references": [
            "result.get"
          ]
        },
        {
          "name": "_default_router_result",
          "lines": "582-590",
          "tokens": 88,
          "content_hash": "8f17637d17e24788312f63523bbc6191",
          "analyzed_by": "qwen",
          "description": "Provides a default router configuration for fallback scenarios when response parsing fails, specifying model, complexity, confidence, and risk level.",
          "references": []
        }
      ],
      "last_indexed": "2026-01-05T01:24:13.772609+00:00"
    },
    "app/builders/__init__.py": {
      "name": "__init__.py",
      "path": "app/builders/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\builders\\__init__.py",
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "tokens_total": 0,
      "lines_total": 0,
      "imports": null,
      "globals": null,
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-12T11:00:34.576090+00:00"
    },
    "app/builders/semantic_index_builder.py": {
      "name": "semantic_index_builder.py",
      "path": "app/builders/semantic_index_builder.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\builders\\semantic_index_builder.py",
      "file_hash": "933820adb23fcb82cb35df0b6d0b1200",
      "tokens_total": 19793,
      "lines_total": 2390,
      "imports": {
        "lines": "17-36",
        "modules": [
          "__future__.annotations",
          "json",
          "asyncio",
          "hashlib",
          "re",
          "logging",
          "dataclasses.dataclass",
          "dataclasses.field",
          "dataclasses.asdict",
          "datetime.datetime",
          "datetime.timezone",
          "pathlib.Path",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.Tuple",
          "typing.Set",
          "typing.Callable",
          "enum.Enum",
          "concurrent.futures.ProcessPoolExecutor",
          "concurrent.futures.ThreadPoolExecutor",
          "aiofiles",
          "multiprocessing",
          "httpx",
          "app.utils.token_counter.TokenCounter",
          "app.services.python_chunker.SmartPythonChunker",
          "app.services.python_chunker.PythonTreeNode",
          "config.settings.cfg"
        ],
        "tokens": 120
      },
      "globals": {
        "lines": "41-131",
        "names": [
          "logger",
          "QWEN_TOKEN_THRESHOLD",
          "INDEX_FILENAME",
          "COMPACT_INDEX_FILENAME",
          "COMPACT_INDEX_MD",
          "COMPRESSED_INDEX_FILENAME",
          "INDEX_VERSION",
          "REQUEST_TIMEOUT",
          "MAX_RETRIES",
          "CONCURRENT_REQUESTS",
          "IGNORE_DIRS",
          "QWEN_SYSTEM_PROMPT",
          "DEEPSEEK_SYSTEM_PROMPT",
          "QWEN_CLASS_PROMPT",
          "QWEN_FUNCTION_PROMPT",
          "DEEPSEEK_CLASS_PROMPT",
          "DEEPSEEK_FUNCTION_PROMPT",
          "FILE_SUMMARY_PROMPT"
        ],
        "tokens": 476
      },
      "description": "Semantic indexing pipeline for source code analysis, integrating LLM-based metadata extraction with structured data models for dependency tracking and performance monitoring.",
      "classes": [
        {
          "name": "AnalyzerModel",
          "lines": "64-66",
          "tokens": 24,
          "content_hash": "87a7966aa349a0a5abf6b6d571078301",
          "analyzed_by": "deepseek",
          "description": "Enumeration for LLM selection in semantic analysis pipelines, maps model identifiers to API-compatible string values.",
          "references": [],
          "methods": []
        },
        {
          "name": "AnalysisError",
          "lines": "69-71",
          "tokens": 18,
          "content_hash": "bddbaffdc90faf3eb233920807773851",
          "analyzed_by": "deepseek",
          "description": "Custom exception for code analysis failures, integrates with error handling in semantic indexing workflows.",
          "references": [],
          "methods": []
        },
        {
          "name": "ImportInfo",
          "lines": "137-140",
          "tokens": 22,
          "content_hash": "ecd7005c8423689b058edb3eece543ac",
          "analyzed_by": "deepseek",
          "description": "Data structure for tracking import metadata in source code, used for dependency analysis and token counting within semantic indexing workflows.",
          "references": [],
          "methods": []
        },
        {
          "name": "GlobalsInfo",
          "lines": "144-147",
          "tokens": 22,
          "content_hash": "fcd39149c66c8005ce01578650dbb4d4",
          "analyzed_by": "deepseek",
          "description": "Static metadata container for source code analysis, storing raw lines, extracted global identifiers, and token count for indexing.",
          "references": [],
          "methods": []
        },
        {
          "name": "ClassInfo",
          "lines": "151-159",
          "tokens": 48,
          "content_hash": "9ce912969124fd32acb3e779d83824bb",
          "analyzed_by": "deepseek",
          "description": "Data class for storing extracted Python class metadata, used for semantic indexing and analysis pipelines.",
          "references": [],
          "methods": []
        },
        {
          "name": "FunctionInfo",
          "lines": "163-170",
          "tokens": 42,
          "content_hash": "f131828538db649cce3cc3ef98357f73",
          "analyzed_by": "qwen",
          "description": "Stores metadata about a function including name, content, token count, hash, analysis source, description, and references. Used for semantic indexing and analysis.",
          "references": [],
          "methods": []
        },
        {
          "name": "FileIndex",
          "lines": "174-186",
          "tokens": 123,
          "content_hash": "9ac007ac5cb9e178a6e05d34633c3a26",
          "analyzed_by": "qwen",
          "description": "Represents metadata and semantic information about a source file, including path, hash, token/line counts, imports, globals, description, and contained classes/functions.",
          "references": [],
          "methods": []
        },
        {
          "name": "IndexStats",
          "lines": "190-206",
          "tokens": 169,
          "content_hash": "69612651cf3f9150f384f43b713c2925",
          "analyzed_by": "qwen",
          "description": "Tracks indexing statistics and error logs for semantic analysis, including model usage, file operations, and performance metrics.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "ContentHasher",
          "lines": "211-230",
          "tokens": 161,
          "content_hash": "47116f6845876a02b3c4e4bbc98e2c4b",
          "analyzed_by": "qwen",
          "description": "Generates MD5 hashes for files, content strings, and code blocks, handling errors like file access issues.",
          "references": [
            "code.splitlines",
            "content.encode",
            "f.read",
            "hasher.hexdigest",
            "hasher.update",
            "hashlib.md5",
            "line.rstrip",
            "normalized.encode",
            "path.open"
          ],
          "methods": [
            "hash_file",
            "hash_content",
            "hash_code_block"
          ]
        },
        {
          "name": "ResponseParser",
          "lines": "235-360",
          "tokens": 989,
          "content_hash": "5834887f3a809b43530ad75993767f79",
          "analyzed_by": "qwen",
          "description": "Parses and cleans AI-generated responses by removing thinking blocks, markdown, and prefixes, ensuring clean, meaningful output. Integrates with IndexStats for tracking parsing recoveries.",
          "references": [
            "cleaned.lower",
            "cleaned.strip",
            "line.lower",
            "line.strip",
            "lower.startswith",
            "meaningful_lines.append",
            "original.strip",
            "prefix.lower",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.MULTILINE",
            "re.match",
            "re.sub",
            "response.strip",
            "stats.parse_recoveries",
            "text.endswith",
            "text.lower",
            "text.startswith",
            "text.strip",
            "truncated.rfind"
          ],
          "methods": [
            "parse",
            "_extract_first_meaningful",
            "is_valid_description"
          ]
        },
        {
          "name": "AIClient",
          "lines": "365-564",
          "tokens": 1658,
          "content_hash": "eed61e79281764bd60c8e8d4a5325da6",
          "analyzed_by": "qwen",
          "description": "Coordinates AI-based code analysis with Qwen and DeepSeek models, including fallback logic, token tracking, and error handling. Integrates with TokenCounter, IndexStats, and ResponseParser.",
          "references": [
            "AnalyzerModel.DEEPSEEK",
            "AnalyzerModel.QWEN",
            "DEEPSEEK_CLASS_PROMPT.format",
            "DEEPSEEK_FUNCTION_PROMPT.format",
            "FILE_SUMMARY_PROMPT.format",
            "IndexStats",
            "QWEN_CLASS_PROMPT.format",
            "QWEN_FUNCTION_PROMPT.format",
            "ResponseParser",
            "TokenCounter",
            "asyncio.Semaphore",
            "asyncio.sleep",
            "cfg.DEEPSEEK_API_KEY",
            "cfg.DEEPSEEK_BASE_URL",
            "cfg.MODEL_NORMAL",
            "cfg.MODEL_QWEN",
            "cfg.OPENROUTER_API_KEY",
            "cfg.OPENROUTER_BASE_URL",
            "client.post",
            "httpx.AsyncClient",
            "httpx.TimeoutException",
            "json.JSONDecodeError",
            "logger.error",
            "logger.warning",
            "response.json",
            "response.status_code",
            "response.text"
          ],
          "methods": [
            "__init__",
            "analyze_class",
            "analyze_function",
            "summarize_file",
            "_analyze_with_qwen_fallback",
            "_analyze_with_deepseek",
            "_call_qwen",
            "_call_deepseek"
          ]
        },
        {
          "name": "ReferenceExtractor",
          "lines": "569-626",
          "tokens": 520,
          "content_hash": "0c62bfa3dce5f1746a931c88ee0f455c",
          "analyzed_by": "qwen",
          "description": "Extracts referenced functions, methods, and attributes from Python code using AST parsing and regex fallback, filtering out built-in names.",
          "references": [
            "Visitor",
            "ast.Attribute",
            "ast.Name",
            "ast.NodeVisitor",
            "ast.parse",
            "current.attr",
            "current.id",
            "current.value",
            "match.group",
            "node.attr",
            "node.func",
            "node.value",
            "parts.append",
            "parts.reverse",
            "re.finditer",
            "ref.split",
            "references.add"
          ],
          "methods": [
            "extract"
          ]
        },
        {
          "name": "AsyncFileProcessor",
          "lines": "631-703",
          "tokens": 531,
          "content_hash": "17662438f2ad7c14ff3bed16290484ab",
          "analyzed_by": "qwen",
          "description": "Manages asynchronous file processing with a concurrency limit of 25 workers, supports batch processing and progress tracking. Integrates with custom processing functions and file I/O via aiofiles.",
          "references": [
            "aiofiles.open",
            "asyncio.Semaphore",
            "asyncio.as_completed",
            "asyncio.create_task",
            "f.read",
            "logger.error",
            "process_func",
            "progress_callback",
            "results.append",
            "tasks.append"
          ],
          "methods": [
            "__init__",
            "process_files_batch",
            "_process_file_with_limit",
            "read_file_content"
          ]
        },
        {
          "name": "ParallelChunkProcessor",
          "lines": "706-752",
          "tokens": 353,
          "content_hash": "356ad54e742adce393f7e658afe82b43",
          "analyzed_by": "qwen",
          "description": "Processes file chunking in parallel using multiple processes, integrates with SmartPythonChunker for parsing and structuring Python files.",
          "references": [
            "ThreadPoolExecutor",
            "asyncio.get_event_loop",
            "chunker.chunk_file_to_tree",
            "logger.error",
            "loop.run_in_executor",
            "multiprocessing.cpu_count",
            "tasks.append"
          ],
          "methods": [
            "__init__",
            "chunk_files_parallel",
            "_chunk_single_file"
          ]
        },
        {
          "name": "SemanticIndexer",
          "lines": "755-1916",
          "tokens": 10339,
          "content_hash": "5b539eb85aaa7ef61e2e053488dc8c64",
          "analyzed_by": "qwen",
          "description": "Incremental semantic indexer for Python files in a directory, supporting parallel processing, caching, and compressed index updates. Integrates with AI analysis, token counting, and reference extraction.",
          "references": [
            "AIClient",
            "AsyncFileProcessor",
            "ClassInfo",
            "ContentHasher",
            "FileIndex",
            "FunctionInfo",
            "GlobalsInfo",
            "ImportInfo",
            "IndexStats",
            "ParallelChunkProcessor",
            "Path",
            "ReferenceExtractor",
            "SmartPythonChunker",
            "TokenCounter",
            "ai_agent_dir.mkdir",
            "alias.name",
            "all_file_indices.extend",
            "asdict",
            "ast.AnnAssign",
            "ast.Assign",
            "ast.Import",
            "ast.ImportFrom",
            "ast.Name",
            "ast.parse",
            "ast.walk",
            "asyncio.Lock",
            "asyncio.Semaphore",
            "asyncio.gather",
            "by_dir.keys",
            "c.get",
            "c.kind",
            "c.name",
            "changed_files.add",
            "changes.get",
            "child.kind",
            "class_descriptions.append",
            "class_info.description",
            "class_info.name",
            "class_node.children",
            "class_node.content",
            "class_node.end_line",
            "class_node.name",
            "class_node.start_line",
            "class_node.tokens",
            "classes.append",
            "code.splitlines",
            "compact_files.append",
            "compact_files.sort",
            "compact_index.get",
            "compact_path.exists",
            "compact_path.open",
            "compressed.get",
            "current_files.add",
            "current_paths.items",
            "current_paths.keys",
            "data.get",
            "datetime.now",
            "deleted_files.add",
            "end_time.isoformat",
            "existing_file_data.get",
            "existing_files.get",
            "existing_files.keys",
            "f.get",
            "f.relative_to",
            "f.write",
            "file_data.get",
            "file_data.tokens_total",
            "file_info.get",
            "file_path.exists",
            "file_path.name",
            "file_path.read_text",
            "file_path.relative_to",
            "files.append",
            "full_index.get",
            "func.get",
            "func_descriptions.append",
            "func_info.description",
            "func_info.name",
            "func_node.content",
            "func_node.end_line",
            "func_node.name",
            "func_node.start_line",
            "func_node.tokens",
            "functions.append",
            "globals_node.content",
            "globals_node.end_line",
            "globals_node.start_line",
            "globals_node.tokens",
            "imports_info.get",
            "imports_node.content",
            "imports_node.end_line",
            "imports_node.start_line",
            "imports_node.tokens",
            "index_path.exists",
            "index_path.open",
            "item.relative_to",
            "json.JSONDecodeError",
            "json.dump",
            "json.load",
            "json_path.open",
            "lines.append",
            "logger.error",
            "logger.info",
            "logger.warning",
            "md_path.open",
            "modules.append",
            "modules.extend",
            "move.get",
            "names.append",
            "new_data.get",
            "node.module",
            "node.names",
            "node.target",
            "node.targets",
            "old_data.get",
            "output_path.open",
            "part.startswith",
            "path.exists",
            "path.name",
            "path.open",
            "path.parent",
            "path.relative_to",
            "process_file",
            "process_file_wrapper",
            "process_one",
            "relative_path.replace",
            "start_time.isoformat",
            "target.id",
            "timezone.utc",
            "tree.body",
            "tree.children",
            "tree_node.children"
          ],
          "methods": [
            "__init__",
            "_report_progress",
            "index_files_batch",
            "_collect_python_files",
            "_get_index_path",
            "_get_compact_index_path",
            "_get_compact_md_path",
            "_get_compressed_index_path",
            "_compressed_index_exists",
            "_load_compressed_index",
            "_save_compressed_index",
            "_update_compressed_index",
            "_load_existing_index",
            "_get_existing_file_data",
            "_get_cached_class",
            "_get_cached_function",
            "_parse_imports",
            "_parse_globals",
            "_analyze_class",
            "_analyze_function",
            "index_file",
            "_dict_to_file_index",
            "_generate_compact_index",
            "_format_compact_for_context",
            "build_index_async",
            "_save_full_index",
            "_save_compact_index",
            "get_compact_context",
            "stats",
            "_recalculate_total_tokens",
            "_save_both_indexes",
            "_find_file_by_hash",
            "detect_changed_files",
            "update_single_file",
            "update_files_batch",
            "sync_index"
          ]
        },
        {
          "name": "IndexFileWatcher",
          "lines": "1923-2084",
          "tokens": 1326,
          "content_hash": "31e9f9b7e9ead4c8ec0ccb17dfe4d6d2",
          "analyzed_by": "deepseek",
          "description": "File system watcher for real-time semantic index updates using watchdog, implements debounced batch processing with async event handling.",
          "references": [
            "Handler",
            "ImportError",
            "Observer",
            "Path",
            "asyncio.Lock",
            "asyncio.Task",
            "asyncio.get_event_loop",
            "asyncio.run_coroutine_threadsafe",
            "asyncio.sleep",
            "changes.items",
            "datetime.now",
            "deleted.append",
            "event.event_type",
            "event.is_directory",
            "event.src_path",
            "file_path.exists",
            "logger.error",
            "logger.info",
            "loop.create_task",
            "modified.append",
            "part.startswith",
            "path.relative_to",
            "timezone.utc",
            "watcher._add_change",
            "watcher.indexer"
          ],
          "methods": [
            "__init__",
            "start",
            "stop",
            "_add_change",
            "_process_changes_loop",
            "_process_batch"
          ]
        }
      ],
      "functions": [
        {
          "name": "get_project_context",
          "lines": "2089-2092",
          "tokens": 42,
          "content_hash": "15bb5311270c021d085119c494be6225",
          "analyzed_by": "deepseek",
          "description": "Semantic project indexer for AI context generation, integrates with a semantic indexing system to produce compact project maps.",
          "references": [
            "SemanticIndexer",
            "indexer.get_compact_context"
          ]
        },
        {
          "name": "load_compact_index",
          "lines": "2095-2101",
          "tokens": 72,
          "content_hash": "dc29b40d2e87232dbe4ab6b45b222128",
          "analyzed_by": "deepseek",
          "description": "JSON loader for semantic index files with path validation and UTF-8 encoding.",
          "references": [
            "Path",
            "compact_path.exists",
            "compact_path.open",
            "json.load"
          ]
        },
        {
          "name": "create_chunks_list_for_prefilter",
          "lines": "2103-2149",
          "tokens": 362,
          "content_hash": "fb577c0df36859598fb7f9c83d4de538",
          "analyzed_by": "deepseek",
          "description": "Extracts and serializes class/function metadata from a semantic index into a JSON list for pre-filtering, enabling semantic matching and method-based selection.",
          "references": [
            "chunks.append",
            "chunks.sort",
            "file_info.get",
            "func.get",
            "index.get",
            "json.dumps"
          ]
        },
        {
          "name": "count_total_chunks",
          "lines": "2152-2158",
          "tokens": 75,
          "content_hash": "8de06e4b6e4ba5a04b95acf567ce53af",
          "analyzed_by": "deepseek",
          "description": "Recursive traversal function for semantic code index analysis, aggregates class and function counts across file metadata.",
          "references": [
            "file_data.get",
            "index.get"
          ]
        },
        {
          "name": "create_chunks_list_for_prefilter_compressed",
          "lines": "2160-2208",
          "tokens": 394,
          "content_hash": "c3ab6c843f25dec605db0d5743b46685",
          "analyzed_by": "deepseek",
          "description": "Extracts class and function metadata from a compressed semantic index to generate a sorted JSON list of code chunks for pre-filtering.",
          "references": [
            "chunks.append",
            "chunks.sort",
            "func.get",
            "index.get",
            "json.dumps",
            "m.strip",
            "methods_str.split"
          ]
        },
        {
          "name": "create_chunks_list_auto",
          "lines": "2211-2223",
          "tokens": 86,
          "content_hash": "5d339daab1bb3179dacda6817f4c3bbd",
          "analyzed_by": "deepseek",
          "description": "Automatic dispatch function for semantic index chunk extraction, routes to compressed or regular format handlers based on index metadata.",
          "references": [
            "create_chunks_list_for_prefilter",
            "create_chunks_list_for_prefilter_compressed",
            "index.get"
          ]
        },
        {
          "name": "count_total_chunks_compressed",
          "lines": "2226-2228",
          "tokens": 44,
          "content_hash": "c0b28aff55285652d86bc757be8cba6e",
          "analyzed_by": "deepseek",
          "description": "Chunk counter for compressed semantic index structures, aggregates class and function metadata counts.",
          "references": [
            "index.get"
          ]
        },
        {
          "name": "count_total_chunks_auto",
          "lines": "2231-2235",
          "tokens": 51,
          "content_hash": "ac0508eea797913ea7553036dca7ab1c",
          "analyzed_by": "qwen",
          "description": "Counts total chunks in an index, automatically selecting between compressed and standard formats.",
          "references": [
            "count_total_chunks",
            "count_total_chunks_compressed",
            "index.get"
          ]
        },
        {
          "name": "main",
          "lines": "2240-2386",
          "tokens": 1403,
          "content_hash": "113c27d2211efcf2f54b908cfbd47fc1",
          "analyzed_by": "qwen",
          "description": "Builds a semantic index of files with support for sync, watch, and single-file update modes, integrating with multiprocessing and async task handling for efficient indexing.",
          "references": [
            "IndexFileWatcher",
            "Path",
            "SemanticIndexer",
            "argparse.ArgumentParser",
            "args.concurrent",
            "args.detect_changes",
            "args.force",
            "args.processes",
            "args.sync",
            "args.target_path",
            "args.update_file",
            "args.watch",
            "asyncio.sleep",
            "f.name",
            "file_path.is_absolute",
            "indexer.build_index_async",
            "indexer.detect_changed_files",
            "indexer.progress_callback",
            "indexer.stats",
            "indexer.sync_index",
            "indexer.update_single_file",
            "logging.INFO",
            "logging.basicConfig",
            "multiprocessing.cpu_count",
            "parser.add_argument",
            "parser.parse_args",
            "stats.deepseek_calls",
            "stats.deepseek_successes",
            "stats.errors",
            "stats.fallback_to_deepseek",
            "stats.files_added",
            "stats.files_indexed",
            "stats.files_removed",
            "stats.files_skipped",
            "stats.files_updated",
            "stats.indexing_duration_seconds",
            "stats.parse_recoveries",
            "stats.qwen_calls",
            "stats.qwen_successes",
            "watcher.start",
            "watcher.stop"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:04:36.876358+00:00"
    },
    "app/core/__init__.py": {
      "name": "__init__.py",
      "path": "app/core/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\core\\__init__.py",
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "tokens_total": 0,
      "lines_total": 0,
      "imports": null,
      "globals": null,
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-12T11:00:35.307837+00:00"
    },
    "app/llm/__init__.py": {
      "name": "__init__.py",
      "path": "app/llm/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\llm\\__init__.py",
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "tokens_total": 0,
      "lines_total": 0,
      "imports": null,
      "globals": null,
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-12T11:00:35.307837+00:00"
    },
    "app/llm/api_client.py": {
      "name": "api_client.py",
      "path": "app/llm/api_client.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\llm\\api_client.py",
      "file_hash": "a521c206f6ef1f2b64cde72903f28f97",
      "tokens_total": 7439,
      "lines_total": 951,
      "imports": {
        "lines": "16-28",
        "modules": [
          "__future__.annotations",
          "json",
          "asyncio",
          "logging",
          "time",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "dataclasses.dataclass",
          "dataclasses.field",
          "enum.Enum",
          "httpx",
          "config.settings.cfg"
        ],
        "tokens": 53
      },
      "globals": {
        "lines": "31-730",
        "names": [
          "logger",
          "REQUEST_TIMEOUT",
          "MAX_RETRIES",
          "RETRY_BASE_DELAY",
          "CONCURRENT_REQUESTS",
          "RATE_LIMIT_MAX_RETRIES",
          "RATE_LIMIT_BASE_DELAY",
          "RATE_LIMIT_MAX_DELAY",
          "RETRYABLE_ERROR_PATTERNS",
          "CONTEXT_OVERFLOW_PATTERNS",
          "MESSAGE_STRUCTURE_PATTERNS",
          "_default_client"
        ],
        "tokens": 340
      },
      "description": "Universal LLM client with multi-provider support, automatic routing, and standardized request/response handling for external AI service integration.",
      "classes": [
        {
          "name": "APIProvider",
          "lines": "45-49",
          "tokens": 38,
          "content_hash": "5f677b1d521e881303562fd423f5d9e5",
          "analyzed_by": "qwen",
          "description": "Defines an enumeration of supported API providers for external AI services.",
          "references": [],
          "methods": []
        },
        {
          "name": "LLMResponse",
          "lines": "53-78",
          "tokens": 328,
          "content_hash": "e09366d0168a9007763712a3d8da1c71",
          "analyzed_by": "qwen",
          "description": "Standardizes responses from LLM APIs with metadata tracking, including token usage, cost, latency, and model-specific reasoning details. Integrates with API providers for compatibility and diagnostics.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "LLMRequest",
          "lines": "83-92",
          "tokens": 106,
          "content_hash": "0a8ff2e07abda94d94572842f11889f5",
          "analyzed_by": "qwen",
          "description": "Standardized structure for LLM requests with configurable parameters like model, temperature, and tools. Designed for compatibility with various LLM APIs.",
          "references": [],
          "methods": []
        },
        {
          "name": "ModelRouter",
          "lines": "183-213",
          "tokens": 348,
          "content_hash": "7f7b32b115dd8b00a26d51c0e4f113ce",
          "analyzed_by": "qwen",
          "description": "Routes model names to the appropriate API provider and endpoint based on configuration, returning connection details like provider, API key, base URL, and extra parameters. Integrates with settings.py for centralized configuration.",
          "references": [
            "APIProvider.OPENROUTER",
            "cfg.get_model_connection_config",
            "config_data.get",
            "p.value",
            "provider_name.lower"
          ],
          "methods": [
            "get_connection_details"
          ]
        },
        {
          "name": "LLMClient",
          "lines": "217-724",
          "tokens": 4314,
          "content_hash": "18d5ef78c05cbda3dd60e9bac28acaf3",
          "analyzed_by": "qwen",
          "description": "Universal LLM client with multi-provider support (DeepSeek, Anthropic, Gemini, etc.), featuring automatic model routing, retry logic, rate limit handling, tool calling, and extended thinking support for Claude models. Integrates with ModelRouter for connection details and tracks usage statistics.",
          "references": [
            "APIProvider.DEEPSEEK",
            "APIProvider.OPENROUTER",
            "ContextOverflowError",
            "LLMAPIError",
            "LLMRequest",
            "LLMResponse",
            "MessageStructureError",
            "ModelRouter.get_connection_details",
            "RateLimitError",
            "RetryableError",
            "asyncio.Semaphore",
            "asyncio.sleep",
            "body.get",
            "cfg.MODEL_GEMINI_2_FLASH",
            "cfg.MODEL_GEMINI_3_PRO",
            "cfg.MODEL_NORMAL",
            "cfg.MODEL_OPUS_4_5",
            "cfg.MODEL_QWEN",
            "cfg.MODEL_SONNET_4_5",
            "choice.get",
            "classify_error",
            "client.post",
            "conn_details.get",
            "detail.get",
            "extra_content.get",
            "httpx.AsyncClient",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "message.get",
            "msg.get",
            "pricing.get",
            "provider.value",
            "request.max_tokens",
            "request.messages",
            "request.model",
            "request.temperature",
            "request.tool_choice",
            "request.tools",
            "request.top_p",
            "response.get",
            "response.json",
            "response.status_code",
            "response.text",
            "result.cost_usd",
            "result.total_tokens",
            "tc.get",
            "time.time",
            "tool_calls.append",
            "usage.get"
          ],
          "methods": [
            "__init__",
            "call",
            "call_with_tools",
            "_execute_with_retry",
            "_make_request",
            "_parse_response",
            "_estimate_cost",
            "stats"
          ]
        },
        {
          "name": "LLMAPIError",
          "lines": "896-901",
          "tokens": 56,
          "content_hash": "bac343f8bed507991f309b909b8e47d2",
          "analyzed_by": "qwen",
          "description": "Base exception class for LLM API errors, with support for error type and message attributes.",
          "references": [],
          "methods": [
            "__init__"
          ]
        },
        {
          "name": "RateLimitError",
          "lines": "904-907",
          "tokens": 42,
          "content_hash": "808c4658e74dc2106b1d4b9831eb5280",
          "analyzed_by": "qwen",
          "description": "Represents a rate limit error (HTTP 429) for the LLM API client, extending the base LLMAPIError with a specific error type.",
          "references": [],
          "methods": [
            "__init__"
          ]
        },
        {
          "name": "RetryableError",
          "lines": "910-913",
          "tokens": 49,
          "content_hash": "4ba87a5ce7ecf9618fd80985dd2c74f7",
          "analyzed_by": "qwen",
          "description": "Represents errors from the API that are retryable, such as 5xx server errors or network issues. Inherits from LLMAPIError and identifies itself as a \"retryable\" error type.",
          "references": [],
          "methods": [
            "__init__"
          ]
        },
        {
          "name": "ContextOverflowError",
          "lines": "916-919",
          "tokens": 43,
          "content_hash": "c8f6ae357696c32a497596711978d2a4",
          "analyzed_by": "qwen",
          "description": "Represents an error when the context or token limit is exceeded in an API call, requiring input compression.",
          "references": [],
          "methods": [
            "__init__"
          ]
        },
        {
          "name": "MessageStructureError",
          "lines": "922-925",
          "tokens": 46,
          "content_hash": "2950c12e495a1bee4f028cfc8e85adc4",
          "analyzed_by": "qwen",
          "description": "Represents an error for invalid message structures in API communication, such as missing thought_signature or empty parts.",
          "references": [],
          "methods": [
            "__init__"
          ]
        }
      ],
      "functions": [
        {
          "name": "classify_error",
          "lines": "145-178",
          "tokens": 269,
          "content_hash": "48def6cf24831df910b0a32892c0e8c0",
          "analyzed_by": "qwen",
          "description": "Classifies API error messages into categories such as retryable, rate_limit, context_overflow, message_structure, or fatal based on predefined patterns. Used to determine appropriate error handling strategies in API client operations.",
          "references": [
            "error_message.lower"
          ]
        },
        {
          "name": "get_client",
          "lines": "733-738",
          "tokens": 47,
          "content_hash": "08670a93671e36ba5d7fa83fb4b06eed",
          "analyzed_by": "qwen",
          "description": "Provides a global default LLM client instance, creating it if it doesn't already exist.",
          "references": [
            "LLMClient"
          ]
        },
        {
          "name": "call_llm",
          "lines": "741-762",
          "tokens": 117,
          "content_hash": "28b5e1271353aa2d7bfaafcfba7f916a",
          "analyzed_by": "qwen",
          "description": "Calls a language model asynchronously with specified parameters and returns the response content as a string. Integrates with a client for model inference.",
          "references": [
            "client.call",
            "get_client",
            "response.content"
          ]
        },
        {
          "name": "call_llm_full",
          "lines": "765-795",
          "tokens": 186,
          "content_hash": "ad759f2fbfc47e48ce5c24d2a86dc4bd",
          "analyzed_by": "qwen",
          "description": "Calls an LLM and returns the full response object with metadata such as finish reason, token counts, latency, and raw response; used to detect truncation and debug. Integrates with an async client for model execution.",
          "references": [
            "client.call",
            "get_client"
          ]
        },
        {
          "name": "call_llm_with_tools",
          "lines": "798-829",
          "tokens": 225,
          "content_hash": "10aee833bf645474c1725b4f06722732",
          "analyzed_by": "qwen",
          "description": "Invokes an LLM with tool integration support, returning structured output including content, tool calls, and reasoning details. Integrates with an async API client for model execution.",
          "references": [
            "client.call_with_tools",
            "get_client",
            "response.content",
            "response.raw_response",
            "response.reasoning_content",
            "response.reasoning_details",
            "response.thought_signature",
            "response.tool_calls"
          ]
        },
        {
          "name": "get_model_for_role",
          "lines": "833-862",
          "tokens": 256,
          "content_hash": "ebeb9818147269830be017258721a302",
          "analyzed_by": "qwen",
          "description": "Returns the configured model identifier for a given agent role, using predefined constants or a mapping dictionary; raises ValueError for unknown roles.",
          "references": [
            "ValueError",
            "cfg.AGENT_MODELS",
            "cfg.ORCHESTRATOR_COMPLEX_MODEL",
            "cfg.ORCHESTRATOR_MEDIUM_MODEL",
            "cfg.ORCHESTRATOR_SIMPLE_MODEL",
            "cfg.ROUTER_MODEL"
          ]
        },
        {
          "name": "get_orchestrator_model",
          "lines": "865-885",
          "tokens": 134,
          "content_hash": "22e2943e049b3880b7e2579a29ca0218",
          "analyzed_by": "qwen",
          "description": "Selects an orchestrator model based on task complexity and configuration mode, using settings from cfg.get_orchestrator_model_config(). Returns either a fixed model or a complex/simple model depending on the input and configuration.",
          "references": [
            "cfg.get_orchestrator_model_config"
          ]
        },
        {
          "name": "is_router_enabled",
          "lines": "888-890",
          "tokens": 24,
          "content_hash": "f15dfd20d4cf1b2de5a1146adc8775ae",
          "analyzed_by": "qwen",
          "description": "Returns whether the automatic router feature is enabled based on the configuration.",
          "references": [
            "cfg.ROUTER_ENABLED"
          ]
        },
        {
          "name": "is_context_overflow_error",
          "lines": "930-939",
          "tokens": 72,
          "content_hash": "5db2a895f74614b07f17b35de358ed8f",
          "analyzed_by": "qwen",
          "description": "Determines if an error is a context overflow error by checking its type or message against predefined patterns.",
          "references": []
        },
        {
          "name": "is_message_structure_error",
          "lines": "942-951",
          "tokens": 73,
          "content_hash": "fa0b8756347e776fc7694325bdb7d2fc",
          "analyzed_by": "qwen",
          "description": "Determines if an error is related to message structure by checking its type or message content. Used for handling external API response errors.",
          "references": []
        }
      ],
      "last_indexed": "2026-01-03T20:05:23.639703+00:00"
    },
    "app/llm/prompt_templates.py": {
      "name": "prompt_templates.py",
      "path": "app/llm/prompt_templates.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\llm\\prompt_templates.py",
      "file_hash": "b9e5090797056e7a260523c3ce9affa4",
      "tokens_total": 64131,
      "lines_total": 5414,
      "imports": {
        "lines": "21-23",
        "modules": [
          "logging",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "config.settings.Config"
        ],
        "tokens": 19
      },
      "globals": {
        "lines": "36-5083",
        "names": [
          "logger",
          "MAX_WEB_SEARCH_CALLS",
          "MODEL_COGNITIVE_TYPES",
          "_ADAPTIVE_BLOCK_CLAUDE_DELEGATION",
          "_ADAPTIVE_BLOCK_ASK_DEEP_THINKER",
          "_ADAPTIVE_BLOCK_ASK_REASONER",
          "_ADAPTIVE_BLOCK_EXECUTOR",
          "_ADAPTIVE_BLOCK_NEW_PROJECT_DEEP_THINKER",
          "_ADAPTIVE_BLOCK_NEW_PROJECT_REASONER",
          "PREFILTER_SYSTEM_PROMPT",
          "PREFILTER_USER_PROMPT",
          "ORCHESTRATOR_SYSTEM_PROMPT_ASK",
          "ORCHESTRATOR_USER_PROMPT_ASK",
          "ORCHESTRATOR_SYSTEM_PROMPT_NEW_PROJECT",
          "ORCHESTRATOR_USER_PROMPT_NEW_PROJECT",
          "CODE_GENERATOR_SYSTEM_PROMPT",
          "CODE_GENERATOR_USER_PROMPT",
          "HISTORY_COMPRESSOR_TOOL_RESULT_PROMPT",
          "HISTORY_COMPRESSOR_REASONING_PROMPT",
          "AI_VALIDATOR_SYSTEM_PROMPT",
          "AI_VALIDATOR_USER_PROMPT",
          "_AGENT_MODE_INSTRUCTION_FORMAT",
          "_AGENT_MODE_RESPONSE_FORMAT",
          "ORCHESTRATOR_SYSTEM_PROMPT_ASK_AGENT",
          "ORCHESTRATOR_USER_PROMPT_ASK_AGENT",
          "ORCHESTRATOR_SYSTEM_PROMPT_NEW_PROJECT_AGENT",
          "ORCHESTRATOR_USER_PROMPT_NEW_PROJECT_AGENT",
          "CODE_GENERATOR_SYSTEM_PROMPT_AGENT",
          "CODE_GENERATOR_USER_PROMPT_AGENT"
        ],
        "tokens": 799
      },
      "description": "Centralized prompt template generator for multi-agent AI workflows, dynamically adapting instructions based on model cognitive type classification and operational mode (ASK/NEW PROJECT/AGENT).",
      "classes": [],
      "functions": [
        {
          "name": "get_model_cognitive_type",
          "lines": "76-136",
          "tokens": 621,
          "content_hash": "d29dd92bc88696ba07b1e7bf4ad7517a",
          "analyzed_by": "qwen",
          "description": "Determines the cognitive type (deep_thinker, executor, reasoner, or general) of a model based on its ID using fuzzy matching and pattern recognition. Integrates with a predefined dictionary (MODEL_COGNITIVE_TYPES) for exact matches when available.",
          "references": [
            "model_id.lower"
          ]
        },
        {
          "name": "_build_adaptive_block_ask_deep_thinker",
          "lines": "143-360",
          "tokens": 2726,
          "content_hash": "a88a937098136ddb551721dc8fc59aff",
          "analyzed_by": "qwen",
          "description": "Generates a structured prompt template for deep_thinker models (like Claude Opus/Sonnet) to enforce a specific instruction format for code generation, ensuring clarity, specificity, and actionable steps for downstream agents. Integrates with multi-agent workflows by defining roles, delegation protocols, and quality checks for consistent and reliable code output.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_adaptive_block_ask_reasoner",
          "lines": "363-508",
          "tokens": 1606,
          "content_hash": "294467ccab34bcf15764518d541a3cd7",
          "analyzed_by": "qwen",
          "description": "Constructs a structured prompt template for reasoning models (like DeepSeek V3.2) in ASK mode, emphasizing dependency analysis, file detection strategies, ambiguity resolution, and comprehensive code review. Integrates with code search and file-reading tools to enhance model accuracy and context awareness.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_adaptive_block_executor",
          "lines": "511-597",
          "tokens": 1456,
          "content_hash": "5d33428d881b79c366425f655eebd0a8",
          "analyzed_by": "qwen",
          "description": "Constructs a structured prompt template for executor models (GPT-5.1 Codex Max) in ASK mode, enforcing strict formatting rules to ensure parser compatibility and correct instruction execution.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_adaptive_block_new_project_deep_thinker",
          "lines": "600-737",
          "tokens": 1515,
          "content_hash": "d4c5b04003e31bcd4c5cd784e6e13c5a",
          "analyzed_by": "qwen",
          "description": "Generates a structured prompt template for orchestrating new code generation projects using deep_thinker models, defining project foundations, file specifications, dependency layers, and quality checks.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_adaptive_block_new_project_reasoner",
          "lines": "740-848",
          "tokens": 1126,
          "content_hash": "b2e4a7b66124cf20c62052216615789e",
          "analyzed_by": "qwen",
          "description": "Constructs a structured prompt template for reasoning-based project generation using DeepSeek V3.2, emphasizing dependency analysis, self-verification, complexity routing, and complete file mapping. Integrates with project generation workflows to ensure coherent, layered, and error-free code outputs.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_adaptive_block_claude_delegation",
          "lines": "856-902",
          "tokens": 745,
          "content_hash": "01a10c35ce78ff34b669217c8ef202b4",
          "analyzed_by": "qwen",
          "description": "Generates a structured prompt template for Claude Opus 4.5 and Sonnet 4.5 models to enforce high-level architectural delegation, ensuring the model focuses on strategic design rather than code implementation.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_get_adaptive_block_ask",
          "lines": "916-940",
          "tokens": 175,
          "content_hash": "36fa2655eacb81a51fa576bd370138ad",
          "analyzed_by": "qwen",
          "description": "Returns a model-specific adaptive prompt block for ASK mode based on cognitive type, enhancing standard prompts for deep thinkers and reasoners; returns empty string for general or executor types.",
          "references": [
            "get_model_cognitive_type"
          ]
        },
        {
          "name": "_get_adaptive_block_new_project",
          "lines": "943-964",
          "tokens": 154,
          "content_hash": "fb6c8a62e3379b74e2a65e2490eb08ea",
          "analyzed_by": "qwen",
          "description": "Returns an adaptive prompt block for NEW PROJECT mode based on the model's cognitive type, adjusting for tendencies like over-architecting in deep_thinker models. Integrates with model cognitive type classification.",
          "references": [
            "get_model_cognitive_type"
          ]
        },
        {
          "name": "_get_adaptive_block_ask_agent",
          "lines": "967-1002",
          "tokens": 310,
          "content_hash": "75027e5a9c2989674f0feced5219319e",
          "analyzed_by": "qwen",
          "description": "Returns an adaptive prompt block for AGENT MODE (ASK) tailored to the model's cognitive type, with an additional delegation block specifically for Claude Opus 4.5 and Sonnet 4.5 models.",
          "references": [
            "Config.MODEL_OPUS_4_5",
            "Config.MODEL_SONNET_4_5",
            "get_model_cognitive_type"
          ]
        },
        {
          "name": "_get_adaptive_block_new_project_agent",
          "lines": "1005-1038",
          "tokens": 293,
          "content_hash": "48050fc04aae3e1e2394d2463be60df0",
          "analyzed_by": "qwen",
          "description": "Generates an adaptive prompt block for new projects in agent mode based on model type, with special delegation logic for Claude Opus 4.5 and Sonnet 4.5.",
          "references": [
            "Config.MODEL_OPUS_4_5",
            "Config.MODEL_SONNET_4_5",
            "get_model_cognitive_type"
          ]
        },
        {
          "name": "_build_prefilter_system_prompt",
          "lines": "1044-1101",
          "tokens": 769,
          "content_hash": "983368e5c48eb1cfe03b2ff7a4f8d5ca",
          "analyzed_by": "qwen",
          "description": "Generates a system prompt for a pre-filter AI component that selects relevant code chunks based on user questions and project data, using semantic matching, direct mentions, dependencies, and context.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_prefilter_user_prompt",
          "lines": "1104-1123",
          "tokens": 180,
          "content_hash": "cd93a01cc49347bab3515c0e36927b23",
          "analyzed_by": "qwen",
          "description": "Constructs a prompt template for pre-filtering relevant code chunks based on a user's question, project structure, and available code descriptions. Used to guide selection of up to a specified number of chunks for further processing.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_orchestrator_system_prompt_ask",
          "lines": "1134-2147",
          "tokens": 13834,
          "content_hash": "0fa8965152509fe54486d806bdd880cd",
          "analyzed_by": "qwen",
          "description": "Generates a detailed system prompt template for an AI Orchestrator in \"Ask\" mode, defining workflows for debugging and feature implementation, with integration of code navigation, search, and dependency analysis tools.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_orchestrator_user_prompt_ask",
          "lines": "2150-2169",
          "tokens": 268,
          "content_hash": "9c3de947d434685372f955d49ced4aba",
          "analyzed_by": "qwen",
          "description": "Generates a structured prompt template for Orchestrator in ASK mode, guiding the response format for analysis and code generation instructions.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_orchestrator_system_prompt_new_project",
          "lines": "2181-2464",
          "tokens": 3756,
          "content_hash": "0068ea77964e64db272ac00e33ec5112",
          "analyzed_by": "qwen",
          "description": "Generates a detailed system prompt for an AI orchestrator in NEW PROJECT mode, guiding architectural design with dependency graphs, layered structure, and precise file instructions for code generation. Integrates with web_search for research and ensures compatibility with a code generation workflow.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_orchestrator_user_prompt_new_project",
          "lines": "2467-2474",
          "tokens": 65,
          "content_hash": "2181eb98356f41dc089b109ad9a84abc",
          "analyzed_by": "qwen",
          "description": "Constructs a user prompt template for the Orchestrator in NEW PROJECT mode by combining a label and the user's query.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_code_generator_system_prompt",
          "lines": "2485-2940",
          "tokens": 5994,
          "content_hash": "11183ffd58fec27ef46aaa96eeaa9daf",
          "analyzed_by": "qwen",
          "description": "Generates a detailed system prompt for a code generation AI, specifying rules for handling code modification tasks, formatting output with custom markers, and separating explanations from code. Integrates with Orchestrator instructions for precise code updates.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_code_generator_user_prompt",
          "lines": "2943-2982",
          "tokens": 631,
          "content_hash": "f3e364fbc12aaef7af666e1d1c934831",
          "analyzed_by": "qwen",
          "description": "Генерирует шаблон пользовательского запроса для кодогенератора, включающий инструкции, контекст существующего кода и проверочные списки для корректного формирования ответа.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_code_generator_user_prompt",
          "lines": "2985-3018",
          "tokens": 450,
          "content_hash": "d57c4073faee8049891cd73020e64854",
          "analyzed_by": "qwen",
          "description": "Generates a structured user prompt template for a code generation task, including sections for instructions, existing code, and validation checks.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_history_compressor_tool_result_prompt",
          "lines": "3029-3052",
          "tokens": 218,
          "content_hash": "82c4f57ec5da21c3079f03dde75e6177",
          "analyzed_by": "qwen",
          "description": "Generates a structured prompt for compressing tool results by specifying what to keep and remove, used to condense output while preserving key information.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_history_compressor_reasoning_prompt",
          "lines": "3055-3077",
          "tokens": 203,
          "content_hash": "1ffda36d2e14bf911f353369fc1dd7be",
          "analyzed_by": "qwen",
          "description": "Generates a structured prompt template for compressing AI-generated reasoning while preserving key conclusions and removing redundant details. Used to guide text reduction in post-processing workflows.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "format_prefilter_prompt",
          "lines": "3088-3103",
          "tokens": 115,
          "content_hash": "5b75df5a023817a7ba6d352a39fe610f",
          "analyzed_by": "qwen",
          "description": "Formats a system and user prompt for pre-filtering with variables like user query, chunks, and project map, using predefined templates.",
          "references": [
            "PREFILTER_SYSTEM_PROMPT.format",
            "PREFILTER_USER_PROMPT.format"
          ]
        },
        {
          "name": "format_orchestrator_prompt_ask",
          "lines": "3106-3156",
          "tokens": 440,
          "content_hash": "61b03385f78a8ba077fd64555b32e77c",
          "analyzed_by": "qwen",
          "description": "Formats Orchestrator prompts for ASK mode with adaptive blocks based on model type, integrating user queries, project maps, and conversation context.",
          "references": [
            "ORCHESTRATOR_SYSTEM_PROMPT_ASK.format",
            "ORCHESTRATOR_USER_PROMPT_ASK.format",
            "_get_adaptive_block_ask"
          ]
        },
        {
          "name": "format_orchestrator_prompt_new_project",
          "lines": "3159-3193",
          "tokens": 263,
          "content_hash": "14922470be6dca052b8a72a16561d933",
          "analyzed_by": "qwen",
          "description": "Formats Orchestrator prompts for new project mode with adaptive blocks based on model ID, returning system and user prompt strings. Integrates with web search limits and model-specific logic.",
          "references": [
            "ORCHESTRATOR_SYSTEM_PROMPT_NEW_PROJECT.format",
            "ORCHESTRATOR_USER_PROMPT_NEW_PROJECT.format",
            "_get_adaptive_block_new_project"
          ]
        },
        {
          "name": "format_orchestrator_prompt",
          "lines": "3196-3227",
          "tokens": 250,
          "content_hash": "b23cb70d07d2f10207eb1d330ac73fc3",
          "analyzed_by": "qwen",
          "description": "Formats orchestrator prompts for either new projects or existing queries, selecting the appropriate template based on the is_new_project flag. Integrates with model-specific configurations and search management.",
          "references": [
            "format_orchestrator_prompt_ask",
            "format_orchestrator_prompt_new_project"
          ]
        },
        {
          "name": "format_code_generator_prompt",
          "lines": "3230-3241",
          "tokens": 90,
          "content_hash": "832ed2f838d94cea0b8090e4f4798f79",
          "analyzed_by": "qwen",
          "description": "Formats prompts for a code generator by combining system and user instructions, using provided orchestrator instruction and optional file code.",
          "references": [
            "CODE_GENERATOR_USER_PROMPT.format"
          ]
        },
        {
          "name": "format_compression_prompt",
          "lines": "3244-3248",
          "tokens": 70,
          "content_hash": "ed6dbd58fc6d64620787a987f8fd5690",
          "analyzed_by": "qwen",
          "description": "Formats a compression prompt using predefined templates based on the content type, defaulting to \"tool_result\".",
          "references": [
            "HISTORY_COMPRESSOR_REASONING_PROMPT.format",
            "HISTORY_COMPRESSOR_TOOL_RESULT_PROMPT.format"
          ]
        },
        {
          "name": "_build_ai_validator_system_prompt",
          "lines": "3261-3532",
          "tokens": 3121,
          "content_hash": "6ecfe06725738d2b31bce3cf36486e18",
          "analyzed_by": "qwen",
          "description": "Generates a system prompt for an AI code validator to assess generated code against user requests, technical instructions, and critical code quality issues, ensuring correctness and functionality before approval.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_ai_validator_user_prompt",
          "lines": "3534-3566",
          "tokens": 271,
          "content_hash": "ffb7c4b207b70051cd8417dca5790e92",
          "analyzed_by": "qwen",
          "description": "Constructs a structured user prompt template for an AI validator to assess code changes, including sections for the user request, orchestrator instruction, original content, and proposed code.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "format_ai_validator_prompt",
          "lines": "3574-3603",
          "tokens": 203,
          "content_hash": "413ffc1f9611eca1bd831e8a47945c86",
          "analyzed_by": "qwen",
          "description": "Constructs AI Validator prompts for code validation by combining user request, original content, and proposed code, using predefined system and user prompt templates.",
          "references": [
            "AI_VALIDATOR_USER_PROMPT.format"
          ]
        },
        {
          "name": "format_orchestrator_prompt_general",
          "lines": "3609-3726",
          "tokens": 2255,
          "content_hash": "e853cad64a58ba5cce58c7338c4ca5ac",
          "analyzed_by": "qwen",
          "description": "Формирует системный и пользовательский промпты для режима общего чата или юридического консультационного режима, включая инструкции по использованию инструментов поиска, обработке файлов и структурированию ответа.",
          "references": [
            "file_data.get",
            "prompt_parts.append",
            "user_prompt_parts.append"
          ]
        },
        {
          "name": "get_messages_for_role",
          "lines": "3730-3781",
          "tokens": 510,
          "content_hash": "d71a9c7448586c9712ae44664604ead8",
          "analyzed_by": "qwen",
          "description": "Generates formatted message lists for specific roles using role-based prompt formatters, supporting roles like orchestrator, code generator, and general chat. Integrates with various prompt formatting functions and returns structured messages for downstream processing.",
          "references": [
            "ValueError",
            "format_code_generator_prompt",
            "format_orchestrator_prompt",
            "format_orchestrator_prompt_general",
            "format_pre_filter_prompt",
            "formatters.keys",
            "kwargs.get"
          ]
        },
        {
          "name": "_build_agent_mode_instruction_format",
          "lines": "3797-4051",
          "tokens": 3150,
          "content_hash": "1f9542fd78a864b5e566064260f19481",
          "analyzed_by": "qwen",
          "description": "Generates a structured instruction template for Agent Mode, defining how to format code change requests and decisions between direct answers and code modifications. Integrates with code generation pipelines for precise execution.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_agent_mode_response_format",
          "lines": "4054-4078",
          "tokens": 247,
          "content_hash": "74b28d0c9cb32e25605f50645e437214",
          "analyzed_by": "qwen",
          "description": "Constructs a standardized response format template for Agent Mode, outlining sections for analysis and instructions, used to guide code generation and revisions.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_orchestrator_system_prompt_ask_agent",
          "lines": "4089-4379",
          "tokens": 3853,
          "content_hash": "69989e5600fda2b3b684f6ff3dfe0c01",
          "analyzed_by": "qwen",
          "description": "Generates a detailed system prompt for Orchestrator in Agent Mode, extending the standard ASK prompt with feedback handling, pipeline awareness, and strategic execution principles, while preserving existing blocks and integrating tools for code analysis, dependency management, and advice-based reasoning.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_orchestrator_user_prompt_ask_agent",
          "lines": "4382-4393",
          "tokens": 110,
          "content_hash": "48f4c41fd8365a3fa9fa504dee6285b7",
          "analyzed_by": "qwen",
          "description": "Constructs a user prompt template for the Orchestrator in Agent Mode, used for existing projects; includes placeholders for user queries and feedback, and specifies response format with Analysis and Instruction sections.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_orchestrator_system_prompt_new_project_agent",
          "lines": "4404-4756",
          "tokens": 4765,
          "content_hash": "c9d9e88e4afaf034f40ee597cbdca2f3",
          "analyzed_by": "qwen",
          "description": "Generates a detailed system prompt for an AI acting as a lead software architect in agent mode for new projects, emphasizing folder/file creation, code generation limits, error handling, and structured response formats. Integrates with tools like web_search, install_dependency, and advice frameworks for informed architectural decisions.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_orchestrator_user_prompt_new_project_agent",
          "lines": "4759-4770",
          "tokens": 101,
          "content_hash": "919a5745cfb72d5797ff36db54095647",
          "analyzed_by": "qwen",
          "description": "Constructs a user prompt template for the Orchestrator in Agent Mode for new projects, including user query, feedback section, and instructions for project design.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_code_generator_system_prompt_agent",
          "lines": "4781-5059",
          "tokens": 2960,
          "content_hash": "da2c0f1b37a67d752114e81b637a301f",
          "analyzed_by": "qwen",
          "description": "Generates a structured system prompt for a code generation agent, specifying how to output code modifications in a precise format for automated file updates. Integrates with code modification enums and file handling logic.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "_build_code_generator_user_prompt_agent",
          "lines": "5062-5078",
          "tokens": 144,
          "content_hash": "e40cafabfffe475f7079fbfb73912b71",
          "analyzed_by": "qwen",
          "description": "Constructs a structured user prompt template for the Code Generator in Agent Mode, incorporating an orchestrator instruction and existing file contents. Used to guide code generation with clear XML-formatted sections.",
          "references": [
            "prompt_parts.append"
          ]
        },
        {
          "name": "format_code_generator_prompt_agent",
          "lines": "5086-5125",
          "tokens": 292,
          "content_hash": "3fd6f4145d57d381e33389836ccddbde",
          "analyzed_by": "qwen",
          "description": "Formats code generation prompts for agent mode, supporting both single and multiple file inputs. Integrates with helper functions to build user prompts and format file contents.",
          "references": [
            "_build_user_prompt_with_files",
            "_format_multiple_files"
          ]
        },
        {
          "name": "_format_multiple_files",
          "lines": "5128-5148",
          "tokens": 141,
          "content_hash": "700d932f30cbcb85b3c43f7fac6f9632",
          "analyzed_by": "qwen",
          "description": "Formats multiple files into a structured string for Code Generator context, separating each file with markers and displaying its content or a placeholder if empty.",
          "references": [
            "content.strip",
            "file_contents.items",
            "parts.append"
          ]
        },
        {
          "name": "_build_user_prompt_with_files",
          "lines": "5151-5185",
          "tokens": 263,
          "content_hash": "42daa54f9055fbe27397543bb525934e",
          "analyzed_by": "qwen",
          "description": "Constructs a user prompt with instructions and file content for code generation, handling both single and multi-file scenarios with appropriate formatting and warnings.",
          "references": [
            "parts.append"
          ]
        },
        {
          "name": "format_orchestrator_prompt_ask_agent",
          "lines": "5192-5278",
          "tokens": 721,
          "content_hash": "b822cfe16cc37c0a2607838e752cb360",
          "analyzed_by": "qwen",
          "description": "Formats prompts for the orchestrator in agent mode for existing projects, integrating project structure, feedback, and adaptive logic to guide AI responses.",
          "references": [
            "ORCHESTRATOR_SYSTEM_PROMPT_ASK_AGENT.format",
            "ORCHESTRATOR_USER_PROMPT_ASK_AGENT.format",
            "_get_adaptive_block_ask_agent",
            "feedback_parts.append",
            "get_catalog_for_prompt"
          ]
        },
        {
          "name": "format_orchestrator_prompt_new_project_agent",
          "lines": "5282-5390",
          "tokens": 849,
          "content_hash": "1c3974a771d140efed39140550a0b302",
          "analyzed_by": "qwen",
          "description": "Formats Orchestrator prompts for agent-based new project workflows, integrating feedback, validation errors, and generated code context into structured system/user prompts.",
          "references": [
            "ORCHESTRATOR_SYSTEM_PROMPT_NEW_PROJECT_AGENT.format",
            "ORCHESTRATOR_USER_PROMPT_NEW_PROJECT_AGENT.format",
            "_get_adaptive_block_new_project_agent",
            "feedback_parts.append",
            "get_catalog_for_prompt",
            "get_feedback_block_if_needed"
          ]
        },
        {
          "name": "format_code_generator_prompt_agent",
          "lines": "5394-5414",
          "tokens": 141,
          "content_hash": "434f5da6c6fde36da79d3b65da3f0d8b",
          "analyzed_by": "qwen",
          "description": "Formats prompts for the Code Generator in agent mode using an orchestrator instruction and optional file context. Returns a dictionary containing system and user prompt strings.",
          "references": [
            "CODE_GENERATOR_USER_PROMPT_AGENT.format"
          ]
        }
      ],
      "last_indexed": "2026-01-12T12:25:39.596220+00:00"
    },
    "app/services/__init__.py": {
      "name": "__init__.py",
      "path": "app/services/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\__init__.py",
      "file_hash": "eaff3b6c1f8682659fd84f1d0bdef2ab",
      "tokens_total": 40,
      "lines_total": 7,
      "imports": {
        "lines": "1-7",
        "modules": [
          "app.services.file_modifier.FileModifier",
          "app.services.file_modifier.ModifyMode",
          "app.services.file_modifier.ModifyInstruction",
          "app.services.file_modifier.ModifyResult",
          "app.services.file_modifier.ParsedCodeBlock"
        ],
        "tokens": 40
      },
      "globals": null,
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-22T12:24:40.190050+00:00"
    },
    "app/services/ai_client.py": {
      "name": "ai_client.py",
      "path": "app/services/ai_client.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\ai_client.py",
      "file_hash": "47ce18fe417364ce1276128f81a36c47",
      "tokens_total": 1355,
      "lines_total": 140,
      "imports": {
        "lines": "1-5",
        "modules": [
          "json",
          "logging",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.List",
          "openai.OpenAI",
          "httpx"
        ],
        "tokens": 62
      },
      "globals": {
        "lines": "19-19",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Unified LLM API client with OpenAI-compatible interface for configurable model selection and structured response handling across multiple providers.",
      "classes": [
        {
          "name": "AIService",
          "lines": "21-140",
          "tokens": 1139,
          "content_hash": "e3035f935f2872cefa4ff5fbea03b22e",
          "analyzed_by": "deepseek",
          "description": "Unified LLM API client with OpenAI-compatible interface, supporting DeepSeek and OpenRouter providers with configurable model selection and structured response handling.",
          "references": [
            "OpenAI",
            "ValueError",
            "cfg.DEEPSEEK_API_KEY",
            "cfg.DEEPSEEK_BASE_URL",
            "cfg.MODEL_NORMAL",
            "cfg.MODEL_QWEN",
            "cfg.OPENROUTER_API_KEY",
            "cfg.OPENROUTER_BASE_URL",
            "e.message",
            "e.status_code",
            "httpx.APIStatusError",
            "httpx.RequestError",
            "logger.critical",
            "logger.debug",
            "logger.error",
            "logger.info",
            "response.choices",
            "response.usage"
          ],
          "methods": [
            "__init__",
            "send_request",
            "close"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-12T11:01:02.308312+00:00"
    },
    "app/services/file_io_tools.py": {
      "name": "file_io_tools.py",
      "path": "app/services/file_io_tools.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\file_io_tools.py",
      "file_hash": "c3610ef42cc0eba05861b06509615f8e",
      "tokens_total": 2827,
      "lines_total": 367,
      "imports": {
        "lines": "2-14",
        "modules": [
          "__future__.annotations",
          "dataclasses.dataclass",
          "pathlib.Path",
          "typing.Literal",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "app.utils.file_types.FileTypeDetector",
          "app.utils.token_counter.TokenCounter",
          "app.utils.xml_wrapper.XMLWrapper",
          "app.utils.xml_wrapper.FileContent",
          "app.services.project_scanner.ProjectScanner",
          "app.services.python_chunker.SmartPythonChunker",
          "app.services.python_chunker.PythonChunk",
          "app.services.go_chunker.SmartGoChunker",
          "app.services.go_chunker.GoChunk",
          "app.services.sql_chunker.SmartSQLChunker",
          "app.services.sql_chunker.SQLChunk",
          "app.services.json_chunker.SmartJSONChunker",
          "app.services.json_chunker.JSONChunk"
        ],
        "tokens": 131
      },
      "globals": {
        "lines": "16-20",
        "names": [
          "ReadMode",
          "MAX_MODEL_CONTEXT",
          "MAX_FILE_TOKENS",
          "QWEN_CONTEXT_LIMIT"
        ],
        "tokens": 81
      },
      "description": "File I/O toolkit with token-aware chunking and XML-wrapping for AI document processing, integrating read/write operations with automatic type detection and syntax validation.",
      "classes": [
        {
          "name": "ReadRequest",
          "lines": "24-29",
          "tokens": 100,
          "content_hash": "afb826bc6d54af9d03ff80c5327e39d3",
          "analyzed_by": "deepseek",
          "description": "Data class for file read configuration in a token-aware processing system, specifying project-relative paths, chunking modes, and context inclusion.",
          "references": [],
          "methods": []
        },
        {
          "name": "ReadResponse",
          "lines": "33-42",
          "tokens": 74,
          "content_hash": "5a47b6e150693e1a7baf899eaf2c5e24",
          "analyzed_by": "deepseek",
          "description": "Data container for file read operation results, providing status, metadata, and optional parsed content for integration with document processing systems.",
          "references": [],
          "methods": []
        },
        {
          "name": "FileReaderTool",
          "lines": "45-247",
          "tokens": 1499,
          "content_hash": "886ed1555380181307b95e5cab17cbf5",
          "analyzed_by": "deepseek",
          "description": "Intelligent file reader with automatic type detection and token-aware chunking, outputs XML-wrapped content for AI processing with configurable full/chunked delivery modes.",
          "references": [
            "FileContent",
            "FileTypeDetector",
            "Path",
            "ProjectScanner",
            "ReadResponse",
            "SmartGoChunker",
            "SmartJSONChunker",
            "SmartPythonChunker",
            "SmartSQLChunker",
            "TokenCounter",
            "XMLWrapper",
            "ch.content",
            "ch.kind",
            "ch.tokens",
            "chunks_xml.append",
            "full_path.exists",
            "full_path.read_text",
            "full_path.relative_to",
            "req.available_tokens",
            "req.mode",
            "req.path",
            "req.with_context"
          ],
          "methods": [
            "__init__",
            "_read_text",
            "read"
          ]
        },
        {
          "name": "WriteRequest",
          "lines": "254-262",
          "tokens": 100,
          "content_hash": "04aac4f91e4494ee0d6988c4c2931d16",
          "analyzed_by": "deepseek",
          "description": "Data container for file write operations with configurable modes (full file or range replacement), supporting optional validation and metadata.",
          "references": [],
          "methods": []
        },
        {
          "name": "WriteResponse",
          "lines": "266-272",
          "tokens": 51,
          "content_hash": "9b9b983be9bedaa673720aab67d46f0d",
          "analyzed_by": "deepseek",
          "description": "Data transfer object for file write operation results, encapsulating success status, error details, and optional syntax validation metadata.",
          "references": [],
          "methods": []
        },
        {
          "name": "FileWriterTool",
          "lines": "275-367",
          "tokens": 728,
          "content_hash": "a4ca299907a336ab8b5555c79ab9a8d2",
          "analyzed_by": "qwen",
          "description": "Обеспечивает запись и редактирование файлов с поддержкой замены всего файла или диапазона строк, включая валидацию Python-синтаксиса и отступов. Интегрируется с FileTypeDetector для определения типа файла.",
          "references": [
            "FileTypeDetector",
            "Path",
            "WriteResponse",
            "ast.parse",
            "e.lineno",
            "e.msg",
            "full_path.exists",
            "full_path.read_text",
            "full_path.write_text",
            "original.splitlines",
            "req.end_line",
            "req.file_type",
            "req.mode",
            "req.new_content",
            "req.path",
            "req.start_line",
            "req.validate_python_indent"
          ],
          "methods": [
            "__init__",
            "_validate_python",
            "write"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-12T11:02:35.634562+00:00"
    },
    "app/services/go_chunker.py": {
      "name": "go_chunker.py",
      "path": "app/services/go_chunker.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\go_chunker.py",
      "file_hash": "0a53889c6bbacc6a6d75e4acca63b776",
      "tokens_total": 2757,
      "lines_total": 350,
      "imports": {
        "lines": "2-8",
        "modules": [
          "__future__.annotations",
          "re",
          "dataclasses.dataclass",
          "pathlib.Path",
          "typing.List",
          "typing.Optional",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 37
      },
      "globals": {
        "lines": "10-10",
        "names": [
          "MAX_CHUNK_TOKENS"
        ],
        "tokens": 9
      },
      "description": "Go source code parser for hierarchical semantic segmentation, outputs structured chunks and aggregated context for indexing or AI model consumption.",
      "classes": [
        {
          "name": "GoChunk",
          "lines": "14-22",
          "tokens": 104,
          "content_hash": "1bb0dc123ac0520c706e5b2c00db01c5",
          "analyzed_by": "deepseek",
          "description": "Go source code chunk extractor for semantic segmentation, outputs structured metadata and raw content for indexing or analysis pipelines.",
          "references": [],
          "methods": []
        },
        {
          "name": "SmartGoChunker",
          "lines": "25-316",
          "tokens": 2292,
          "content_hash": "1a8566a352735364190eea33a0610c67",
          "analyzed_by": "deepseek",
          "description": "Go source code parser that extracts hierarchical semantic chunks (package, imports, types, functions) using regex patterns and token-aware segmentation.",
          "references": [
            "GoChunk",
            "Path",
            "TokenCounter",
            "block_pattern.finditer",
            "chunks.append",
            "chunks.extend",
            "code.find",
            "code.splitlines",
            "m.group",
            "match.end",
            "match.group",
            "match.start",
            "method_positions.add",
            "path.name",
            "path.read_text",
            "re.MULTILINE",
            "re.compile"
          ],
          "methods": [
            "__init__",
            "chunk_file",
            "_find_block_end",
            "_pos_to_line",
            "_extract_package",
            "_extract_imports",
            "_extract_const_var",
            "_extract_types",
            "_extract_functions"
          ]
        }
      ],
      "functions": [
        {
          "name": "build_go_context",
          "lines": "319-350",
          "tokens": 299,
          "content_hash": "88a84d87b667d69e5d031cf8e0f64f98",
          "analyzed_by": "deepseek",
          "description": "Assembles Go source context by aggregating package, imports, and receiver struct definitions for a target chunk, formatted for AI model consumption.",
          "references": [
            "c.kind",
            "c.name",
            "imports.content",
            "parts.append",
            "pkg.content",
            "struct.content",
            "struct.name",
            "target_chunk.content",
            "target_chunk.kind",
            "target_chunk.name",
            "target_chunk.receiver"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:01:46.592831+00:00"
    },
    "app/services/index_manager.py": {
      "name": "index_manager.py",
      "path": "app/services/index_manager.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\index_manager.py",
      "file_hash": "8f6beafe6b7dc333d5e3884440ac7dee",
      "tokens_total": 6500,
      "lines_total": 802,
      "imports": {
        "lines": "18-27",
        "modules": [
          "__future__.annotations",
          "asyncio",
          "json",
          "logging",
          "dataclasses.dataclass",
          "dataclasses.field",
          "datetime.datetime",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Callable",
          "typing.Any",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 56
      },
      "globals": {
        "lines": "29-163",
        "names": [
          "logger",
          "SEMANTIC_INDEX_TOKEN_LIMIT",
          "COMPRESSED_INDEX_FILENAME",
          "ProgressCallback"
        ],
        "tokens": 65
      },
      "description": "Core index management system for AI-powered code analysis projects, providing full/incremental indexing with semantic compression and statistical monitoring.",
      "classes": [
        {
          "name": "IndexStats",
          "lines": "69-120",
          "tokens": 498,
          "content_hash": "4f194943fb5703bc1f4fe8559c787346",
          "analyzed_by": "deepseek",
          "description": "Data container for indexing metrics with semantic analysis, project mapping, compression, and error tracking, serializable to JSON via to_dict().",
          "references": [
            "field"
          ],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "SyncStats",
          "lines": "124-158",
          "tokens": 274,
          "content_hash": "700d588624adb55342a8bbdf5581e455",
          "analyzed_by": "deepseek",
          "description": "Data container for incremental file synchronization metrics with AI processing statistics, serializable to JSON for logging and monitoring.",
          "references": [
            "field"
          ],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "IndexCompressor",
          "lines": "176-317",
          "tokens": 1327,
          "content_hash": "4c35de502bdcda72d5942e11ffdc6144",
          "analyzed_by": "deepseek",
          "description": "Semantic index compression utility that flattens hierarchical structure and reduces token count by removing detailed metadata while preserving AI descriptions and navigation data.",
          "references": [
            "Path",
            "TokenCounter",
            "compressed_path.open",
            "compressed_path.parent",
            "file_info.get",
            "files_data.items",
            "func.get",
            "imports_info.get",
            "index.get",
            "json.dump",
            "json.dumps",
            "logger.info",
            "logger.warning"
          ],
          "methods": [
            "__init__",
            "check_and_compress",
            "_compress_index",
            "is_compressed"
          ]
        },
        {
          "name": "FullIndexBuilder",
          "lines": "322-493",
          "tokens": 1441,
          "content_hash": "3e89002d0689144098b4ac19545fdfdb",
          "analyzed_by": "deepseek",
          "description": "Asynchronous project indexing pipeline for code analysis and file mapping, integrates semantic parsing with AI-generated descriptions and automatic token compression.",
          "references": [
            "IndexCompressor",
            "IndexStats",
            "Path",
            "ProjectMapBuilder",
            "SemanticIndexer",
            "ai_agent_dir.mkdir",
            "builder._generate_single_description",
            "builder.build_map",
            "cfg.PROJECT_MAP_MAX_FILE_TOKENS",
            "compact_index_path.exists",
            "compact_index_path.read_text",
            "datetime.now",
            "f.is_code",
            "f.tokens",
            "file_data.get",
            "file_entry.path",
            "func.get",
            "index.get",
            "indexer.build_index_async",
            "logger.error",
            "logger.info",
            "original_generate",
            "progress",
            "project_map.files",
            "project_map.total_files",
            "project_map.total_tokens",
            "stats.ai_descriptions_failed",
            "stats.ai_descriptions_generated",
            "stats.ai_descriptions_skipped",
            "stats.classes_found",
            "stats.code_files",
            "stats.code_files_indexed",
            "stats.code_tokens_total",
            "stats.compressed_index_tokens",
            "stats.errors",
            "stats.functions_found",
            "stats.index_compressed",
            "stats.non_code_files",
            "stats.original_index_tokens",
            "stats.project_map_time_sec",
            "stats.semantic_index_time_sec",
            "stats.total_files",
            "stats.total_time_sec",
            "stats.total_tokens"
          ],
          "methods": [
            "__init__",
            "_ensure_ai_agent_dir",
            "build",
            "_build_semantic_index",
            "_build_project_map"
          ]
        },
        {
          "name": "IncrementalIndexUpdater",
          "lines": "498-662",
          "tokens": 1383,
          "content_hash": "44ea5cda29ded200a82c51c43e16ba71",
          "analyzed_by": "deepseek",
          "description": "Incremental file index updater for project analysis systems, detects file changes via hash comparison and updates semantic indexes with optional compression.",
          "references": [
            "FullIndexBuilder",
            "IndexCompressor",
            "Path",
            "ProjectMapBuilder",
            "SemanticIndexer",
            "SyncStats",
            "builder._generate_single_description",
            "builder.build",
            "builder.sync_map",
            "compact_index_path.exists",
            "compact_index_path.read_text",
            "datetime.now",
            "file_entry.path",
            "full_stats.ai_descriptions_failed",
            "full_stats.ai_descriptions_generated",
            "full_stats.index_compressed",
            "full_stats.total_files",
            "full_stats.total_time_sec",
            "index_path.exists",
            "index_path.open",
            "indexer.sync_index",
            "json.load",
            "logger.error",
            "logger.info",
            "original_generate",
            "progress",
            "stats.ai_descriptions_failed",
            "stats.ai_descriptions_generated",
            "stats.deleted_files",
            "stats.errors",
            "stats.index_compressed",
            "stats.modified_files",
            "stats.moved_files",
            "stats.new_files",
            "stats.total_time_sec",
            "sync_result.get"
          ],
          "methods": [
            "__init__",
            "sync",
            "_indexes_exist",
            "_sync_semantic_index",
            "_sync_project_map"
          ]
        }
      ],
      "functions": [
        {
          "name": "_validate_settings",
          "lines": "40-60",
          "tokens": 152,
          "content_hash": "47d1f27c3d0e35bcb7e0448a980a26a5",
          "analyzed_by": "qwen",
          "description": "Validates the presence of required settings in config/settings.py, raising an ImportError if any are missing.",
          "references": [
            "ImportError",
            "missing.append"
          ]
        },
        {
          "name": "default_progress_callback",
          "lines": "166-171",
          "tokens": 66,
          "content_hash": "b035dc92f2e051e662729e4679fffe66",
          "analyzed_by": "qwen",
          "description": "Provides a default progress callback that logs messages with current/total progress, used for tracking operations in index manager tasks.",
          "references": [
            "logger.info"
          ]
        },
        {
          "name": "build_full_index",
          "lines": "667-682",
          "tokens": 106,
          "content_hash": "d4fe5de352506e99097900e81d540f9e",
          "analyzed_by": "qwen",
          "description": "Performs full project indexing asynchronously, optionally reporting progress via a callback and returning index statistics. Uses FullIndexBuilder for processing.",
          "references": [
            "FullIndexBuilder",
            "builder.build"
          ]
        },
        {
          "name": "sync_index",
          "lines": "685-700",
          "tokens": 112,
          "content_hash": "153bd7bd97c72ce252fb6b8d31c884b4",
          "analyzed_by": "qwen",
          "description": "Выполняет инкрементальное обновление индексов в указанном проекте, используя обратный вызов для отслеживания прогресса. Возвращает статистику изменений в виде объекта SyncStats.",
          "references": [
            "IncrementalIndexUpdater",
            "updater.sync"
          ]
        },
        {
          "name": "get_index_stats",
          "lines": "703-753",
          "tokens": 379,
          "content_hash": "9c36ecf914d0e0dbbc09fa6ec7cfe121",
          "analyzed_by": "qwen",
          "description": "Retrieves statistics about existing indexes in a project directory, including semantic index, project map, compression status, and file/token counts. Returns a dictionary with the results or None if no indexes are found.",
          "references": [
            "Path",
            "compressed_path.exists",
            "data.get",
            "json.load",
            "map_path.exists",
            "map_path.open",
            "semantic_path.exists",
            "semantic_path.open"
          ]
        },
        {
          "name": "is_index_compressed",
          "lines": "756-767",
          "tokens": 88,
          "content_hash": "a88926a57a4c9539e6a0cfc8c774683f",
          "analyzed_by": "qwen",
          "description": "Checks if a compressed index is being used for the project. Returns True if the compressed index file exists.",
          "references": [
            "Path",
            "compressed_path.exists"
          ]
        },
        {
          "name": "load_semantic_index",
          "lines": "770-802",
          "tokens": 232,
          "content_hash": "ffa204b3715d12b71cf0f35c7dd00945",
          "analyzed_by": "qwen",
          "description": "Loads a semantic index (standard or compressed) from a project directory, automatically detecting and returning the appropriate format. Integrates with file system operations and JSON parsing.",
          "references": [
            "Path",
            "compressed_path.exists",
            "compressed_path.open",
            "json.load",
            "semantic_path.exists",
            "semantic_path.open"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:02:59.530800+00:00"
    },
    "app/services/index_reader.py": {
      "name": "index_reader.py",
      "path": "app/services/index_reader.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\index_reader.py",
      "file_hash": "02f449e26d950ef869cd10e631e21032",
      "tokens_total": 9575,
      "lines_total": 1137,
      "imports": {
        "lines": "7-13",
        "modules": [
          "__future__.annotations",
          "json",
          "re",
          "dataclasses.dataclass",
          "dataclasses.field",
          "pathlib.Path",
          "typing.List",
          "typing.Dict",
          "typing.Optional",
          "typing.Union",
          "typing.Set",
          "enum.Enum"
        ],
        "tokens": 44
      },
      "globals": {
        "lines": "16-16",
        "names": [
          "INDEX_FILENAME"
        ],
        "tokens": 8
      },
      "description": "Semantic index query engine for Python codebases with configurable detail levels, fuzzy search, and CLI integration for structured metadata retrieval.",
      "classes": [
        {
          "name": "DetailLevel",
          "lines": "19-23",
          "tokens": 83,
          "content_hash": "6bcd7564c165d1674f2ddbaeff3542e9",
          "analyzed_by": "deepseek",
          "description": "Index metadata parser with configurable detail levels (minimal/standard/full) for structured code analysis and reporting.",
          "references": [],
          "methods": []
        },
        {
          "name": "SearchResult",
          "lines": "27-38",
          "tokens": 120,
          "content_hash": "543b86669b6cc50c92e983179c352628",
          "analyzed_by": "deepseek",
          "description": "Search result data container for code search indexing, integrates with JSON parsing and relevance scoring systems.",
          "references": [],
          "methods": [
            "__repr__"
          ]
        },
        {
          "name": "FileInfo",
          "lines": "42-61",
          "tokens": 178,
          "content_hash": "00e8c954f4c365db548571ab23e327d1",
          "analyzed_by": "deepseek",
          "description": "Data container for code analysis metadata with structured file attributes and a summary method for formatted output.",
          "references": [],
          "methods": [
            "summary"
          ]
        },
        {
          "name": "IndexReader",
          "lines": "64-973",
          "tokens": 7614,
          "content_hash": "0f359d1fbfb6061829163c1a07c76abb",
          "analyzed_by": "deepseek",
          "description": "JSON-based semantic index reader for Python codebases with fuzzy search and AI context formatting.",
          "references": [
            "DetailLevel.FULL",
            "DetailLevel.MINIMAL",
            "DetailLevel.STANDARD",
            "FileInfo",
            "FileNotFoundError",
            "Path",
            "SearchResult",
            "c.get",
            "data.get",
            "deps.get",
            "f.get",
            "field.lower",
            "field_lower.startswith",
            "file_data.get",
            "file_filter.lower",
            "file_hint.lower",
            "file_name.replace",
            "filename.lower",
            "files.get",
            "files.items",
            "func.get",
            "globals_data.get",
            "i.get",
            "imports.append",
            "imports_data.get",
            "json.load",
            "lines.append",
            "module.split",
            "module_file.get",
            "other_data.get",
            "p.lower",
            "path.endswith",
            "path.lower",
            "query.lower",
            "query_lower.split",
            "re.split",
            "results.append",
            "results.sort",
            "search_fields.append",
            "used_by.append",
            "x.name",
            "x.relevance"
          ],
          "methods": [
            "__init__",
            "_load_index",
            "_build_lookup_maps",
            "reload",
            "stats",
            "get_file",
            "get_file_structured",
            "get_class",
            "get_function",
            "get_method",
            "list_files",
            "list_classes",
            "list_functions",
            "search",
            "_calculate_relevance",
            "find_references_to",
            "find_dependencies",
            "format_for_ai",
            "_format_file_for_ai",
            "_format_class_for_ai",
            "_format_function_for_ai",
            "_format_class_brief",
            "_format_function_brief",
            "get_project_summary",
            "get_class_context"
          ]
        }
      ],
      "functions": [
        {
          "name": "quick_search",
          "lines": "978-986",
          "tokens": 72,
          "content_hash": "8afd3b0f8f1defd57e543980eb08956e",
          "analyzed_by": "deepseek",
          "description": "Index lookup wrapper for project file search, integrates with IndexReader for query processing and result retrieval.",
          "references": [
            "IndexReader",
            "reader.search"
          ]
        },
        {
          "name": "get_file_info",
          "lines": "989-997",
          "tokens": 70,
          "content_hash": "2872febbbcec51b2bf276324634d270d",
          "analyzed_by": "qwen",
          "description": "Retrieves file metadata quickly from a project index, returning information as a dictionary or None if not found. Integrates with IndexReader for efficient file lookup.",
          "references": [
            "IndexReader",
            "reader.get_file"
          ]
        },
        {
          "name": "main",
          "lines": "1002-1133",
          "tokens": 1284,
          "content_hash": "c091bf1fe9bbb4f88e85e6926fb9721f",
          "analyzed_by": "qwen",
          "description": "CLI tool for querying and analyzing a project index, integrates with IndexReader for file, class, function, and dependency information retrieval.",
          "references": [
            "DetailLevel.FULL",
            "IndexReader",
            "imp.get",
            "r.description",
            "r.file_path",
            "r.name",
            "r.relevance",
            "r.type",
            "reader._format_class_for_ai",
            "reader._format_function_for_ai",
            "reader.find_dependencies",
            "reader.find_references_to",
            "reader.format_for_ai",
            "reader.get_class",
            "reader.get_class_context",
            "reader.get_file",
            "reader.get_function",
            "reader.get_project_summary",
            "reader.list_classes",
            "reader.list_files",
            "reader.search",
            "reader.stats",
            "sys.argv",
            "sys.exit"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:02:40.309943+00:00"
    },
    "app/services/index_updater.py": {
      "name": "index_updater.py",
      "path": "app/services/index_updater.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\index_updater.py",
      "file_hash": "7e8f2772cc91e6c699aff8be7a4fad14",
      "tokens_total": 2492,
      "lines_total": 256,
      "imports": {
        "lines": "2-25",
        "modules": [
          "__future__.annotations",
          "json",
          "pathlib.Path",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "sys",
          "requests",
          "config.settings.Config",
          "app.services.project_scanner.ProjectScanner",
          "app.services.file_io_tools.FileReaderTool",
          "app.services.file_io_tools.ReadRequest",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 85
      },
      "globals": {
        "lines": "9-114",
        "names": [
          "PROJECT_ROOT",
          "QWEN_CONTEXT_LIMIT",
          "SYSTEM_PROMPT"
        ],
        "tokens": 1082
      },
      "description": "Semantic index updater for codebases using Qwen via OpenRouter API, processes changed files into XML chunks and updates a JSON-based semantic index with structured analysis.",
      "classes": [
        {
          "name": "IndexUpdater",
          "lines": "117-256",
          "tokens": 1226,
          "content_hash": "9c64b52833caf63be594d92993fef52b",
          "analyzed_by": "deepseek",
          "description": "Semantic index updater for codebases using Qwen via OpenRouter API, processes changed files into XML chunks and updates JSON-based semantic index with structured analysis.",
          "references": [
            "FileReaderTool",
            "Path",
            "ProjectScanner",
            "ReadRequest",
            "TokenCounter",
            "cfg.MODEL_QWEN",
            "cfg.OPENROUTER_API_KEY",
            "cfg.OPENROUTER_BASE_URL",
            "changed_files.append",
            "file_entries.append",
            "json.JSONDecodeError",
            "json.dumps",
            "json.loads",
            "path.exists",
            "path.read_text",
            "path.write_text",
            "read_res.chunks_xml",
            "read_res.ok",
            "requests.post",
            "resp.json",
            "resp.raise_for_status",
            "semantic_index.get"
          ],
          "methods": [
            "__init__",
            "_call_qwen",
            "_load_project_map",
            "_load_semantic_index",
            "_save_semantic_index",
            "update_index"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-12T11:01:02.760349+00:00"
    },
    "app/services/json_chunker.py": {
      "name": "json_chunker.py",
      "path": "app/services/json_chunker.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\json_chunker.py",
      "file_hash": "de039aecf2744624db81ffa912e8fe8c",
      "tokens_total": 2107,
      "lines_total": 296,
      "imports": {
        "lines": "13-19",
        "modules": [
          "__future__.annotations",
          "json",
          "dataclasses.dataclass",
          "pathlib.Path",
          "typing.List",
          "typing.Optional",
          "typing.Any",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 39
      },
      "globals": {
        "lines": "21-21",
        "names": [
          "MAX_CHUNK_TOKENS"
        ],
        "tokens": 9
      },
      "description": "Token-aware JSON file chunker for LLM context management, integrating adaptive splitting strategies with distributed processing metadata.",
      "classes": [
        {
          "name": "JSONChunk",
          "lines": "25-34",
          "tokens": 124,
          "content_hash": "2de6888285897474dd4bf42441d0956a",
          "analyzed_by": "deepseek",
          "description": "Data class for tracking JSON file segmentation metadata, used for distributed processing and reassembly of large JSON datasets.",
          "references": [],
          "methods": []
        },
        {
          "name": "SmartJSONChunker",
          "lines": "37-296",
          "tokens": 1799,
          "content_hash": "e47dbd7aaacbbeb11419fdf398253836",
          "analyzed_by": "deepseek",
          "description": "JSON file chunker with token-aware adaptive strategies for arrays, objects, and fallback size-based splitting, integrates with token counting for LLM context management.",
          "references": [
            "JSONChunk",
            "Path",
            "TokenCounter",
            "chunk.total_chunks",
            "chunks.append",
            "content.split",
            "current_batch.append",
            "current_lines.append",
            "data.items",
            "json.JSONDecodeError",
            "json.dumps",
            "json.loads",
            "path.name",
            "path.read_text"
          ],
          "methods": [
            "__init__",
            "chunk_file",
            "_chunk_array",
            "_create_array_chunk",
            "_chunk_object",
            "_chunk_by_size"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-12T11:01:23.053230+00:00"
    },
    "app/services/project_map_builder.py": {
      "name": "project_map_builder.py",
      "path": "app/services/project_map_builder.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\project_map_builder.py",
      "file_hash": "22a36161b70d19972ad237df5401e3f3",
      "tokens_total": 6437,
      "lines_total": 823,
      "imports": {
        "lines": "13-64",
        "modules": [
          "__future__.annotations",
          "asyncio",
          "hashlib",
          "json",
          "logging",
          "os",
          "dataclasses.dataclass",
          "dataclasses.asdict",
          "dataclasses.field",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Set",
          "typing.Any",
          "datetime.datetime",
          "config.settings.cfg",
          "app.utils.token_counter.TokenCounter",
          "app.utils.file_types.FileTypeDetector"
        ],
        "tokens": 80
      },
      "globals": {
        "lines": "24-230",
        "names": [
          "logger",
          "PROJECT_MAP_FILENAME",
          "PROJECT_MAP_MD_FILENAME",
          "IGNORE_DIRS",
          "IGNORE_FILES",
          "BINARY_EXTENSIONS",
          "CODE_FILE_TYPES",
          "DESCRIBABLE_EXTENSIONS",
          "DESCRIBABLE_FILENAMES",
          "DESCRIBE_FILE_SYSTEM_PROMPT",
          "DESCRIBE_FILE_USER_PROMPT"
        ],
        "tokens": 900
      },
      "description": "Project map builder for structured codebase analysis with AI-generated file descriptions, integrating semantic indexing and incremental updates for efficient change tracking.",
      "classes": [
        {
          "name": "ProjectFileEntry",
          "lines": "132-140",
          "tokens": 96,
          "content_hash": "0458795e418e84be557261c3ededc27a",
          "analyzed_by": "qwen",
          "description": "Represents a single file entry in a project map with metadata such as path, type, hash, token count, and description. Used for tracking files in a project structure, including code detection and change monitoring via hashing.",
          "references": [],
          "methods": []
        },
        {
          "name": "ProjectMap",
          "lines": "144-192",
          "tokens": 406,
          "content_hash": "8245c3b1abcd6b54ab5b8e76a9529f38",
          "analyzed_by": "qwen",
          "description": "Represents a structured project map with metadata and file entries, supporting serialization to and from dictionaries for storage or transmission.",
          "references": [
            "ProjectFileEntry",
            "asdict",
            "data.get",
            "f.items",
            "field",
            "files.append"
          ],
          "methods": [
            "to_dict",
            "from_dict"
          ]
        },
        {
          "name": "ProjectMapBuilder",
          "lines": "235-803",
          "tokens": 4381,
          "content_hash": "da6f7eb81992992898df80843d38dc1a",
          "analyzed_by": "qwen",
          "description": "Builds and maintains a project map with AI-generated descriptions for non-code files and semantic index descriptions for code files, supporting incremental updates and token limits. Integrates with semantic index, file type detection, token counting, and LLM for description generation.",
          "references": [
            "DESCRIBE_FILE_USER_PROMPT.format",
            "FileTypeDetector",
            "Path",
            "ProjectFileEntry",
            "ProjectMap",
            "ProjectMap.from_dict",
            "TokenCounter",
            "all_files.sort",
            "asyncio.Semaphore",
            "asyncio.gather",
            "call_llm",
            "cfg.PROJECT_MAP_DESCRIBE_MODEL",
            "cfg.PROJECT_MAP_MAX_FILE_TOKENS",
            "code_descriptions.get",
            "compact_path.exists",
            "compact_path.open",
            "d.startswith",
            "data.get",
            "datetime.utcnow",
            "desc.replace",
            "describe_with_limit",
            "description.strip",
            "err.get",
            "errors.append",
            "existing.description",
            "existing.hash",
            "existing.last_updated",
            "existing_by_path.keys",
            "existing_map.created_at",
            "existing_map.files",
            "f.description",
            "f.hash",
            "f.last_updated",
            "f.path",
            "f.read",
            "f.tokens",
            "f.type",
            "f.write",
            "file_entry.description",
            "file_entry.hash",
            "file_entry.is_code",
            "file_entry.last_updated",
            "file_entry.path",
            "file_entry.tokens",
            "file_entry.type",
            "file_info.get",
            "filename.startswith",
            "files.append",
            "files.sort",
            "files_data.items",
            "files_to_describe.append",
            "full_path.read_text",
            "full_path.relative_to",
            "full_path.suffix",
            "hasher.hexdigest",
            "hasher.update",
            "hashlib.md5",
            "json.JSONDecodeError",
            "json.dump",
            "json.load",
            "lines.append",
            "lines.extend",
            "logger.info",
            "logger.warning",
            "modified_files.append",
            "new_files.append",
            "old_entry.description",
            "old_entry.last_updated",
            "old_entry.path",
            "os.walk",
            "path.name",
            "path.open",
            "path.read_text",
            "path.suffix",
            "project_map.errors",
            "project_map.files",
            "project_map.root",
            "project_map.to_dict",
            "project_map.total_files",
            "project_map.total_tokens",
            "project_map.updated_at",
            "response.strip",
            "semantic_path.exists",
            "semantic_path.open",
            "unchanged_files.append"
          ],
          "methods": [
            "__init__",
            "build_map",
            "sync_map",
            "get_compact_map",
            "load_map",
            "_scan_all_files",
            "_hash_file",
            "_count_tokens",
            "_should_describe_with_ai",
            "_load_code_descriptions",
            "_generate_descriptions_batch",
            "_generate_single_description",
            "_load_existing_map",
            "_save_map",
            "_format_map_as_markdown"
          ]
        }
      ],
      "functions": [
        {
          "name": "_validate_settings",
          "lines": "29-55",
          "tokens": 190,
          "content_hash": "cb99766ceca2857dc17673dc2a5513d4",
          "analyzed_by": "qwen",
          "description": "Validates the presence of required settings in settings.py upon module import, raising an ImportError if any are missing. Checks for PROJECT_MAP_MAX_FILE_TOKENS and PROJECT_MAP_DESCRIBE_MODEL.",
          "references": [
            "ImportError",
            "missing.append"
          ]
        },
        {
          "name": "build_project_map",
          "lines": "808-811",
          "tokens": 48,
          "content_hash": "224182f74f08e9f6c1b05470fb91eb9c",
          "analyzed_by": "qwen",
          "description": "Constructs a project map by initializing a ProjectMapBuilder and asynchronously building the map from the specified project path.",
          "references": [
            "ProjectMapBuilder",
            "builder.build_map"
          ]
        },
        {
          "name": "sync_project_map",
          "lines": "814-817",
          "tokens": 48,
          "content_hash": "a06e234ff53ced924d9e9fb14c0c7de1",
          "analyzed_by": "qwen",
          "description": "Synchronizes a project map incrementally using a ProjectMapBuilder, supporting optional code map context. Utilizes async operations for efficiency.",
          "references": [
            "ProjectMapBuilder",
            "builder.sync_map"
          ]
        },
        {
          "name": "get_project_map_for_prompt",
          "lines": "820-823",
          "tokens": 41,
          "content_hash": "02dd0089d98d0cff4a29105b614afdca",
          "analyzed_by": "qwen",
          "description": "Generates a compact project map string for use in prompts, using the ProjectMapBuilder to process the given project path.",
          "references": [
            "ProjectMapBuilder",
            "builder.get_compact_map"
          ]
        }
      ],
      "last_indexed": "2026-01-03T03:08:11.468554+00:00"
    },
    "app/services/project_scanner.py": {
      "name": "project_scanner.py",
      "path": "app/services/project_scanner.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\project_scanner.py",
      "file_hash": "bbde50fd62357c7c520f447bb7b33c1a",
      "tokens_total": 3416,
      "lines_total": 355,
      "imports": {
        "lines": "2-13",
        "modules": [
          "__future__.annotations",
          "hashlib",
          "json",
          "os",
          "dataclasses.dataclass",
          "dataclasses.asdict",
          "pathlib.Path",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Set",
          "typing.Optional",
          "app.utils.file_types.FileTypeDetector",
          "app.utils.token_counter.TokenCounter",
          "app.services.python_chunker.SmartPythonChunker",
          "app.services.python_chunker.PythonChunk",
          "app.services.json_chunker.SmartJSONChunker",
          "app.services.json_chunker.JSONChunk"
        ],
        "tokens": 91
      },
      "globals": {
        "lines": "16-56",
        "names": [
          "PROJECT_MAP_FILENAME",
          "IGNORE_DIRS",
          "IGNORE_FILES",
          "BINARY_EXTENSIONS",
          "COUNTABLE_FILE_TYPES"
        ],
        "tokens": 495
      },
      "description": "Recursive directory scanner that builds a JSON project map with file hashes and token counts, supporting incremental sync and language-specific chunking.",
      "classes": [
        {
          "name": "FileEntry",
          "lines": "60-64",
          "tokens": 24,
          "content_hash": "2b395b4a38cb84cd4266312d0277b086",
          "analyzed_by": "deepseek",
          "description": "Data class for file metadata storage in scanning operations, integrates with hashing and token counting for indexing.",
          "references": [],
          "methods": []
        },
        {
          "name": "ProjectScanner",
          "lines": "67-355",
          "tokens": 2721,
          "content_hash": "41d11623bc6309426ca69f8b4efb3bc5",
          "analyzed_by": "deepseek",
          "description": "Recursive directory scanner that builds a JSON project map with file hashes and token counts, supporting incremental sync and language-specific chunking.",
          "references": [
            "FileEntry",
            "FileTypeDetector",
            "Path",
            "SmartJSONChunker",
            "SmartPythonChunker",
            "TokenCounter",
            "asdict",
            "current_paths.add",
            "d.startswith",
            "entry.hash",
            "entry.path",
            "existing_by_path.keys",
            "existing_map.get",
            "f.read",
            "files.append",
            "ftype.startswith",
            "full_path.name",
            "full_path.relative_to",
            "full_path.suffix",
            "hasher.hexdigest",
            "hasher.update",
            "hashlib.md5",
            "json.JSONDecodeError",
            "json.dump",
            "json.load",
            "os.walk",
            "out_path.exists",
            "out_path.open",
            "path.name",
            "path.open",
            "path.read_text",
            "path.suffix",
            "updated_files.append"
          ],
          "methods": [
            "__init__",
            "_hash_file",
            "_should_ignore",
            "_is_binary_file",
            "_count_file_tokens",
            "_should_count_tokens",
            "_scan_single_file",
            "_load_existing_map",
            "scan",
            "sync_scan",
            "get_python_chunks",
            "get_json_chunks",
            "get_chunks_for_file"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-12T11:01:22.603280+00:00"
    },
    "app/services/python_chunker.py": {
      "name": "python_chunker.py",
      "path": "app/services/python_chunker.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\python_chunker.py",
      "file_hash": "ceab251ebedce1322de73476f738b458",
      "tokens_total": 5328,
      "lines_total": 605,
      "imports": {
        "lines": "2-9",
        "modules": [
          "__future__.annotations",
          "ast",
          "dataclasses.dataclass",
          "dataclasses.field",
          "pathlib.Path",
          "typing.List",
          "typing.Optional",
          "typing.Dict",
          "typing.Any",
          "typing.Union",
          "collections.defaultdict",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 50
      },
      "globals": {
        "lines": "11-11",
        "names": [
          "MAX_CHUNK_TOKENS"
        ],
        "tokens": 9
      },
      "description": "AST-based Python source code analyzer that generates both flat chunk lists and hierarchical tree structures for modular code segmentation, supporting contextual assembly and tree navigation for AI processing.",
      "classes": [
        {
          "name": "PythonChunk",
          "lines": "15-23",
          "tokens": 71,
          "content_hash": "e281bc70db73ed45f578b9a20a35bd39",
          "analyzed_by": "deepseek",
          "description": "AST-based code chunker for Python source files, extracts structural elements (classes, functions, imports) with line ranges and token counts for static analysis.",
          "references": [],
          "methods": []
        },
        {
          "name": "PythonTreeNode",
          "lines": "27-60",
          "tokens": 355,
          "content_hash": "5fce199edbdc68c23da62caa1fcd7993",
          "analyzed_by": "deepseek",
          "description": "AST-based hierarchical tree node for Python code structure analysis, maps source code elements to navigable tree with parent-child relationships.",
          "references": [
            "ast.AST",
            "field"
          ],
          "methods": [
            "__post_init__",
            "is_class",
            "is_method",
            "is_function"
          ]
        },
        {
          "name": "SmartPythonChunker",
          "lines": "63-447",
          "tokens": 3360,
          "content_hash": "ac66f5dbbd975a11b5a8a2b9d6337561",
          "analyzed_by": "deepseek",
          "description": "AST-based Python source code analyzer that generates both flat chunk lists and hierarchical tree structures for modular code segmentation.",
          "references": [
            "Path",
            "PythonChunk",
            "PythonTreeNode",
            "TokenCounter",
            "ast.AST",
            "ast.AnnAssign",
            "ast.Assign",
            "ast.AsyncFunctionDef",
            "ast.ClassDef",
            "ast.FunctionDef",
            "ast.Import",
            "ast.ImportFrom",
            "ast.parse",
            "child.name",
            "chunks.append",
            "chunks.extend",
            "class_node.children",
            "class_node.id",
            "code.splitlines",
            "global_lines.extend",
            "import_lines.extend",
            "module_node.children",
            "module_node.id",
            "node.body",
            "node.name",
            "path.name",
            "path.read_text",
            "path.stem",
            "tree.body"
          ],
          "methods": [
            "__init__",
            "chunk_file",
            "chunk_file_to_tree",
            "_process_class_node",
            "_process_function_node",
            "_extract_all_imports",
            "_extract_all_globals",
            "_extract_imports",
            "_extract_globals",
            "_chunk_class_flat",
            "_chunk_function_flat",
            "_get_source_segment"
          ]
        }
      ],
      "functions": [
        {
          "name": "flatten_tree_to_chunks",
          "lines": "452-479",
          "tokens": 208,
          "content_hash": "ba92c2f434c4ff5ee6996ecf1bd0dffe",
          "analyzed_by": "deepseek",
          "description": "Tree-to-list converter for AST node serialization, outputs structured chunks with parent-child metadata.",
          "references": [
            "PythonChunk",
            "chunks.append",
            "node.children",
            "node.content",
            "node.end_line",
            "node.file_path",
            "node.kind",
            "node.name",
            "node.parent_id",
            "node.start_line",
            "node.tokens",
            "traverse"
          ]
        },
        {
          "name": "find_node_in_tree",
          "lines": "482-492",
          "tokens": 79,
          "content_hash": "77d396c78b3664a1bbf7d57f0d610536",
          "analyzed_by": "deepseek",
          "description": "Recursively searches a Python AST node tree by ID, returning the matching node or None if not found.",
          "references": [
            "find_node_in_tree",
            "tree.children",
            "tree.id"
          ]
        },
        {
          "name": "get_node_hierarchy",
          "lines": "495-516",
          "tokens": 183,
          "content_hash": "88fc24d3601095e0b896115a5fe98e28",
          "analyzed_by": "qwen",
          "description": "Traverses a Python AST tree to return the hierarchy path from the root to the specified node, using recursive search.",
          "references": [
            "current.children",
            "current.id",
            "find_path",
            "node.id",
            "path.append",
            "path.pop"
          ]
        },
        {
          "name": "build_context_for_chunk",
          "lines": "520-545",
          "tokens": 278,
          "content_hash": "84ff06c7412a8e6ff2110cf6e1da2dee",
          "analyzed_by": "qwen",
          "description": "Constructs a contextual string for a Python code chunk by including relevant imports, global variables (if not the target), and the target chunk itself, formatted with metadata for use in AI processing.",
          "references": [
            "c.kind",
            "globals_chunk.content",
            "globals_chunk.tokens",
            "imports.content",
            "imports.tokens",
            "parts.append",
            "target_chunk.content",
            "target_chunk.kind",
            "target_chunk.name",
            "target_chunk.tokens"
          ]
        },
        {
          "name": "build_context_for_tree_node",
          "lines": "548-590",
          "tokens": 504,
          "content_hash": "6cd6dc8ef3e7e53ebb39ad4454ea2aac",
          "analyzed_by": "qwen",
          "description": "Собирает контекст для узла Python-дерева, включая импорты, глобалы и заголовки родительских классов, чтобы передать его ИИ. Используется для предоставления полного контекста при обработке конкретного узла.",
          "references": [
            "_extract_class_header",
            "get_node_hierarchy",
            "globals_node.content",
            "globals_node.tokens",
            "imports_node.content",
            "imports_node.tokens",
            "n.kind",
            "node.content",
            "node.id",
            "node.kind",
            "node.name",
            "parts.append",
            "target_node.content",
            "target_node.id",
            "target_node.kind",
            "target_node.name",
            "target_node.tokens"
          ]
        },
        {
          "name": "_extract_class_header",
          "lines": "593-605",
          "tokens": 112,
          "content_hash": "e711118d08243a77f5ffdb0ae6dce752",
          "analyzed_by": "qwen",
          "description": "Extracts the class header (lines before the first method definition) from the given class content string.",
          "references": [
            "class_content.splitlines",
            "header_lines.append",
            "line.lstrip",
            "stripped.startswith"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:02:46.452856+00:00"
    },
    "app/services/sql_chunker.py": {
      "name": "sql_chunker.py",
      "path": "app/services/sql_chunker.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\sql_chunker.py",
      "file_hash": "d61da07edc6102c281e2eb6c42a68c84",
      "tokens_total": 2257,
      "lines_total": 223,
      "imports": {
        "lines": "2-8",
        "modules": [
          "__future__.annotations",
          "re",
          "dataclasses.dataclass",
          "pathlib.Path",
          "typing.List",
          "typing.Optional",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 37
      },
      "globals": {
        "lines": "10-10",
        "names": [
          "MAX_CHUNK_TOKENS"
        ],
        "tokens": 9
      },
      "description": "SQL statement chunker with regex-based classification for DDL/DML operations, integrates token counting and line tracking for structured file segmentation.",
      "classes": [
        {
          "name": "SQLChunk",
          "lines": "14-21",
          "tokens": 114,
          "content_hash": "3f85369945c5e003088d11b29298b032",
          "analyzed_by": "deepseek",
          "description": "SQL statement chunker for parsing and categorizing SQL files into typed segments with line ranges and token counts.",
          "references": [],
          "methods": []
        },
        {
          "name": "SmartSQLChunker",
          "lines": "24-173",
          "tokens": 1668,
          "content_hash": "4f166b497587e775c9866e1a87b06c42",
          "analyzed_by": "deepseek",
          "description": "SQL statement chunker with regex-based classification for DDL/DML operations, integrates token counting and line tracking for structured file segmentation.",
          "references": [
            "Path",
            "SQLChunk",
            "TokenCounter",
            "chunks.append",
            "code.splitlines",
            "content.upper",
            "current_stmt_lines.append",
            "line.strip",
            "match.group",
            "match.lastindex",
            "path.name",
            "path.read_text",
            "pattern.search",
            "re.IGNORECASE",
            "re.MULTILINE",
            "re.compile",
            "re.sub",
            "statements.append",
            "stripped.endswith",
            "stripped.startswith"
          ],
          "methods": [
            "__init__",
            "chunk_file",
            "_split_statements",
            "_classify_statement"
          ]
        }
      ],
      "functions": [
        {
          "name": "build_sql_context",
          "lines": "176-203",
          "tokens": 278,
          "content_hash": "9abf99757a03a3f6f93b8ea35c03a2d3",
          "analyzed_by": "deepseek",
          "description": "Generates SQL context for AI processing by embedding table schema definitions before DML operations, integrating with a chunk-based SQL parsing system.",
          "references": [
            "c.kind",
            "c.name",
            "parts.append",
            "table_def.content",
            "table_def.name",
            "table_name.lower",
            "target_chunk.content",
            "target_chunk.kind",
            "target_chunk.name"
          ]
        },
        {
          "name": "group_sql_by_table",
          "lines": "206-223",
          "tokens": 134,
          "content_hash": "50b1f220c037d7b709fba4eacd5fea2b",
          "analyzed_by": "deepseek",
          "description": "Groups SQL chunks by table name for operation analysis, excluding file-type chunks and mapping unnamed statements to a misc category.",
          "references": [
            "chunk.kind",
            "chunk.name"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:02:06.631442+00:00"
    },
    "app/utils/__init__.py": {
      "name": "__init__.py",
      "path": "app/utils/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\__init__.py",
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "tokens_total": 0,
      "lines_total": 0,
      "imports": null,
      "globals": null,
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-12T11:00:39.222504+00:00"
    },
    "app/utils/compact_index.py": {
      "name": "compact_index.py",
      "path": "app/utils/compact_index.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\compact_index.py",
      "file_hash": "6bfc43c44ed860653d62205fc786b07f",
      "tokens_total": 1637,
      "lines_total": 234,
      "imports": {
        "lines": "10-13",
        "modules": [
          "__future__.annotations",
          "json",
          "pathlib.Path",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "typing.Optional"
        ],
        "tokens": 25
      },
      "globals": {
        "lines": "234-234",
        "names": [
          "get_compact_index_for_orchestrator"
        ],
        "tokens": 14
      },
      "description": "Utility module for generating compact project overviews and chunk metadata from semantic indexes, supporting navigation and pre-filtering in the Orchestrator system.",
      "classes": [],
      "functions": [
        {
          "name": "create_compact_index",
          "lines": "16-69",
          "tokens": 426,
          "content_hash": "81ab3d0419e6c263fb334205b3f7b2f2",
          "analyzed_by": "qwen",
          "description": "Generates a compact markdown project structure from a semantic index, grouping files by directory and showing names, token counts, and truncated descriptions. Used by Orchestrator to navigate and understand the project layout.",
          "references": [
            "Path",
            "by_dir.keys",
            "file_data.get",
            "files_data.items",
            "index.get",
            "lines.append"
          ]
        },
        {
          "name": "create_chunks_list_for_prefilter",
          "lines": "72-123",
          "tokens": 409,
          "content_hash": "99ff77b0adb6caf5cf92e48482560b8b",
          "analyzed_by": "qwen",
          "description": "Generates a JSON-formatted list of code chunks (classes and functions) from a semantic index for use with Pre-filter, including metadata like name, file, lines, tokens, and references.",
          "references": [
            "chunks.append",
            "chunks.sort",
            "file_info.get",
            "files_data.items",
            "func.get",
            "index.get",
            "json.dumps"
          ]
        },
        {
          "name": "get_chunk_info_from_index",
          "lines": "126-194",
          "tokens": 490,
          "content_hash": "a3acd5fa84b96cf357442f1fd1297f50",
          "analyzed_by": "qwen",
          "description": "Retrieves metadata for a specific code chunk (class or function) from an index using a chunk ID formatted as \"file_path:element_name\". Searches both exact and similar file paths and matches against class or function names.",
          "references": [
            "chunk_id.rsplit",
            "element_name.split",
            "file_data.get",
            "file_path.endswith",
            "files_data.get",
            "files_data.items",
            "fpath.endswith",
            "func.get",
            "index.get"
          ]
        },
        {
          "name": "count_total_chunks",
          "lines": "197-211",
          "tokens": 97,
          "content_hash": "38763c6c44b0fa4e4d626d2eb4aa619e",
          "analyzed_by": "qwen",
          "description": "Counts the total number of classes and functions across all files in a semantic index.",
          "references": [
            "file_data.get",
            "index.get"
          ]
        },
        {
          "name": "load_index_from_file",
          "lines": "214-232",
          "tokens": 112,
          "content_hash": "6d47afb3ce9a97a58c5cea990f31c49c",
          "analyzed_by": "qwen",
          "description": "Loads a semantic index from a JSON file, returning the parsed dictionary or None if the file is missing or invalid.",
          "references": [
            "Path",
            "json.JSONDecodeError",
            "json.load",
            "path.exists",
            "path.open"
          ]
        }
      ],
      "last_indexed": "2025-12-28T21:17:08.290186+00:00"
    },
    "app/utils/file_types.py": {
      "name": "file_types.py",
      "path": "app/utils/file_types.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\file_types.py",
      "file_hash": "d2eda19dfdef0a1346d62481532bec9b",
      "tokens_total": 517,
      "lines_total": 74,
      "imports": {
        "lines": "2-2",
        "modules": [
          "pathlib.Path"
        ],
        "tokens": 4
      },
      "globals": null,
      "description": "File type classifier using extension mapping for code, text, data, SQL, and config files, with chunking and encoding support methods for system-wide file handling and processing.",
      "classes": [
        {
          "name": "FileTypeDetector",
          "lines": "5-74",
          "tokens": 505,
          "content_hash": "309647837605ce323aff88e0c48cdf44",
          "analyzed_by": "deepseek",
          "description": "File type classifier using extension mapping for code, text, data, SQL, and config files, with chunking and encoding support methods.",
          "references": [
            "Path",
            "file_type.startswith",
            "p.suffix"
          ],
          "methods": [
            "detect",
            "is_chunkable_code",
            "is_text_based"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-12T11:01:02.514843+00:00"
    },
    "app/utils/token_counter.py": {
      "name": "token_counter.py",
      "path": "app/utils/token_counter.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\token_counter.py",
      "file_hash": "79c502fbc97031edd20163079161174a",
      "tokens_total": 191,
      "lines_total": 20,
      "imports": {
        "lines": "2-2",
        "modules": [
          "tiktoken"
        ],
        "tokens": 3
      },
      "globals": null,
      "description": "Token counting utility for text strings using tiktoken encodings, supporting batch processing and defaulting to cl100k_base encoding.",
      "classes": [
        {
          "name": "TokenCounter",
          "lines": "4-20",
          "tokens": 180,
          "content_hash": "b6be66a9a30798bef076704dec1d309c",
          "analyzed_by": "deepseek",
          "description": "Token counting utility for text strings using tiktoken encodings, provides batch processing for lists and defaults to cl100k_base encoding.",
          "references": [
            "tiktoken.get_encoding"
          ],
          "methods": [
            "__init__",
            "count",
            "count_list"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-12T11:01:23.053230+00:00"
    },
    "app/utils/xml_parser.py": {
      "name": "xml_parser.py",
      "path": "app/utils/xml_parser.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\xml_parser.py",
      "file_hash": "e10a20ce27e072974d800bf723aeaac8",
      "tokens_total": 3770,
      "lines_total": 449,
      "imports": {
        "lines": "17-22",
        "modules": [
          "__future__.annotations",
          "re",
          "ast",
          "dataclasses.dataclass",
          "dataclasses.field",
          "typing.List",
          "typing.Optional",
          "typing.Dict",
          "typing.Any",
          "enum.Enum"
        ],
        "tokens": 37
      },
      "globals": null,
      "description": "XML parsing and validation system for extracting and processing AI-generated code blocks from XML responses, integrating syntax validation, language detection, and structured metadata handling.",
      "classes": [
        {
          "name": "CodeLanguage",
          "lines": "25-32",
          "tokens": 48,
          "content_hash": "15f61ddfc83ab588a8ab218d6ff8fc14",
          "analyzed_by": "deepseek",
          "description": "Enumeration for identifying programming and markup languages, used for language-specific parsing and processing within an XML parsing system.",
          "references": [],
          "methods": []
        },
        {
          "name": "ParsedCodeBlock",
          "lines": "36-48",
          "tokens": 210,
          "content_hash": "18c80eb59f9f11717bf685ab4fc73a5f",
          "analyzed_by": "deepseek",
          "description": "Data container for parsed AI-generated code blocks with syntax validation and metadata support, integrates with code analysis and file manipulation systems.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "XMLResponseParser",
          "lines": "51-355",
          "tokens": 2596,
          "content_hash": "04d61ebf93f0b1d885b98f5df1f18a35",
          "analyzed_by": "deepseek",
          "description": "Multi-format code extraction parser for AI responses with XML, CDATA, and Markdown support, includes syntax validation and language detection.",
          "references": [
            "CodeLanguage.GO",
            "CodeLanguage.JSON",
            "CodeLanguage.MARKDOWN",
            "CodeLanguage.PYTHON",
            "CodeLanguage.SQL",
            "CodeLanguage.TEXT",
            "CodeLanguage.UNKNOWN",
            "ParsedCodeBlock",
            "ast.parse",
            "attr_match.group",
            "attrs.get",
            "blocks.append",
            "content.replace",
            "content.rstrip",
            "content.split",
            "content.strip",
            "content_stripped.endswith",
            "content_stripped.startswith",
            "e.lineno",
            "e.msg",
            "hint.lower",
            "json.JSONDecodeError",
            "json.loads",
            "line.lstrip",
            "line.strip",
            "match.group",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.MULTILINE",
            "re.Match",
            "re.compile",
            "re.search",
            "response.strip",
            "stripped.startswith",
            "tag_match.group",
            "text.replace"
          ],
          "methods": [
            "__init__",
            "parse",
            "parse_single",
            "_parse_xml_match",
            "_parse_markdown_match",
            "_parse_plain_code",
            "_detect_language",
            "_detect_language_from_content",
            "_detect_base_indent",
            "_validate_syntax",
            "_decode_html_entities"
          ]
        },
        {
          "name": "CodeBlockBuilder",
          "lines": "389-449",
          "tokens": 463,
          "content_hash": "6d3e7ae21a38cbc9693bcf8338a594e1",
          "analyzed_by": "deepseek",
          "description": "Code generation template builder for AI responses, formats code blocks with XML/ CDATA wrappers and metadata attributes for structured parsing.",
          "references": [
            "attrs.append",
            "code.replace"
          ],
          "methods": [
            "get_response_format_instruction",
            "format_code_for_ai"
          ]
        }
      ],
      "functions": [
        {
          "name": "extract_code_from_response",
          "lines": "360-367",
          "tokens": 81,
          "content_hash": "3c8aad2e5f84088f6d83b7dc8aa6b25f",
          "analyzed_by": "qwen",
          "description": "Extracts code content from an XML-formatted response string, optionally validating the syntax. Returns the extracted content as a string or None if no block is found.",
          "references": [
            "XMLResponseParser",
            "block.content",
            "parser.parse_single"
          ]
        },
        {
          "name": "extract_and_validate",
          "lines": "370-386",
          "tokens": 154,
          "content_hash": "53d3b3e02ae589890ac0387551ebba75",
          "analyzed_by": "qwen",
          "description": "Extracts and validates code from an XML response, checking for syntax validity and language match. Returns the code, validation status, and any error message.",
          "references": [
            "CodeLanguage.PYTHON",
            "CodeLanguage.UNKNOWN",
            "XMLResponseParser",
            "block.content",
            "block.is_valid_syntax",
            "block.language",
            "block.syntax_error",
            "expected_language.value",
            "parser.parse_single"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:02:40.310943+00:00"
    },
    "app/utils/xml_wrapper.py": {
      "name": "xml_wrapper.py",
      "path": "app/utils/xml_wrapper.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\xml_wrapper.py",
      "file_hash": "5a4794a98ee00253e8b44c358660582e",
      "tokens_total": 7448,
      "lines_total": 783,
      "imports": {
        "lines": "12-20",
        "modules": [
          "__future__.annotations",
          "re",
          "dataclasses.dataclass",
          "typing.List",
          "typing.Optional",
          "typing.Union",
          "pathlib.Path",
          "app.services.python_chunker.PythonChunk",
          "app.services.go_chunker.GoChunk",
          "app.services.sql_chunker.SQLChunk"
        ],
        "tokens": 60
      },
      "globals": {
        "lines": "23-23",
        "names": [
          "AnyChunk"
        ],
        "tokens": 14
      },
      "description": "XML serialization framework for code/text preservation with CDATA encapsulation, supporting hierarchical metadata embedding and context-aware chunk wrapping for AI analysis workflows.",
      "classes": [
        {
          "name": "FileContent",
          "lines": "27-33",
          "tokens": 48,
          "content_hash": "398db6dd79b1034387fcff5c94dcd4b5",
          "analyzed_by": "deepseek",
          "description": "Data container for file metadata and content with token count, supporting XML and text file processing workflows.",
          "references": [],
          "methods": []
        },
        {
          "name": "XMLWrapper",
          "lines": "36-359",
          "tokens": 2900,
          "content_hash": "85f14906c8a1564f569800e59a61d3a9",
          "analyzed_by": "deepseek",
          "description": "XML serializer for code/text preservation with CDATA encapsulation, supporting file/chunk wrapping and context-aware metadata embedding.",
          "references": [
            "FileContent",
            "Path",
            "TokenCounter",
            "attrs.append",
            "chunk.content",
            "chunk.end_line",
            "chunk.file_path",
            "chunk.start_line",
            "chunk.tokens",
            "class_content.split",
            "content.replace",
            "content.split",
            "context_parts.append",
            "file.content",
            "file.encoding",
            "file.file_type",
            "file.path",
            "file.tokens",
            "globals_chunk.content",
            "globals_chunk.tokens",
            "header_lines.append",
            "imports.content",
            "imports.tokens",
            "line.lstrip",
            "line.strip",
            "match.group",
            "parent_class.content",
            "parts.append",
            "path.read_text",
            "re.DOTALL",
            "re.search",
            "stripped.count",
            "stripped.startswith",
            "value.replace"
          ],
          "methods": [
            "__init__",
            "wrap_file",
            "wrap_file_from_path",
            "wrap_chunk",
            "wrap_chunks",
            "wrap_text",
            "_build_context",
            "_extract_class_header",
            "_detect_base_indent",
            "_escape_cdata",
            "_escape_attr",
            "_add_line_numbers",
            "unwrap_content"
          ]
        },
        {
          "name": "HierarchyChunk",
          "lines": "413-420",
          "tokens": 115,
          "content_hash": "6b351ddae907d6105eb573fe31029472",
          "analyzed_by": "deepseek",
          "description": "Hierarchical metadata container for code chunks, supporting nested structure tracking and token counting for document processing systems.",
          "references": [],
          "methods": []
        },
        {
          "name": "HierarchyXMLWrapper",
          "lines": "423-735",
          "tokens": 3283,
          "content_hash": "01a965c9bc85f5995b1f9a37029581e7",
          "analyzed_by": "qwen",
          "description": "Специализированный XML-обертка для анализа Python-кода, поддерживающий иерархию классов и методов, генерацию промтов для Qwen и DeepSeek, а также подготовку данных для анализа с учетом токенов и контекста.",
          "references": [
            "FileContent",
            "HierarchyChunk",
            "TokenCounter",
            "XMLWrapper",
            "base_prompt.format",
            "chunk.content",
            "class_chunk.chunk",
            "class_chunk.full_hierarchy",
            "class_file.tokens",
            "imports.append",
            "lines.append",
            "m.chunk",
            "method.chunk",
            "method_chunk.chunk",
            "method_chunk.full_hierarchy",
            "method_chunk.total_tokens"
          ],
          "methods": [
            "__init__",
            "wrap_method_for_analysis",
            "_create_method_prompt",
            "wrap_class_for_analysis",
            "_assemble_full_class",
            "_select_model_for_class",
            "_create_class_prompt",
            "wrap_function_for_analysis",
            "create_hierarchy_chunk",
            "extract_imports_context"
          ]
        }
      ],
      "functions": [
        {
          "name": "wrap_python_chunk_with_context",
          "lines": "364-370",
          "tokens": 84,
          "content_hash": "ef5b7f960241d72569055a073480f3aa",
          "analyzed_by": "qwen",
          "description": "Generates an XML-wrapped representation of a Python code chunk with contextual imports and globals from related chunks.",
          "references": [
            "XMLWrapper",
            "wrapper.wrap_chunk"
          ]
        },
        {
          "name": "wrap_go_chunk_with_context",
          "lines": "373-376",
          "tokens": 67,
          "content_hash": "daba25d76e5956ef17c53c5a96f0c3c8",
          "analyzed_by": "qwen",
          "description": "Wraps a GoChunk with its contextual chunks in XML format using an XMLWrapper. Integrates with GoChunk and XMLWrapper classes for structured output.",
          "references": [
            "XMLWrapper",
            "wrapper.wrap_chunk"
          ]
        },
        {
          "name": "wrap_sql_chunk_with_context",
          "lines": "379-382",
          "tokens": 67,
          "content_hash": "b9384bc58122ab9bae921ad69642d319",
          "analyzed_by": "qwen",
          "description": "Wraps an SQL chunk with its context using XML, utilizing a list of related SQL chunks for contextual inclusion.",
          "references": [
            "XMLWrapper",
            "wrapper.wrap_chunk"
          ]
        },
        {
          "name": "wrap_file_simple",
          "lines": "385-406",
          "tokens": 155,
          "content_hash": "995c2cdca25c64c5094a94dfd77af937",
          "analyzed_by": "qwen",
          "description": "Wraps a file in XML format using detected file type and token count, integrating with FileTypeDetector and TokenCounter.",
          "references": [
            "FileContent",
            "FileTypeDetector",
            "Path",
            "TokenCounter",
            "XMLWrapper",
            "path.read_text",
            "wrapper.wrap_file"
          ]
        },
        {
          "name": "create_hierarchy_wrapper",
          "lines": "740-742",
          "tokens": 34,
          "content_hash": "2c6b75275ad9c0bb137b2b877f094105",
          "analyzed_by": "qwen",
          "description": "Factory function that creates and returns an instance of HierarchyXMLWrapper, used for handling XML hierarchy structures.",
          "references": [
            "HierarchyXMLWrapper"
          ]
        },
        {
          "name": "prepare_method_for_ai",
          "lines": "745-758",
          "tokens": 135,
          "content_hash": "595d821d04419d7a41634a1fd2eeb9b9",
          "analyzed_by": "qwen",
          "description": "Prepares a method chunk for AI analysis by wrapping it with hierarchy information. Uses HierarchyXMLWrapper to build a structured representation for further processing.",
          "references": [
            "HierarchyXMLWrapper.create_hierarchy_chunk",
            "create_hierarchy_wrapper",
            "wrapper.wrap_method_for_analysis"
          ]
        },
        {
          "name": "prepare_class_for_ai",
          "lines": "761-783",
          "tokens": 213,
          "content_hash": "b22c68c95bc66d5aeac914444ade9809",
          "analyzed_by": "qwen",
          "description": "Prepares a class and its methods for AI analysis by creating hierarchical XML wrappers, integrating with HierarchyXMLWrapper for structure and inheritance representation.",
          "references": [
            "HierarchyXMLWrapper.create_hierarchy_chunk",
            "class_hierarchy.hierarchy_path",
            "create_hierarchy_wrapper",
            "wrapper.wrap_class_for_analysis"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:03:01.523222+00:00"
    },
    "check_models.py": {
      "name": "check_models.py",
      "path": "check_models.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\check_models.py",
      "file_hash": "9d6a21835174f189f30db76526ff4532",
      "tokens_total": 156,
      "lines_total": 18,
      "imports": {
        "lines": "4-5",
        "modules": [
          "requests",
          "config.settings.cfg"
        ],
        "tokens": 8
      },
      "globals": {
        "lines": "8-14",
        "names": [
          "resp",
          "models",
          "qwen_models"
        ],
        "tokens": 70
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-12T11:01:23.053230+00:00"
    },
    "config/__init__.py": {
      "name": "__init__.py",
      "path": "config/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\config\\__init__.py",
      "file_hash": "d41d8cd98f00b204e9800998ecf8427e",
      "tokens_total": 0,
      "lines_total": 0,
      "imports": null,
      "globals": null,
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-12T11:01:23.053230+00:00"
    },
    "config/settings.py": {
      "name": "settings.py",
      "path": "config/settings.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\config\\settings.py",
      "file_hash": "16b504d33f84eec718793f4f573e4d7f",
      "tokens_total": 6598,
      "lines_total": 557,
      "imports": {
        "lines": "2-4",
        "modules": [
          "os",
          "dotenv.load_dotenv",
          "pathlib.Path"
        ],
        "tokens": 14
      },
      "globals": {
        "lines": "7-510",
        "names": [
          "BASE_DIR",
          "AVAILABLE_GENERATOR_MODELS",
          "cfg"
        ],
        "tokens": 366
      },
      "description": "Central configuration management for AI agent settings and provider routing, with integrated console logging for configuration summary and API key status.",
      "classes": [
        {
          "name": "Config",
          "lines": "10-469",
          "tokens": 5300,
          "content_hash": "51a9feb28a979e90ff8f0fe281a6f31a",
          "analyzed_by": "qwen",
          "description": "Central configuration class for managing AI model settings, API keys, and routing logic, integrating with multiple providers including DeepSeek, OpenRouter, RouterAI, and Gemini.",
          "references": [
            "conf.get",
            "model_id.split",
            "os.getenv"
          ],
          "methods": [
            "get_provider_config",
            "get_orchestrator_model_config",
            "get_available_orchestrator_models",
            "validate_orchestrator_model",
            "get_model_connection_config",
            "get_model_display_name",
            "get_active_validation_levels",
            "get_ai_validator_model"
          ]
        }
      ],
      "functions": [
        {
          "name": "print_config_summary",
          "lines": "513-552",
          "tokens": 768,
          "content_hash": "8d9a15ed8174b1b0ee30e29b315e042d",
          "analyzed_by": "qwen",
          "description": "Выводит в консоль сводную информацию о конфигурации AI-агента, включая режим работы роутера, используемые модели, настройки и статус API-ключей.",
          "references": [
            "cfg.AGENT_MODELS",
            "cfg.DEEPSEEK_API_KEY",
            "cfg.HISTORY_COMPRESSION_ENABLED",
            "cfg.MODEL_NORMAL",
            "cfg.OPENROUTER_API_KEY",
            "cfg.ORCHESTRATOR_COMPLEX_MODEL",
            "cfg.ORCHESTRATOR_FIXED_MODEL",
            "cfg.ORCHESTRATOR_MEDIUM_MODEL",
            "cfg.ORCHESTRATOR_SIMPLE_MODEL",
            "cfg.PRE_FILTER_MAX_CHUNKS",
            "cfg.PRE_FILTER_MAX_TOKENS",
            "cfg.ROUTERAI_API_KEY",
            "cfg.ROUTER_MODEL",
            "cfg.get_model_display_name",
            "cfg.get_orchestrator_model_config"
          ]
        }
      ],
      "last_indexed": "2026-01-12T12:24:26.067370+00:00"
    },
    "debug_cert.py": {
      "name": "debug_cert.py",
      "path": "debug_cert.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\debug_cert.py",
      "file_hash": "2faf1930bc098791e57ea9b884147178",
      "tokens_total": 451,
      "lines_total": 41,
      "imports": {
        "lines": "1-2",
        "modules": [
          "os",
          "requests"
        ],
        "tokens": 5
      },
      "globals": {
        "lines": "6-6",
        "names": [
          "CERT_PATH"
        ],
        "tokens": 24
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-12T11:01:23.267223+00:00"
    },
    "examples/test_index/nested_example.py": {
      "name": "nested_example.py",
      "path": "examples/test_index/nested_example.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\examples\\test_index\\nested_example.py",
      "file_hash": "dd317a2dec57eeeeaed2e4a435435a45",
      "tokens_total": 276,
      "lines_total": 50,
      "imports": null,
      "globals": null,
      "description": "A nested class hierarchy for organizational encapsulation and database connection management, integrating SQL query execution with automatic connection handling.",
      "classes": [
        {
          "name": "Outer",
          "lines": "6-23",
          "tokens": 99,
          "content_hash": "4909f1a845aa44599f6b7641b6d36164",
          "analyzed_by": "deepseek",
          "description": "Nested class hierarchy for organizational encapsulation, with Outer providing access to Inner instances via its methods.",
          "references": [
            "inner.inner_method"
          ],
          "methods": [
            "outer_method"
          ]
        },
        {
          "name": "Database",
          "lines": "26-50",
          "tokens": 162,
          "content_hash": "874a8872b5c136c5eb73519aac1496d6",
          "analyzed_by": "deepseek",
          "description": "Database class with nested Connection management for SQL query execution, handles automatic connection establishment before queries.",
          "references": [],
          "methods": [
            "__init__",
            "query"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-12T11:02:06.769462+00:00"
    },
    "examples/test_index/simple_module.py": {
      "name": "simple_module.py",
      "path": "examples/test_index/simple_module.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\examples\\test_index\\simple_module.py",
      "file_hash": "0dd7928dd9c01dc1c3b7bca3190a73b1",
      "tokens_total": 570,
      "lines_total": 83,
      "imports": {
        "lines": "6-8",
        "modules": [
          "os",
          "json",
          "typing.List",
          "typing.Dict",
          "typing.Optional"
        ],
        "tokens": 14
      },
      "globals": {
        "lines": "10-11",
        "names": [
          "API_KEY",
          "CONFIG"
        ],
        "tokens": 22
      },
      "description": "A Python module providing user and admin entity classes with authentication and persistence, alongside utility functions for statistical computation and asynchronous data fetching.",
      "classes": [
        {
          "name": "User",
          "lines": "14-41",
          "tokens": 237,
          "content_hash": "c15e36dae9eff0a97fea3ff621ffd200",
          "analyzed_by": "deepseek",
          "description": "User entity class with authentication and email update methods, includes private password hashing and simulated database persistence.",
          "references": [
            "hashlib.sha256",
            "password.encode"
          ],
          "methods": [
            "__init__",
            "login",
            "_hash_password",
            "update_email",
            "_save_to_db"
          ]
        },
        {
          "name": "Admin",
          "lines": "44-54",
          "tokens": 93,
          "content_hash": "e2e266ed1b64f8d82adac10bd246a18a",
          "analyzed_by": "deepseek",
          "description": "User subclass for administrative roles with permission management and user banning functionality, integrates with existing user authentication system.",
          "references": [
            "user.username"
          ],
          "methods": [
            "__init__",
            "ban_user"
          ]
        }
      ],
      "functions": [
        {
          "name": "calculate_stats",
          "lines": "57-71",
          "tokens": 91,
          "content_hash": "ac886d6858b18c63adbee1dee6141caf",
          "analyzed_by": "deepseek",
          "description": "Statistical computation function for integer lists, returns aggregated metrics as a dictionary.",
          "references": []
        },
        {
          "name": "fetch_data",
          "lines": "74-83",
          "tokens": 84,
          "content_hash": "fa2631b650ee83689cc9c68fdc00832f",
          "analyzed_by": "qwen",
          "description": "Asynchronously fetches data from a given URL using aiohttp and returns it as a dictionary, or None if an error occurs.",
          "references": [
            "aiohttp.ClientSession",
            "response.json",
            "session.get"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:02:35.014490+00:00"
    },
    "examples/test_index/utils.py": {
      "name": "utils.py",
      "path": "examples/test_index/utils.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\examples\\test_index\\utils.py",
      "file_hash": "10b790311cc50502e3a1e7f221f997fa",
      "tokens_total": 215,
      "lines_total": 34,
      "imports": null,
      "globals": null,
      "description": "Utility module providing a thread-safe singleton for configuration, string formatting for names, and email validation via regex.",
      "classes": [
        {
          "name": "Singleton",
          "lines": "18-34",
          "tokens": 97,
          "content_hash": "5f81dfbd39ad4d9331cd3e40c88606bb",
          "analyzed_by": "deepseek",
          "description": "Thread-safe singleton implementation for global configuration management, provides key-value storage with dictionary-based data persistence.",
          "references": [],
          "methods": [
            "__new__",
            "__init__",
            "set",
            "get"
          ]
        }
      ],
      "functions": [
        {
          "name": "format_name",
          "lines": "6-8",
          "tokens": 37,
          "content_hash": "b5cd2e02a03ffa7ce6cc7df3824c2479",
          "analyzed_by": "deepseek",
          "description": "String formatting utility for concatenating and capitalizing first and last names into a title-case full name string.",
          "references": []
        },
        {
          "name": "validate_email",
          "lines": "11-15",
          "tokens": 67,
          "content_hash": "c040fb30a4f149c639ee5c6cc6cc086e",
          "analyzed_by": "qwen",
          "description": "Validates an email address using a regular expression pattern.",
          "references": [
            "re.match"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:02:35.634562+00:00"
    },
    "main.py": {
      "name": "main.py",
      "path": "main.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\main.py",
      "file_hash": "3e5447aced98265d8d3033a993b534cc",
      "tokens_total": 61829,
      "lines_total": 6266,
      "imports": {
        "lines": "26-87",
        "modules": [
          "__future__.annotations",
          "re",
          "os",
          "sys",
          "asyncio",
          "logging",
          "signal",
          "traceback",
          "pathlib.Path",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Tuple",
          "datetime.datetime",
          "rich.console.Console",
          "rich.panel.Panel",
          "rich.markdown.Markdown",
          "rich.prompt.Prompt",
          "rich.prompt.Confirm",
          "rich.table.Table",
          "rich.tree.Tree",
          "rich.live.Live",
          "rich.spinner.Spinner",
          "rich.text.Text",
          "rich.syntax.Syntax",
          "rich.layout.Layout",
          "rich.box",
          "config.settings.cfg",
          "app.history.manager.HistoryManager",
          "app.history.storage.Thread",
          "app.history.storage.Message",
          "app.utils.token_counter.TokenCounter",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Tuple",
          "typing.TYPE_CHECKING"
        ],
        "tokens": 173
      },
      "globals": {
        "lines": "101-502",
        "names": [
          "LOG_DIR",
          "log_formatter",
          "file_handler",
          "ai_error_handler",
          "console_handler",
          "ai_logger",
          "logger",
          "console",
          "APP_NAME",
          "APP_VERSION",
          "DEFAULT_USER_ID",
          "BACK_COMMANDS",
          "MENU_COMMANDS",
          "QUIT_COMMANDS",
          "COLORS",
          "AVAILABLE_ORCHESTRATOR_MODELS",
          "AVAILABLE_GENERATOR_MODELS",
          "state"
        ],
        "tokens": 1284
      },
      "description": "CLI application framework with custom navigation exceptions and structured logging, integrating state management and user input handling for menu-driven workflows.",
      "classes": [
        {
          "name": "DetailedFormatter",
          "lines": "105-117",
          "tokens": 118,
          "content_hash": "4f35e50736002cbbb0cd21726dbcab69",
          "analyzed_by": "qwen",
          "description": "Форматирует логи с добавлением полного traceback для ошибок, расширяет стандартное форматирование logging.",
          "references": [
            "logging.Formatter",
            "record.exc_info",
            "traceback.format_exception"
          ],
          "methods": [
            "format"
          ]
        },
        {
          "name": "BackToMenuException",
          "lines": "208-210",
          "tokens": 27,
          "content_hash": "430a19061d84afbade8be21fb15231d0",
          "analyzed_by": "qwen",
          "description": "Custom exception class used to trigger a return to the main menu, typically in command-line interfaces or menu-driven applications.",
          "references": [],
          "methods": []
        },
        {
          "name": "BackException",
          "lines": "213-215",
          "tokens": 25,
          "content_hash": "1bed52934ac26e7c466c3ad5c394c999",
          "analyzed_by": "qwen",
          "description": "Custom exception class used to signal a step-back action in the program flow.",
          "references": [],
          "methods": []
        },
        {
          "name": "QuitException",
          "lines": "218-220",
          "tokens": 21,
          "content_hash": "9f6a7b410d6f3c8d2fd572f3618060cc",
          "analyzed_by": "qwen",
          "description": "Custom exception used to signal program termination.",
          "references": [],
          "methods": []
        },
        {
          "name": "AppState",
          "lines": "435-498",
          "tokens": 654,
          "content_hash": "d78a23563ffb2f6ee4da6a4681a263ff",
          "analyzed_by": "qwen",
          "description": "Manages global application state with session and project settings, integrates with HistoryManager and model configuration via cfg.",
          "references": [
            "cfg.AGENT_MODELS",
            "cfg.MODEL_NORMAL",
            "cfg.ORCHESTRATOR_SIMPLE_MODEL",
            "cfg.ROUTER_ENABLED"
          ],
          "methods": [
            "__init__",
            "reset_session",
            "reset_project",
            "get_current_orchestrator_model",
            "get_current_generator_model"
          ]
        }
      ],
      "functions": [
        {
          "name": "log_ai_error",
          "lines": "227-282",
          "tokens": 515,
          "content_hash": "183e6e77071e1a69917fed57a788fb58",
          "analyzed_by": "qwen",
          "description": "Логирует ошибки, связанные с AI-операциями, с контекстом, моделью, усеченными данными запроса и ответа, используя отдельный логгер и основной лог.",
          "references": [
            "ai_logger.error",
            "datetime.now",
            "logger.error",
            "request_data.items"
          ]
        },
        {
          "name": "log_pipeline_stage",
          "lines": "285-322",
          "tokens": 339,
          "content_hash": "2e4f390b21596374f38f542de89dae64",
          "analyzed_by": "qwen",
          "description": "Логирует этапы pipeline с сообщениями, данными и ошибками, поддерживает усечение больших данных и вывод в консоль при включенном DEBUG-режиме. Интегрируется с логгерами logger и ai_logger.",
          "references": [
            "ai_logger.error",
            "console.print",
            "data.items",
            "logger.error",
            "logger.info",
            "os.getenv"
          ]
        },
        {
          "name": "check_navigation",
          "lines": "509-530",
          "tokens": 174,
          "content_hash": "ff489c304b66921826fe4d22a3240276",
          "analyzed_by": "qwen",
          "description": "Проверяет введенные пользователем команды на соответствие командам навигации и генерирует исключения для перехода назад, в меню или выхода.",
          "references": [
            "BackException",
            "BackToMenuException",
            "QuitException",
            "user_input.strip"
          ]
        },
        {
          "name": "print_navigation_hint",
          "lines": "533-542",
          "tokens": 99,
          "content_hash": "b2226ea2d507cced0e24d6365a8e4b91",
          "analyzed_by": "qwen",
          "description": "Displays navigation hints with options to go back, return to the main menu, or exit, with customizable visibility for \"back\" and \"menu\" options.",
          "references": [
            "console.print",
            "hints.append"
          ]
        },
        {
          "name": "prompt_with_navigation",
          "lines": "545-589",
          "tokens": 404,
          "content_hash": "706f4024d5d65f4d598e479a3f1528aa",
          "analyzed_by": "qwen",
          "description": "Обёртка над Prompt.ask с поддержкой навигационных команд (назад, меню, выход), интегрируется с пользовательским вводом и обработкой исключений.",
          "references": [
            "Prompt.ask",
            "all_choices.extend",
            "check_navigation",
            "print_navigation_hint"
          ]
        },
        {
          "name": "confirm_with_navigation",
          "lines": "592-632",
          "tokens": 319,
          "content_hash": "8eb38a7091e2a3c416b76fb9da5a54fb",
          "analyzed_by": "qwen",
          "description": "Provides a navigation-aware confirmation prompt with support for back, menu, and quit actions, using default values and handling keyboard interrupts. Integrates with navigation system through exceptions and prompt handling.",
          "references": [
            "Prompt.ask",
            "QuitException",
            "check_navigation",
            "console.print",
            "logger.debug",
            "print_navigation_hint",
            "result.strip"
          ]
        },
        {
          "name": "print_header",
          "lines": "638-646",
          "tokens": 149,
          "content_hash": "822c5430dd733da3329e06388d6609d5",
          "analyzed_by": "qwen",
          "description": "Displays the application header with title, version, and purpose using rich console formatting.",
          "references": [
            "console.print"
          ]
        },
        {
          "name": "print_status_bar",
          "lines": "649-713",
          "tokens": 643,
          "content_hash": "c0ec376643c3ea0644b600141c0a55b6",
          "analyzed_by": "qwen",
          "description": "Generates and prints a status bar with current application state information, including mode, project, models, thread, and token usage, using rich text formatting.",
          "references": [
            "Panel",
            "Path",
            "box.ROUNDED",
            "console.print",
            "get_generator_model_short_name",
            "get_model_short_name",
            "mode_icons.get",
            "mode_names.get",
            "parts.append",
            "state.current_thread",
            "state.enable_type_checking",
            "state.get_current_generator_model",
            "state.get_current_orchestrator_model",
            "state.is_legal_mode",
            "state.is_new_project",
            "state.mode",
            "state.project_dir",
            "state.total_tokens_used",
            "state.use_router"
          ]
        },
        {
          "name": "print_main_menu",
          "lines": "716-736",
          "tokens": 360,
          "content_hash": "41f89106648064b704208e08944486db",
          "analyzed_by": "qwen",
          "description": "Displays the main application menu with available modes, settings, and options using a styled console table, integrated with console and state modules for UI and configuration.",
          "references": [
            "Panel",
            "Table",
            "console.clear",
            "console.print",
            "get_generator_model_short_name",
            "menu.add_column",
            "menu.add_row",
            "print_header",
            "state.enable_type_checking",
            "state.generator_model"
          ]
        },
        {
          "name": "print_about",
          "lines": "740-923",
          "tokens": 2199,
          "content_hash": "f98b8bbdd7ce8523ce59ad3ebb0675b5",
          "analyzed_by": "qwen",
          "description": "Выводит подробную информацию о программе AI Код Агент, включая описание функционала, режимы работы, команды, конфигурацию и требования, используя библиотеки rich и Markdown для форматированного отображения.",
          "references": [
            "Markdown",
            "Panel",
            "console.print",
            "input"
          ]
        },
        {
          "name": "print_thinking",
          "lines": "926-961",
          "tokens": 343,
          "content_hash": "8e327ffcd21a6fa8f0d85bf338791995",
          "analyzed_by": "qwen",
          "description": "Отображает процесс мышления агента в виде панели с возможностью перевода на русский, используя библиотеку rich для форматирования вывода.",
          "references": [
            "Panel",
            "Text",
            "box.ROUNDED",
            "console.print",
            "is_mostly_russian",
            "logger.debug",
            "logger.warning",
            "translate_sync"
          ]
        },
        {
          "name": "print_instruction",
          "lines": "963-981",
          "tokens": 173,
          "content_hash": "b2bb2172d8c28d31492aae3165488f04",
          "analyzed_by": "qwen",
          "description": "Отображает инструкцию для Code Generator в виде форматированного панели с поддержкой усечения длинного текста. Использует Rich библиотеку для вывода Markdown-содержимого в консоль.",
          "references": [
            "Markdown",
            "Panel",
            "box.ROUNDED",
            "console.print"
          ]
        },
        {
          "name": "print_tool_call",
          "lines": "984-1082",
          "tokens": 1106,
          "content_hash": "a37b46155566fc290c3e06b626218905",
          "analyzed_by": "qwen",
          "description": "Отображает результаты вызова различных инструментов с форматированием, зависящим от типа инструмента, используя emoji, описания и усечённый вывод. Интегрируется с функциями вроде _extract_search_results и _truncate_output для обработки вывода.",
          "references": [
            "Panel",
            "_extract_search_results",
            "_truncate_output",
            "args.get",
            "args.items",
            "box.ROUNDED",
            "console.print",
            "output.split"
          ]
        },
        {
          "name": "_truncate_output",
          "lines": "1085-1089",
          "tokens": 76,
          "content_hash": "2dd5d6d3327ed15aaa8cf30827e386c8",
          "analyzed_by": "qwen",
          "description": "Усекает строку вывода до заданного количества символов, добавляя индикатор скрытых символов.",
          "references": []
        },
        {
          "name": "_extract_search_results",
          "lines": "1092-1115",
          "tokens": 264,
          "content_hash": "c748c84adbfb0739fe94e04ae9c2b392",
          "analyzed_by": "qwen",
          "description": "Извлекает и форматирует заголовки и ссылки из XML-результатов поиска, ограничивая количество выводимых результатов, использует регулярные выражения для извлечения данных.",
          "references": [
            "_truncate_output",
            "re.DOTALL",
            "re.findall",
            "results.append",
            "title.strip",
            "url.strip"
          ]
        },
        {
          "name": "print_code_block",
          "lines": "1118-1122",
          "tokens": 103,
          "content_hash": "f13907778b8121ede02a03f94a7bc76f",
          "analyzed_by": "qwen",
          "description": "Displays a code block with syntax highlighting and optional file path title, using the Monokai theme and line numbers.",
          "references": [
            "Panel",
            "Syntax",
            "console.print"
          ]
        },
        {
          "name": "print_diff_preview",
          "lines": "1125-1148",
          "tokens": 199,
          "content_hash": "b8b6fcc5e8e3dddfce121802b52a557d",
          "analyzed_by": "qwen",
          "description": "Displays a colored preview of file changes (diffs) using rich formatting, highlighting added, removed, and context lines.",
          "references": [
            "Panel",
            "colored_lines.append",
            "console.print",
            "diff.split",
            "diffs.items",
            "line.startswith"
          ]
        },
        {
          "name": "print_validation_result",
          "lines": "1151-1189",
          "tokens": 332,
          "content_hash": "2b9002a6f2d6f3979dea6ffe69350c8a",
          "analyzed_by": "qwen",
          "description": "Отображает результаты валидации в консоли с поддержкой перевода сообщений об ошибках, использует библиотеку rich для форматированного вывода.",
          "references": [
            "Panel",
            "console.print",
            "is_mostly_russian",
            "result.get",
            "translate_sync",
            "translated_issues.append"
          ]
        },
        {
          "name": "print_runtime_test_summary",
          "lines": "1192-1340",
          "tokens": 1796,
          "content_hash": "8619d5058e5f6c915b15c10749f7e0e3",
          "analyzed_by": "qwen",
          "description": "Отображает подробный отчет о результатах runtime-тестирования, включая статистику, детали по файлам и причины пропусков, используя библиотеку rich для форматированного вывода в консоль.",
          "references": [
            "analysis.get",
            "console.print",
            "f.get",
            "frameworks.values",
            "message.lower",
            "r.get",
            "reasons.items",
            "stats_parts.append",
            "summary.get"
          ]
        },
        {
          "name": "print_error",
          "lines": "1343-1349",
          "tokens": 61,
          "content_hash": "1897f53c5f7bc8191bed9feba3ecaccc",
          "analyzed_by": "qwen",
          "description": "Displays an error message in a formatted panel with a red theme and a warning icon. Integrates with a console and color constants for consistent UI output.",
          "references": [
            "Panel",
            "console.print"
          ]
        },
        {
          "name": "print_success",
          "lines": "1352-1358",
          "tokens": 64,
          "content_hash": "d4b8a7ac8b9494d74cfbaea49304d6b3",
          "analyzed_by": "qwen",
          "description": "Displays a success message in the console with a green panel and checkmark icon. Uses rich's Panel for styling and COLOR constants for theming.",
          "references": [
            "Panel",
            "console.print"
          ]
        },
        {
          "name": "print_info",
          "lines": "1361-1367",
          "tokens": 59,
          "content_hash": "f5480f4754d1838d703742820ce56489",
          "analyzed_by": "qwen",
          "description": "Displays an informational message in the console with a title and a border styled for visual clarity.",
          "references": [
            "Panel",
            "console.print"
          ]
        },
        {
          "name": "print_warning",
          "lines": "1370-1376",
          "tokens": 69,
          "content_hash": "3c6bc1e4550f916ba1673b7c6b3056ec",
          "analyzed_by": "qwen",
          "description": "Displays a warning message in the console with a yellow color and a warning icon, using a formatted panel for visual clarity.",
          "references": [
            "Panel",
            "console.print"
          ]
        },
        {
          "name": "truncate_text",
          "lines": "1383-1389",
          "tokens": 81,
          "content_hash": "a7f73fbf513b260ba0998945594d1d32",
          "analyzed_by": "qwen",
          "description": "Truncates text to a specified maximum length and appends a suffix if needed.",
          "references": []
        },
        {
          "name": "format_message_preview",
          "lines": "1392-1406",
          "tokens": 180,
          "content_hash": "1ce2802866867997ce0cd56fdab7a507",
          "analyzed_by": "qwen",
          "description": "Форматирует текст сообщения, убирает лишние пробелы и переносы строк, и обрезает его до указанного максимального количества символов для отображения превью. Использует регулярные выражения для очистки текста и функцию truncate_text для обрезки.",
          "references": [
            "content.strip",
            "re.sub",
            "truncate_text"
          ]
        },
        {
          "name": "extract_code_blocks_from_response",
          "lines": "1409-1441",
          "tokens": 328,
          "content_hash": "54e9718b64b11ebfea1ca15858be972e",
          "analyzed_by": "qwen",
          "description": "Извлекает блоки кода из текста, поддерживает формат с указанием файла и язык программирования, использует регулярные выражения для поиска.",
          "references": [
            "blocks.append",
            "match.group",
            "re.DOTALL",
            "re.finditer"
          ]
        },
        {
          "name": "extract_status_from_agent_response",
          "lines": "1444-1467",
          "tokens": 321,
          "content_hash": "fceacb29b6878220759830f0b38f009b",
          "analyzed_by": "qwen",
          "description": "Извлекает статус из текстового ответа агента на основе ключевых слов, возвращая соответствующее сообщение или None.",
          "references": [
            "content.lower"
          ]
        },
        {
          "name": "display_thread_history",
          "lines": "1470-1559",
          "tokens": 803,
          "content_hash": "cdd3bb9f1b00f500f8142c5d4603aef9",
          "analyzed_by": "qwen",
          "description": "Отображает историю сообщений в указанном потоке диалога в зависимости от режима, используя асинхронный доступ к данным и форматирование вывода в консоль.",
          "references": [
            "Markdown",
            "Panel",
            "_display_agent_response",
            "assistant_msg.content",
            "assistant_msg.created_at",
            "console.print",
            "msg.role",
            "pairs.append",
            "state.history_manager",
            "thread.id",
            "truncate_text",
            "user_msg.content",
            "user_msg.created_at"
          ]
        },
        {
          "name": "_display_agent_response",
          "lines": "1562-1612",
          "tokens": 520,
          "content_hash": "30ffedb81008c19b7022b2ce98a1f5ce",
          "analyzed_by": "qwen",
          "description": "Отображает ответ агента с выделением статуса и блоков кода, используя библиотеку Rich для форматированного вывода в консоль.",
          "references": [
            "Panel",
            "Syntax",
            "chr",
            "console.print",
            "extract_code_blocks_from_response",
            "extract_status_from_agent_response",
            "re.MULTILINE",
            "re.sub",
            "truncate_text"
          ]
        },
        {
          "name": "get_thread_preview",
          "lines": "1615-1636",
          "tokens": 185,
          "content_hash": "cac727bb646859ab609f5973c392557c",
          "analyzed_by": "qwen",
          "description": "Возвращает краткое превью последнего сообщения в потоке для отображения в списке диалогов, используя HistoryManager.",
          "references": [
            "format_message_preview",
            "last_msg.content",
            "logger.warning",
            "state.history_manager",
            "thread.id"
          ]
        },
        {
          "name": "handle_validator_rejection",
          "lines": "1640-1829",
          "tokens": 1907,
          "content_hash": "e49eeea15db1948a4ab45e05bb0a9bc9",
          "analyzed_by": "qwen",
          "description": "Обрабатывает отклонение кода AI Validator, отображая пользователю вердикт валидатора и решение Оркестратора, интегрируется с AgentPipeline и интерфейсом пользователя для выбора дальнейших действий.",
          "references": [
            "Panel",
            "_get_user_custom_critique",
            "ai_result.get",
            "console.print",
            "is_mostly_russian",
            "orchestrator_decision.decision",
            "orchestrator_decision.reasoning",
            "pipeline.discard_pending_changes",
            "pipeline.handle_user_feedback",
            "print_error",
            "print_info",
            "print_warning",
            "prompt_with_navigation",
            "result.errors",
            "result.success",
            "translate_sync",
            "translated_issues.append"
          ]
        },
        {
          "name": "_get_user_custom_critique",
          "lines": "1832-1879",
          "tokens": 460,
          "content_hash": "6e54e984976dd0cf8be28f9182c23506",
          "analyzed_by": "qwen",
          "description": "Handles user feedback by collecting custom critiques, validating them through a full processing cycle, and returning updated code if successful. Integrates with AgentPipeline for processing and console for user interaction.",
          "references": [
            "Prompt.ask",
            "block.code",
            "block.file_path",
            "block.mode",
            "console.print",
            "pipeline.run_feedback_cycle",
            "print_code_block",
            "print_diff_preview",
            "print_warning",
            "result.code_blocks",
            "result.diffs",
            "result.errors",
            "result.pending_changes",
            "result.success",
            "user_critique.strip"
          ]
        },
        {
          "name": "print_model_selection_menu",
          "lines": "1887-1914",
          "tokens": 380,
          "content_hash": "c3a57d54af68e7b52a3149d229a5e70c",
          "analyzed_by": "qwen",
          "description": "Выводит меню выбора моделей с краткими или полными описаниями в зависимости от режима, поддерживает автоматический роутер и фиксированные модели.",
          "references": [
            "console.print"
          ]
        },
        {
          "name": "get_model_short_name",
          "lines": "1917-1930",
          "tokens": 111,
          "content_hash": "235d4303e6ad18fcf93f209738d9a52c",
          "analyzed_by": "qwen",
          "description": "Returns the short name of a model based on its ID, using predefined configurations or falling back to a display name from the configuration.",
          "references": [
            "cfg.get_model_display_name"
          ]
        },
        {
          "name": "get_generator_model_short_name",
          "lines": "1933-1946",
          "tokens": 107,
          "content_hash": "d3cf8a6867dec0a4c24a092983a1ca06",
          "analyzed_by": "qwen",
          "description": "Returns the short name of a generator model based on its ID by searching through available models or falling back to a configuration lookup.",
          "references": [
            "cfg.get_model_display_name"
          ]
        },
        {
          "name": "print_generator_model_selection_menu",
          "lines": "1949-1966",
          "tokens": 190,
          "content_hash": "b8d90bc5e32cf6fdf317dd81726cc76b",
          "analyzed_by": "qwen",
          "description": "Displays a menu of available code generator models with their descriptions, supporting a compact mode for shorter summaries. Uses console output for formatting options and descriptions.",
          "references": [
            "console.print"
          ]
        },
        {
          "name": "select_generator_model",
          "lines": "1969-2014",
          "tokens": 372,
          "content_hash": "d2b8a3075696b53fffa2bc4fafe1d10b",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю интерактивно выбрать модель генератора кода, обновляя текущее состояние и пересоздавая pipeline при необходимости. Интегрируется с state, console, prompt_with_navigation и AVAILABLE_GENERATOR_MODELS.",
          "references": [
            "console.print",
            "get_generator_model_short_name",
            "print_generator_model_selection_menu",
            "print_success",
            "prompt_with_navigation",
            "state.generator_model",
            "state.get_current_generator_model",
            "state.pipeline"
          ]
        },
        {
          "name": "select_orchestrator_model",
          "lines": "2021-2070",
          "tokens": 463,
          "content_hash": "fe425f48bbc0474bbe6c20f400234497",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю интерактивно выбрать модель оркестратора или включить автоматический роутер, отображая подробные описания, интегрируется с state для хранения настроек.",
          "references": [
            "choice.lower",
            "console.print",
            "get_model_short_name",
            "print_model_selection_menu",
            "print_success",
            "prompt_with_navigation",
            "state.fixed_orchestrator_model",
            "state.get_current_orchestrator_model",
            "state.use_router"
          ]
        },
        {
          "name": "toggle_type_checking",
          "lines": "2073-2103",
          "tokens": 432,
          "content_hash": "a515267aa63439f1543186669b5fbd18",
          "analyzed_by": "qwen",
          "description": "Переключает проверку типов (mypy) включая/выключая её, выводит статус и информацию о проверках, а также сбрасывает pipeline при изменении настроек. Интегрируется с state и console для управления состоянием и вывода сообщений.",
          "references": [
            "console.print",
            "state.enable_type_checking",
            "state.pipeline"
          ]
        },
        {
          "name": "select_project_type",
          "lines": "2110-2143",
          "tokens": 261,
          "content_hash": "1181fcc1dde85c04b02fda3cdf65651c",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю выбрать тип проекта (существующий или новый) через интерактивное меню, возвращает соответствующую строку или None при отмене. Использует prompt_with_navigation для получения выбора и может выбрасывать исключения для навигации.",
          "references": [
            "console.print",
            "prompt_with_navigation"
          ]
        },
        {
          "name": "select_existing_project",
          "lines": "2146-2238",
          "tokens": 841,
          "content_hash": "cd925162c06da463337fb3d732896d1e",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю выбрать существующий проект из текущей директории, недавних проектов или вручную, интегрируется с HistoryManager и консольным интерфейсом.",
          "references": [
            "Path",
            "console.print",
            "os.getcwd",
            "os.path",
            "path.strip",
            "print_error",
            "print_warning",
            "prompt_with_navigation",
            "recent_projects.append",
            "seen_paths.add",
            "select_existing_project",
            "state.history_manager",
            "state.user_id",
            "t.project_name",
            "t.project_path"
          ]
        },
        {
          "name": "create_new_project",
          "lines": "2241-2275",
          "tokens": 276,
          "content_hash": "de21cae73b215d4f505b93799dc65b7f",
          "analyzed_by": "qwen",
          "description": "Создаёт новую директорию для проекта с возможностью указания пути пользователем, возвращает абсолютный путь или None в случае ошибки. Интегрируется с функцией prompt_with_navigation для ввода пути и использует os для создания директории.",
          "references": [
            "console.print",
            "logger.error",
            "os.makedirs",
            "os.path",
            "path.strip",
            "print_error",
            "print_success",
            "prompt_with_navigation"
          ]
        },
        {
          "name": "build_project_indexes",
          "lines": "2278-2359",
          "tokens": 968,
          "content_hash": "e214ffdb37354a730715a33a765d73ac",
          "analyzed_by": "qwen",
          "description": "Создаёт или обновляет индекс проекта для последующего анализа, используя FullIndexBuilder для новых проектов и IncrementalIndexUpdater для существующих, с отображением прогресса и статистики. Интегрируется с консольным интерфейсом и логированием ошибок.",
          "references": [
            "FullIndexBuilder",
            "IncrementalIndexUpdater",
            "Path",
            "builder.build",
            "console.print",
            "console.status",
            "log_ai_error",
            "logger.error",
            "print_error",
            "stats.ai_descriptions_generated",
            "stats.classes_found",
            "stats.code_files_indexed",
            "stats.code_tokens_total",
            "stats.deleted_files",
            "stats.functions_found",
            "stats.index_compressed",
            "stats.modified_files",
            "stats.new_files",
            "stats.unchanged_files",
            "status.update",
            "updater.sync"
          ]
        },
        {
          "name": "load_project_index",
          "lines": "2363-2409",
          "tokens": 543,
          "content_hash": "5995e92412f7813b98650b282412e31a",
          "analyzed_by": "qwen",
          "description": "Загружает семантический индекс проекта из JSON-файла, возвращает пустой словарь при отсутствии или ошибке, интегрируется с логированием и выводом сообщений в консоль.",
          "references": [
            "Path",
            "compressed_path.exists",
            "console.print",
            "index.get",
            "index_path.exists",
            "json.load",
            "logger.error",
            "logger.warning",
            "print_error"
          ]
        },
        {
          "name": "run_incremental_update",
          "lines": "2412-2448",
          "tokens": 325,
          "content_hash": "b98bda0bbdd7fcb1d74784648d70d8b4",
          "analyzed_by": "qwen",
          "description": "Performs incremental index updates for a project, logging and displaying changes if any; returns True on success or False if an error occurs. Integrates with IncrementalIndexUpdater and logging/console for status reporting.",
          "references": [
            "IncrementalIndexUpdater",
            "console.print",
            "logger.info",
            "logger.warning",
            "stats.deleted_files",
            "stats.modified_files",
            "stats.new_files",
            "updater.sync"
          ]
        },
        {
          "name": "create_new_thread",
          "lines": "2455-2476",
          "tokens": 187,
          "content_hash": "a6ddb3bf1acfad2a0be18e11a33854d2",
          "analyzed_by": "qwen",
          "description": "Создаёт новый диалог с уникальным заголовком на основе текущего состояния, используя history_manager; интегрируется с state и console для управления и вывода информации.",
          "references": [
            "Path",
            "console.print",
            "datetime.now",
            "state.history_manager",
            "state.is_legal_mode",
            "state.mode",
            "state.project_dir",
            "state.user_id",
            "thread.title"
          ]
        },
        {
          "name": "find_or_create_thread_for_project",
          "lines": "2479-2575",
          "tokens": 863,
          "content_hash": "c4279718ce04cb553bb2d6370c4838e2",
          "analyzed_by": "qwen",
          "description": "Поиск существующего диалога (треда) для проекта или создание нового, с отображением превью и историей. Интегрируется с state.history_manager, console, Table и prompt_with_navigation.",
          "references": [
            "Table",
            "box.ROUNDED",
            "choice.lower",
            "console.print",
            "create_new_thread",
            "display_thread_history",
            "get_thread_preview",
            "previews.append",
            "prompt_with_navigation",
            "selected.message_count",
            "selected.title",
            "selected.total_tokens",
            "state.history_manager",
            "state.mode",
            "state.user_id",
            "t.message_count",
            "t.project_path",
            "t.title",
            "t.updated_at",
            "table.add_column",
            "table.add_row"
          ]
        },
        {
          "name": "select_thread",
          "lines": "2578-2666",
          "tokens": 814,
          "content_hash": "160163c74255c56422d588ea109171be",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю выбрать существующий диалог из истории, отображая превью последнего сообщения, интегрируется с HistoryManager и консольным интерфейсом.",
          "references": [
            "Table",
            "box.ROUNDED",
            "choice.lower",
            "console.print",
            "create_new_thread",
            "display_thread_history",
            "get_thread_preview",
            "previews.append",
            "prompt_with_navigation",
            "select_thread",
            "selected.project_path",
            "selected.title",
            "state.history_manager",
            "state.user_id",
            "t.message_count",
            "t.project_name",
            "t.title",
            "t.updated_at",
            "table.add_column",
            "table.add_row"
          ]
        },
        {
          "name": "load_conversation_history",
          "lines": "2669-2729",
          "tokens": 764,
          "content_hash": "dbd4448d1f579f300e841c2fec537813",
          "analyzed_by": "qwen",
          "description": "Загружает и преобразует историю беседы из текущей сессии для отображения, включая информацию о сжатии, если оно применялось. Интегрируется с HistoryManager, логирует статистику и поддерживает отображение в консоли.",
          "references": [
            "cfg.get_model_display_name",
            "compression_stats.compressed_tokens",
            "compression_stats.compression_ratio",
            "compression_stats.messages_after",
            "compression_stats.messages_before",
            "compression_stats.model_used",
            "compression_stats.original_tokens",
            "compression_stats.tokens_saved",
            "compression_stats.was_compressed",
            "console.print",
            "history.append",
            "logger.error",
            "logger.info",
            "logger.warning",
            "m.get",
            "msg.content",
            "msg.role",
            "state.current_thread",
            "state.history_manager"
          ]
        },
        {
          "name": "view_history",
          "lines": "2733-2802",
          "tokens": 675,
          "content_hash": "27e891d3dd6269cebdbc247c79c2fb94",
          "analyzed_by": "qwen",
          "description": "Отображает полную историю текущего диалога с различными типами сообщений (пользователь, ассистент, инструмент, система), включая форматирование, обрезку текста и поддержку Markdown, интегрируется с state.history_manager и state.current_thread.",
          "references": [
            "Markdown",
            "Panel",
            "_display_agent_response",
            "console.print",
            "input",
            "msg.content",
            "msg.created_at",
            "msg.metadata",
            "msg.role",
            "print_error",
            "print_info",
            "state.current_thread",
            "state.history_manager",
            "state.mode",
            "truncate_text"
          ]
        },
        {
          "name": "export_dialog_to_markdown",
          "lines": "2806-2885",
          "tokens": 707,
          "content_hash": "ed6073769bbc9432520bfe5748d32508",
          "analyzed_by": "qwen",
          "description": "Экспортирует текущий диалог в формате Markdown с метаданными и разметкой сообщений, сохраняя результат в файл. Использует datetime для временных меток, re для очистки названия файла, и логику из state для получения истории сообщений.",
          "references": [
            "datetime.now",
            "f.write",
            "lines.append",
            "logger.error",
            "mode_names.get",
            "msg.content",
            "msg.created_at",
            "msg.role",
            "os.path",
            "print_error",
            "print_info",
            "print_success",
            "re.sub",
            "state.current_thread",
            "state.history_manager",
            "state.mode",
            "state.project_dir"
          ]
        },
        {
          "name": "rename_current_thread",
          "lines": "2888-2925",
          "tokens": 310,
          "content_hash": "6f0622a5594e163b879dbc12552d819f",
          "analyzed_by": "qwen",
          "description": "Позволяет переименовать текущий активный диалог, взаимодействуя с менеджером истории для обновления названия в базе данных.",
          "references": [
            "Prompt.ask",
            "console.print",
            "logger.error",
            "new_title.strip",
            "print_error",
            "print_info",
            "print_success",
            "state.current_thread",
            "state.history_manager"
          ]
        },
        {
          "name": "generate_thread_title_from_query",
          "lines": "2928-2958",
          "tokens": 283,
          "content_hash": "8af01ed355c294910ff457abc6471f24",
          "analyzed_by": "qwen",
          "description": "Генерирует заголовок диалога на основе пользовательского запроса, обрезая его до 50 символов и добавляя временные метки при необходимости.",
          "references": [
            "datetime.now",
            "query.strip",
            "state.mode",
            "title.rfind",
            "title.split"
          ]
        },
        {
          "name": "update_thread_title_if_first_message",
          "lines": "2961-2984",
          "tokens": 216,
          "content_hash": "59259d84e11a467b31586776a935b22f",
          "analyzed_by": "qwen",
          "description": "Updates the thread title based on the user's first message, using the history manager to check message count and set a new title if applicable.",
          "references": [
            "generate_thread_title_from_query",
            "logger.debug",
            "logger.warning",
            "m.role",
            "state.current_thread",
            "state.history_manager"
          ]
        },
        {
          "name": "save_attached_files_to_history",
          "lines": "2987-3033",
          "tokens": 471,
          "content_hash": "3857e7342d00d9759dff1cb0091ad63e",
          "analyzed_by": "qwen",
          "description": "Сохраняет прикреплённые файлы в историю беседы в виде сообщений пользователя, включая метаданные и ограничения по размеру. Интегрируется с history_manager для добавления сообщений в поток.",
          "references": [
            "f.get",
            "logger.debug",
            "logger.error",
            "saved_files.append",
            "state.history_manager"
          ]
        },
        {
          "name": "attach_files",
          "lines": "3040-3142",
          "tokens": 884,
          "content_hash": "73d160bc296cabb2cb617265c371a262",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю прикреплять файлы для обработки в General Chat, подсчитывая токены и проверяя лимиты, интегрируется с TokenCounter и state.",
          "references": [
            "Path",
            "TokenCounter",
            "_read_file_content",
            "cfg.MAX_USER_FILES_TOKENS",
            "console.print",
            "file_path.exists",
            "file_path.is_file",
            "file_path.name",
            "logger.error",
            "os.path",
            "p.strip",
            "path_input.lower",
            "path_input.split",
            "print_error",
            "print_warning",
            "prompt_with_navigation",
            "state.attached_files",
            "token_counter.count"
          ]
        },
        {
          "name": "_read_file_content",
          "lines": "3145-3199",
          "tokens": 487,
          "content_hash": "a1aba9d8a8abcccd0d3fa40fd1972d8a",
          "analyzed_by": "qwen",
          "description": "Асинхронно читает содержимое файла в зависимости от его расширения, поддерживает текстовые файлы, PDF и DOCX, использует соответствующие библиотеки для извлечения текста.",
          "references": [
            "doc.paragraphs",
            "docx.Document",
            "file_path.read_text",
            "file_path.suffix",
            "logger.error",
            "logger.warning",
            "page.extract_text",
            "para.text",
            "print_warning",
            "pypdf.PdfReader",
            "reader.pages",
            "text_parts.append"
          ]
        },
        {
          "name": "handle_ask_mode",
          "lines": "3206-4134",
          "tokens": 9749,
          "content_hash": "057e25d519162df12900638713a07a22",
          "analyzed_by": "qwen",
          "description": "Обрабатывает режим \"Вопросы\" для анализа кода и генерации кода с копированием, используя Router → Pre-filter → Orchestrator → Code Generator, с подробным логированием и сохранением результатов в историю. Интеграции: load_semantic_index, pre_filter_chunks, orchestrate, generate_code, history_manager.",
          "references": [
            "Markdown",
            "Panel",
            "Path",
            "PreFilterResult",
            "TokenCounter",
            "_tc.count",
            "action_descriptions.get",
            "args_formatted.append",
            "ask_log_dir.mkdir",
            "b.code",
            "b.filepath",
            "b.language",
            "block.action",
            "block.code",
            "block.context",
            "block.filepath",
            "block.get_placement_hint",
            "block.language",
            "block.mode",
            "block.target",
            "cfg.MODEL_DEEPSEEK_REASONER",
            "cfg.MODEL_GEMINI_3_PRO",
            "cfg.ORCHESTRATOR_SIMPLE_MODEL",
            "chunk.chunk_type",
            "chunk.file_path",
            "chunk.name",
            "chunk.relevance_score",
            "chunk.tokens",
            "code_result.code_blocks",
            "code_result.error",
            "code_result.explanation",
            "code_result.model_used",
            "code_result.raw_response",
            "code_result.success",
            "compact_md_path.exists",
            "compact_md_path.read_text",
            "console.print",
            "console.status",
            "content.get",
            "content.strip",
            "create_chunks_list_auto",
            "data.items",
            "datetime.now",
            "extract_explanation_from_response",
            "f.write",
            "find_or_create_thread_for_project",
            "generate_code",
            "get_model_short_name",
            "get_project_map_for_prompt",
            "history.append",
            "is_mostly_russian",
            "json.dump",
            "load_semantic_index",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "msg.content",
            "msg.role",
            "orchestrate",
            "orchestrate_agent",
            "orchestrator_result.analysis",
            "orchestrator_result.instruction",
            "orchestrator_result.raw_response",
            "orchestrator_result.target_file",
            "orchestrator_result.target_files",
            "orchestrator_result.tool_calls",
            "parse_ask_mode_code_blocks",
            "placement_parts.append",
            "pre_filter_chunks",
            "pre_filter_result.original_count",
            "pre_filter_result.pruned",
            "pre_filter_result.pruned_count",
            "pre_filter_result.selected_chunks",
            "pre_filter_result.total_tokens",
            "print_code_block",
            "print_error",
            "print_warning",
            "project_index.get",
            "project_index.keys",
            "raw.find",
            "route_request",
            "routing.complexity_level",
            "routing.orchestrator_model",
            "routing.reasoning",
            "run_incremental_update",
            "save_message",
            "save_trace",
            "state.current_thread",
            "state.generator_model",
            "state.get_current_orchestrator_model",
            "state.history_manager",
            "state.is_new_project",
            "state.mode",
            "state.project_dir",
            "state.use_router",
            "target_path.exists",
            "target_path.read_text",
            "tc.arguments",
            "tc.name",
            "tc.output",
            "tc.success",
            "text_parts.append",
            "trace_dir.mkdir",
            "trace_stage",
            "traceback.format_exc",
            "translate_sync",
            "update_thread_title_if_first_message",
            "validate_instruction",
            "write_session_log"
          ]
        },
        {
          "name": "handle_agent_mode",
          "lines": "4137-5154",
          "tokens": 11604,
          "content_hash": "a9a0e45f9b700af0dce4360a290d7972",
          "analyzed_by": "qwen",
          "description": "Обрабатывает автономную генерацию кода в режиме агента с валидацией, интегрирует инструменты для анализа, генерации, тестирования и применения изменений в проекте.",
          "references": [
            "AgentPipeline",
            "Markdown",
            "Panel",
            "PipelineMode.AGENT",
            "PipelineStatus.CANCELLED",
            "PipelineStatus.FAILED",
            "Prompt.ask",
            "ai_result.get",
            "apply_result.applied_files",
            "apply_result.backup_session_id",
            "apply_result.created_files",
            "apply_result.errors",
            "apply_result.success",
            "block.code",
            "block.file_path",
            "block.mode",
            "build_project_indexes",
            "confirm_with_navigation",
            "console.print",
            "console.status",
            "context.get",
            "d.get",
            "details.get",
            "f.get",
            "ff.get",
            "handle_agent_mode",
            "is_mostly_russian",
            "load_conversation_history",
            "load_project_index",
            "log_pipeline_stage",
            "logger.error",
            "logger.info",
            "print_code_block",
            "print_diff_preview",
            "print_error",
            "print_info",
            "print_instruction",
            "print_success",
            "print_thinking",
            "print_tool_call",
            "print_validation_result",
            "print_warning",
            "prompt_with_navigation",
            "r.get",
            "result.ai_validation_result",
            "result.analysis",
            "result.code_blocks",
            "result.diffs",
            "result.duration_ms",
            "result.errors",
            "result.feedback_iterations",
            "result.get",
            "result.instruction",
            "result.pending_changes",
            "result.status",
            "result.success",
            "result.validation_result",
            "rf.get",
            "run_incremental_update",
            "runtime_summary.get",
            "save_message",
            "sf.get",
            "skipped_reasons.items",
            "stage_icons.get",
            "state.current_thread",
            "state.enable_type_checking",
            "state.generator_model",
            "state.get_current_orchestrator_model",
            "state.history_manager",
            "state.is_new_project",
            "state.pipeline",
            "state.project_dir",
            "state.project_index",
            "state.use_router",
            "status.value",
            "status_icons.get",
            "tests_summary.get",
            "translate_sync",
            "update_thread_title_if_first_message",
            "user_feedback.strip"
          ]
        },
        {
          "name": "handle_general_chat",
          "lines": "5156-5277",
          "tokens": 1140,
          "content_hash": "6c1965022f24d3330d862a6c13157125",
          "analyzed_by": "qwen",
          "description": "Обрабатывает запросы в режиме общего чата, используя оркестратор GeneralChatOrchestrator, сохраняет историю диалога и файлы, интегрируется с history_manager и инструментами для генерации ответов.",
          "references": [
            "GeneralChatOrchestrator",
            "Markdown",
            "Panel",
            "console.print",
            "console.status",
            "f.get",
            "history.append",
            "logger.error",
            "logger.warning",
            "msg.content",
            "msg.role",
            "orchestrator.orchestrate_general",
            "print_error",
            "print_info",
            "print_warning",
            "result.response",
            "result.tool_calls",
            "save_attached_files_to_history",
            "state._saved_file_names",
            "state.attached_files",
            "state.current_thread",
            "state.get_current_orchestrator_model",
            "state.history_manager",
            "state.is_legal_mode",
            "tc.name",
            "tc.success",
            "update_thread_title_if_first_message"
          ]
        },
        {
          "name": "chat_loop",
          "lines": "5286-5355",
          "tokens": 564,
          "content_hash": "dab11404ef57588cbf4dc00d57aa0e61",
          "analyzed_by": "qwen",
          "description": "Основной асинхронный цикл чата, обрабатывающий ввод пользователя, команды и взаимодействие с AI, интегрируется с состоянием приложения (state), консольным интерфейсом (console) и логированием (logger).",
          "references": [
            "Prompt.ask",
            "console.print",
            "handle_agent_mode",
            "handle_ask_mode",
            "handle_chat_command",
            "handle_general_chat",
            "logger.error",
            "print_error",
            "print_status_bar",
            "query.startswith",
            "query.strip",
            "state.mode",
            "state.running",
            "update_thread_title_if_first_message"
          ]
        },
        {
          "name": "handle_chat_command",
          "lines": "5360-5498",
          "tokens": 1236,
          "content_hash": "62ca88bd46784e3a2b33aab7f9ee24b8",
          "analyzed_by": "qwen",
          "description": "Обрабатывает слэш-команды в чате, такие как выход, переход в меню, экспорт, управление диалогами и моделями, интегрируясь с состоянием, консолью и вспомогательными функциями.",
          "references": [
            "QuitException",
            "attach_files",
            "cmd.startswith",
            "command.lower",
            "command.split",
            "console.clear",
            "console.print",
            "create_new_thread",
            "export_dialog_to_markdown",
            "handle_changes_command",
            "handle_restore_command",
            "load_project_index",
            "print_about",
            "print_chat_help",
            "print_status_bar",
            "print_success",
            "print_warning",
            "rename_current_thread",
            "select_generator_model",
            "select_orchestrator_model",
            "select_thread",
            "state.current_thread",
            "state.is_legal_mode",
            "state.mode",
            "state.project_dir",
            "state.project_index",
            "state.reset_session",
            "state.running",
            "thread.project_path",
            "toggle_type_checking",
            "view_history"
          ]
        },
        {
          "name": "handle_restore_command",
          "lines": "5501-5638",
          "tokens": 1277,
          "content_hash": "720d9855218172967ebafa7f6076dab9",
          "analyzed_by": "qwen",
          "description": "Восстанавливает данные из предыдущего бэкапа, позволяет просматривать доступные сессии и подтверждать восстановление, интегрируется с backup_manager и консольным интерфейсом.",
          "references": [
            "Table",
            "args.strip",
            "backup.original_path",
            "backup_manager.get_session",
            "backup_manager.list_sessions",
            "backup_manager.restore_session",
            "box.ROUNDED",
            "confirm_with_navigation",
            "console.print",
            "print_error",
            "print_info",
            "print_success",
            "print_warning",
            "results.items",
            "results.keys",
            "results.values",
            "run_incremental_update",
            "s.session_id",
            "session.backups",
            "session.created_at",
            "session.description",
            "session.session_id",
            "state.pipeline",
            "state.project_dir",
            "table.add_column",
            "table.add_row"
          ]
        },
        {
          "name": "handle_changes_command",
          "lines": "5640-5809",
          "tokens": 1665,
          "content_hash": "d4f032ba5f0a763995cc3fc5342a542d",
          "analyzed_by": "qwen",
          "description": "Отображает историю изменений файлов или текущего диалога, включая типы изменений, количество строк, статус и связанные диалоги, с поддержкой вывода в виде таблицы и подсказками по командам. Интегрируется с state.history_manager и state.current_thread.",
          "references": [
            "Table",
            "args.strip",
            "box.ROUNDED",
            "c.applied",
            "c.backup_path",
            "c.change_type",
            "c.created_at",
            "c.file_path",
            "c.lines_added",
            "c.lines_removed",
            "c.rolled_back",
            "c.thread_id",
            "c.user_confirmed",
            "c.validation_passed",
            "console.print",
            "logger.error",
            "print_error",
            "print_info",
            "state.current_thread",
            "state.history_manager",
            "status_parts.append",
            "table.add_column",
            "table.add_row"
          ]
        },
        {
          "name": "print_chat_help",
          "lines": "5812-5845",
          "tokens": 547,
          "content_hash": "e16887ec866b6cc6f82a8fe80abc5ddf",
          "analyzed_by": "qwen",
          "description": "Выводит справочную информацию по доступным командам чата в формате Markdown с описанием функционала и навигации, используя библиотеки rich для форматированного вывода.",
          "references": [
            "Markdown",
            "Panel",
            "console.print"
          ]
        },
        {
          "name": "setup_mode_session",
          "lines": "5852-6106",
          "tokens": 2320,
          "content_hash": "0eb704cea06a543a2c012484d6301f87",
          "analyzed_by": "qwen",
          "description": "Настраивает сессию в зависимости от выбранного режима (ask, agent, general), включая выбор проекта, модели оркестратора и генератора, индексацию и отображение интерфейса. Интегрируется с консольным вводом, менеджером состояния и модулями проекта.",
          "references": [
            "BackException",
            "BackToMenuException",
            "build_project_indexes",
            "choice.lower",
            "confirm_with_navigation",
            "console.clear",
            "console.print",
            "create_new_project",
            "find_or_create_thread_for_project",
            "get_generator_model_short_name",
            "get_model_short_name",
            "load_project_index",
            "mode_titles.get",
            "model_choice.lower",
            "print_generator_model_selection_menu",
            "print_header",
            "print_info",
            "print_model_selection_menu",
            "print_warning",
            "prompt_with_navigation",
            "select_existing_project",
            "select_project_type",
            "setup_mode_session",
            "state.current_thread",
            "state.fixed_orchestrator_model",
            "state.generator_model",
            "state.is_legal_mode",
            "state.is_new_project",
            "state.mode",
            "state.project_dir",
            "state.project_index",
            "state.reset_project",
            "state.use_router"
          ]
        },
        {
          "name": "main_menu_loop",
          "lines": "6113-6207",
          "tokens": 586,
          "content_hash": "87a4eaeb52baa636a1afc1c759c522ce",
          "analyzed_by": "qwen",
          "description": "Главный асинхронный цикл меню приложения, обрабатывающий выбор пользователя и запускающий соответствующие режимы работы, такие как чат, история, настройки и выход. Интегрируется с Prompt, console, state, setup_mode_session, chat_loop и другими модулями для управления интерфейсом и логикой приложения.",
          "references": [
            "Prompt.ask",
            "chat_loop",
            "console.print",
            "load_project_index",
            "print_about",
            "print_main_menu",
            "select_generator_model",
            "select_orchestrator_model",
            "select_thread",
            "setup_mode_session",
            "state.current_thread",
            "state.project_dir",
            "state.project_index",
            "state.running",
            "thread.project_path",
            "toggle_type_checking",
            "view_history"
          ]
        },
        {
          "name": "initialize",
          "lines": "6213-6221",
          "tokens": 120,
          "content_hash": "929f5e05be2db4b4e2fd64349648c4ef",
          "analyzed_by": "qwen",
          "description": "Инициализирует менеджер истории в асинхронном режиме, логирует результат и выводит предупреждение в случае ошибки.",
          "references": [
            "HistoryManager",
            "logger.error",
            "logger.info",
            "print_warning",
            "state.history_manager"
          ]
        },
        {
          "name": "shutdown",
          "lines": "6224-6235",
          "tokens": 90,
          "content_hash": "40a5b5b69a9aa4bf1673c78cc4f02128",
          "analyzed_by": "qwen",
          "description": "Performs cleanup operations during shutdown, including printing status messages and discarding pending pipeline changes if available. Integrates with state.pipeline and console for output.",
          "references": [
            "console.print",
            "state.pipeline"
          ]
        },
        {
          "name": "main",
          "lines": "6242-6255",
          "tokens": 94,
          "content_hash": "e2e0e47a1e979851e47248e1266a191f",
          "analyzed_by": "qwen",
          "description": "Служит главной точкой входа в асинхронное приложение, инициализирует систему, запускает цикл меню и обрабатывает критические ошибки.",
          "references": [
            "initialize",
            "logger.error",
            "main_menu_loop",
            "print_error",
            "shutdown"
          ]
        }
      ],
      "last_indexed": "2026-01-10T05:57:57.470024+00:00"
    },
    "maintestchunk .py": {
      "name": "maintestchunk .py",
      "path": "maintestchunk .py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\maintestchunk .py",
      "file_hash": "b667562b8fff61e672a6645761105807",
      "tokens_total": 4249,
      "lines_total": 412,
      "imports": {
        "lines": "2-13",
        "modules": [
          "json",
          "sys",
          "pathlib.Path",
          "rich.console.Console",
          "rich.table.Table",
          "rich.tree.Tree",
          "rich.panel.Panel",
          "rich.prompt.Prompt",
          "app.services.project_scanner.ProjectScanner",
          "app.utils.token_counter.TokenCounter",
          "app.utils.file_types.FileTypeDetector"
        ],
        "tokens": 68
      },
      "globals": {
        "lines": "15-26",
        "names": [
          "console",
          "BINARY_EXTENSIONS"
        ],
        "tokens": 155
      },
      "description": "Full system test for code chunking and project analysis that integrates scanning, tokenization, and rich visualization tools for detailed reporting.",
      "classes": [],
      "functions": [
        {
          "name": "get_project_path",
          "lines": "29-58",
          "tokens": 364,
          "content_hash": "a441786d6fa83e7e0bd5eff5dbf351e6",
          "analyzed_by": "deepseek",
          "description": "Path resolution utility for project scanning that prioritizes command-line arguments over interactive input, with fallback to current directory.",
          "references": [
            "Path",
            "Path.cwd",
            "Prompt.ask",
            "console.print",
            "path.is_dir",
            "sys.argv",
            "sys.exit"
          ]
        },
        {
          "name": "count_file_tokens",
          "lines": "61-77",
          "tokens": 158,
          "content_hash": "0f0d00eea781b6e29185eb999a95d14d",
          "analyzed_by": "deepseek",
          "description": "Token counting utility for text files with fallback encoding support, integrates with tokenizer for NLP preprocessing workflows.",
          "references": [
            "file_path.read_text",
            "file_path.suffix",
            "token_counter.count"
          ]
        },
        {
          "name": "get_file_icon",
          "lines": "80-116",
          "tokens": 354,
          "content_hash": "05a6a5e8b061bc9920fc1f691ddf5f23",
          "analyzed_by": "qwen",
          "description": "Returns a file type icon as a string based on the given file type, used for visual representation in file listings or reports. Integrates with rich.console and rich.table for enhanced terminal output.",
          "references": [
            "icons.get"
          ]
        },
        {
          "name": "build_folder_tree",
          "lines": "119-171",
          "tokens": 432,
          "content_hash": "ec477e6768e89b8c8f145612738eec22",
          "analyzed_by": "qwen",
          "description": "Generates a visual folder tree structure from a list of files with token counts, using color-coded tokens and file icons for clarity. Integrates with rich for styled console output and pathlib for path handling.",
          "references": [
            "Path",
            "Tree",
            "folders.keys",
            "get_file_icon",
            "node.add",
            "parent.add"
          ]
        },
        {
          "name": "run_full_test",
          "lines": "174-407",
          "tokens": 2664,
          "content_hash": "4bbf012f2ac43e59d46d24de8ce79567",
          "analyzed_by": "qwen",
          "description": "Executes a full system test for code chunking, scanning and analyzing a project's structure, tokenizing files, and generating detailed reports and statistics; integrates with ProjectScanner, FileTypeDetector, TokenCounter, and visualization tools like rich.console and rich.table.",
          "references": [
            "FileTypeDetector",
            "Panel.fit",
            "Path",
            "ProjectScanner",
            "Table",
            "TokenCounter",
            "build_folder_tree",
            "c.kind",
            "ch.end_line",
            "ch.kind",
            "ch.name",
            "ch.parent",
            "ch.start_line",
            "ch.tokens",
            "chunk_table.add_column",
            "chunk_table.add_row",
            "console.print",
            "file_chunk.tokens",
            "files_by_type.items",
            "files_by_type.keys",
            "get_file_icon",
            "json.dump",
            "scanner.get_python_chunks",
            "scanner.scan",
            "table.add_column",
            "table.add_row",
            "top_table.add_column",
            "top_table.add_row",
            "type_stats_table.add_column",
            "type_stats_table.add_row"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:02:43.730901+00:00"
    },
    "scripts/test_deepseek_wrapper.py": {
      "name": "test_deepseek_wrapper.py",
      "path": "scripts/test_deepseek_wrapper.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_deepseek_wrapper.py",
      "file_hash": "b49629eb2e4af20e966b635428631337",
      "tokens_total": 1417,
      "lines_total": 152,
      "imports": {
        "lines": "1-4",
        "modules": [
          "sys",
          "logging",
          "pathlib.Path",
          "datetime.datetime"
        ],
        "tokens": 15
      },
      "globals": {
        "lines": "10-41",
        "names": [
          "BASE_DIR",
          "log_dir",
          "log_file",
          "logger"
        ],
        "tokens": 56
      },
      "description": "Unit test for XML-to-AI processing via DeepSeek/OpenRouter, integrating XMLWrapper and AIService with logging and file output.",
      "classes": [],
      "functions": [
        {
          "name": "main",
          "lines": "43-149",
          "tokens": 1036,
          "content_hash": "fbc285ec40568641bab48bc636c70470",
          "analyzed_by": "qwen",
          "description": "Тестирует обработку файла через XMLWrapper и отправку его в AI-модель (DeepSeek или OpenRouter), сохраняя результат в Markdown-файл. Интеграции: XMLWrapper, AIService, логирование и файловая система.",
          "references": [
            "AIService",
            "XMLWrapper",
            "ai_service.close",
            "ai_service.model_name",
            "ai_service.send_request",
            "datetime.now",
            "logger.critical",
            "logger.error",
            "logger.info",
            "output_file.write_text",
            "response_data.get",
            "target_file_path.exists",
            "target_file_path.name",
            "target_file_path.read_text",
            "usage.get",
            "wrapper.create_context_xml"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:04:50.741188+00:00"
    },
    "scripts/test_index_manager.py": {
      "name": "test_index_manager.py",
      "path": "scripts/test_index_manager.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_index_manager.py",
      "file_hash": "366be78f30aae56473dfd180c1a41ee5",
      "tokens_total": 8339,
      "lines_total": 928,
      "imports": {
        "lines": "19-28",
        "modules": [
          "__future__.annotations",
          "asyncio",
          "json",
          "logging",
          "sys",
          "time",
          "datetime.datetime",
          "pathlib.Path",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.Tuple",
          "typing.List"
        ],
        "tokens": 44
      },
      "globals": {
        "lines": "31-185",
        "names": [
          "PROJECT_ROOT",
          "IGNORE_DIRS"
        ],
        "tokens": 76
      },
      "description": "Unit test suite for an index manager, integrating color-coded logging, progress tracking, and dependency validation for system health checks.",
      "classes": [
        {
          "name": "Colors",
          "lines": "37-46",
          "tokens": 86,
          "content_hash": "3a5aa3551f234c7102e27c1ba0be0b68",
          "analyzed_by": "qwen",
          "description": "Defines ANSI color and formatting codes for use in terminal output, typically for test or logging purposes.",
          "references": [],
          "methods": []
        },
        {
          "name": "TestLogger",
          "lines": "73-134",
          "tokens": 561,
          "content_hash": "927b2b8b928a578c11d90f3456e8a7dd",
          "analyzed_by": "deepseek",
          "description": "Structured logging utility for test execution tracking with color-coded console output and JSON log persistence.",
          "references": [
            "Colors.BLUE",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.RED",
            "Colors.YELLOW",
            "datetime.now",
            "f.write",
            "print_error",
            "time.time"
          ],
          "methods": [
            "__init__",
            "start",
            "step",
            "found",
            "warning",
            "error",
            "detail",
            "success",
            "finish",
            "_log",
            "save_log"
          ]
        },
        {
          "name": "ProgressTracker",
          "lines": "139-176",
          "tokens": 301,
          "content_hash": "e7fcb19234a54b20fa28659dbaa91486",
          "analyzed_by": "qwen",
          "description": "Tracks and visualizes progress with a status bar and message, updating console output in real-time.",
          "references": [
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "time.time"
          ],
          "methods": [
            "__init__",
            "update",
            "_print_status",
            "finish"
          ]
        }
      ],
      "functions": [
        {
          "name": "print_header",
          "lines": "49-52",
          "tokens": 67,
          "content_hash": "d1e2636f016bac9f39a950e3cb21aab8",
          "analyzed_by": "qwen",
          "description": "Prints a formatted header with the given text, surrounded by equals signs and styled using color codes for visual emphasis in test output.",
          "references": [
            "Colors.BOLD",
            "Colors.END",
            "Colors.HEADER"
          ]
        },
        {
          "name": "print_success",
          "lines": "55-56",
          "tokens": 22,
          "content_hash": "ac928d68f75e2912afc752898e384a4f",
          "analyzed_by": "qwen",
          "description": "Prints a success message with a green checkmark prefix for visual clarity in test outputs.",
          "references": [
            "Colors.END",
            "Colors.GREEN"
          ]
        },
        {
          "name": "print_error",
          "lines": "59-60",
          "tokens": 22,
          "content_hash": "e255aab1a87a9c8fc6099cded4be91fb",
          "analyzed_by": "deepseek",
          "description": "Logging utility for color-coded error output to stdout, integrates with custom terminal color constants.",
          "references": [
            "Colors.END",
            "Colors.RED"
          ]
        },
        {
          "name": "print_warning",
          "lines": "63-64",
          "tokens": 23,
          "content_hash": "b746e939ab7954bcd8c342489ad4e479",
          "analyzed_by": "qwen",
          "description": "Prints warning messages to the console with a yellow color prefix and a warning symbol. Used for visual distinction in test output.",
          "references": [
            "Colors.END",
            "Colors.YELLOW"
          ]
        },
        {
          "name": "print_info",
          "lines": "67-68",
          "tokens": 24,
          "content_hash": "251d0afbe0f54b73463dd6400c34b774",
          "analyzed_by": "deepseek",
          "description": "Logging utility for color-coded informational console output, integrates with a custom Colors class for terminal formatting.",
          "references": [
            "Colors.CYAN",
            "Colors.END"
          ]
        },
        {
          "name": "check_imports",
          "lines": "190-240",
          "tokens": 515,
          "content_hash": "1cb50b09f3096ecdaba9d54bfa905e28",
          "analyzed_by": "deepseek",
          "description": "Dynamic import validation utility for verifying module dependencies in a code indexing system, integrated with a custom test logging framework.",
          "references": [
            "__import__",
            "logger.error",
            "logger.finish",
            "logger.start",
            "logger.success"
          ]
        },
        {
          "name": "check_api_qwen",
          "lines": "245-275",
          "tokens": 266,
          "content_hash": "cfb7b113d30f66d2bd69abe0c59d4bbd",
          "analyzed_by": "deepseek",
          "description": "API health check for Qwen via OpenRouter, returns status and diagnostic message with HTTP client integration.",
          "references": [
            "cfg.MODEL_QWEN",
            "cfg.OPENROUTER_API_KEY",
            "cfg.OPENROUTER_BASE_URL",
            "client.post",
            "httpx.Client",
            "resp.status_code",
            "resp.text"
          ]
        },
        {
          "name": "check_api_deepseek",
          "lines": "278-307",
          "tokens": 235,
          "content_hash": "d685ae235cb98e68d0de5ad5e8eb0e4e",
          "analyzed_by": "deepseek",
          "description": "API health check for DeepSeek service using httpx, returns connection status and diagnostic message.",
          "references": [
            "cfg.DEEPSEEK_API_KEY",
            "cfg.DEEPSEEK_BASE_URL",
            "client.post",
            "httpx.Client",
            "resp.status_code",
            "resp.text"
          ]
        },
        {
          "name": "check_apis",
          "lines": "310-337",
          "tokens": 215,
          "content_hash": "ef127be93d89f339f443142ad506a0ff",
          "analyzed_by": "deepseek",
          "description": "API connectivity test suite for Qwen and DeepSeek endpoints, returning boolean status dictionary with integrated test logging.",
          "references": [
            "check_api_deepseek",
            "check_api_qwen",
            "logger.error",
            "logger.finish",
            "logger.start",
            "logger.step",
            "logger.success",
            "logger.warning"
          ]
        },
        {
          "name": "list_python_files",
          "lines": "342-353",
          "tokens": 106,
          "content_hash": "c216f1a0b09f2b86b2c3d32d478433ca",
          "analyzed_by": "deepseek",
          "description": "Recursively enumerates Python files in a directory tree while filtering out ignored and hidden directories, returning a list of Path objects.",
          "references": [
            "f.relative_to",
            "part.startswith",
            "py_files.append",
            "target.rglob"
          ]
        },
        {
          "name": "count_all_files",
          "lines": "356-368",
          "tokens": 96,
          "content_hash": "e9b692c3d1cacfb1423b59b732ab520d",
          "analyzed_by": "deepseek",
          "description": "Recursively counts all non-hidden files in a directory tree, excluding specified directories, and returns the total integer count.",
          "references": [
            "f.is_file",
            "f.relative_to",
            "part.startswith",
            "target.rglob"
          ]
        },
        {
          "name": "select_directory",
          "lines": "373-425",
          "tokens": 483,
          "content_hash": "ff3b3e8c09d2db924b947757e7d7c9a8",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю интерактивно выбрать директорию для индексации, проверяет её существование и выводит статистику файлов.",
          "references": [
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.YELLOW",
            "Path",
            "Path.cwd",
            "count_all_files",
            "input",
            "list_python_files",
            "print_error",
            "print_header",
            "print_info",
            "print_success",
            "print_warning",
            "target.exists",
            "target.is_dir"
          ]
        },
        {
          "name": "select_mode",
          "lines": "430-456",
          "tokens": 367,
          "content_hash": "76435fac6e9112cb071a9730e5b72f91",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю интерактивно выбрать режим работы индексации, возвращая строковое значение (\"full\", \"sync\", \"check\", \"stats\") в зависимости от выбора. Использует цветовую кодировку для улучшения читаемости меню.",
          "references": [
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.YELLOW",
            "input"
          ]
        },
        {
          "name": "run_full_indexing",
          "lines": "461-527",
          "tokens": 453,
          "content_hash": "24e3d08b5131b03c3fa245a17de0c902",
          "analyzed_by": "qwen",
          "description": "Executes a full indexing process using IndexManager, tracking progress and results, and validates generated index files. Integrates with TestLogger for detailed logging and ProgressTracker for status updates.",
          "references": [
            "FullIndexBuilder",
            "ProgressTracker",
            "builder.build",
            "file_path.exists",
            "logger.detail",
            "logger.error",
            "logger.finish",
            "logger.found",
            "logger.start",
            "logger.step",
            "logger.success",
            "stats.to_dict",
            "time.time",
            "traceback.format_exc",
            "tracker.finish",
            "tracker.update"
          ]
        },
        {
          "name": "run_incremental_sync",
          "lines": "532-580",
          "tokens": 341,
          "content_hash": "2b82c17305738c8be1fafd5dd54fbca3",
          "analyzed_by": "qwen",
          "description": "Executes an incremental index synchronization for a given target path, logging progress and results; integrates with IncrementalIndexUpdater and a TestLogger for tracking and reporting.",
          "references": [
            "IncrementalIndexUpdater",
            "ProgressTracker",
            "logger.detail",
            "logger.error",
            "logger.finish",
            "logger.start",
            "logger.step",
            "logger.success",
            "stats.to_dict",
            "time.time",
            "traceback.format_exc",
            "tracker.finish",
            "tracker.update",
            "updater.sync"
          ]
        },
        {
          "name": "show_index_stats",
          "lines": "585-685",
          "tokens": 975,
          "content_hash": "8d37d2c642ff66024c09ad3dbb5a37a5",
          "analyzed_by": "qwen",
          "description": "Выводит статистику индексов в указанной директории, включая количество токенов, размер файлов и дополнительную информацию о содержимом, интегрируется с TokenCounter и TestLogger.",
          "references": [
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.RED",
            "Colors.YELLOW",
            "TokenCounter",
            "ai_agent_dir.exists",
            "data.get",
            "file_path.exists",
            "file_path.read_text",
            "file_path.stat",
            "json.JSONDecodeError",
            "json.loads",
            "logger.error",
            "logger.finish",
            "logger.found",
            "logger.start",
            "logger.warning",
            "print_warning",
            "token_counter.count"
          ]
        },
        {
          "name": "print_full_results",
          "lines": "690-740",
          "tokens": 754,
          "content_hash": "185e7a18ed898282db02eb33db61fbca",
          "analyzed_by": "qwen",
          "description": "Выводит статистику и результаты полной индексации проекта, включая время выполнения, количество обработанных файлов, классов, функций и токенов, а также информацию об ошибках и сжатии индекса.",
          "references": [
            "Colors.BOLD",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.RED",
            "Colors.YELLOW",
            "err.get",
            "s.get"
          ]
        },
        {
          "name": "print_sync_results",
          "lines": "743-776",
          "tokens": 478,
          "content_hash": "b1959f4dfbdefdf9bb5ea7c47779f3f4",
          "analyzed_by": "qwen",
          "description": "Выводит статистику и результаты синхронизации файлов в цветном текстовом формате, включая успешные изменения, ошибки и данные по AI-описаниям.",
          "references": [
            "Colors.BOLD",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.RED",
            "Colors.YELLOW",
            "s.get"
          ]
        },
        {
          "name": "main",
          "lines": "781-924",
          "tokens": 1322,
          "content_hash": "9f65b9f9f9fc81a534734af2ab44bb9c",
          "analyzed_by": "qwen",
          "description": "Выполняет тестирование и индексацию файлов в указанной директории, поддерживает режимы проверки, статистики, полной индексации и синхронизации, интегрируется с API (DeepSeek, Qwen) и логирует результаты.",
          "references": [
            "Colors.CYAN",
            "Colors.END",
            "Colors.YELLOW",
            "TestLogger",
            "api_results.get",
            "asyncio.run",
            "check_apis",
            "check_imports",
            "datetime.now",
            "input",
            "log_path.parent",
            "logger.errors",
            "logger.save_log",
            "logging.WARNING",
            "logging.basicConfig",
            "print_error",
            "print_full_results",
            "print_header",
            "print_info",
            "print_success",
            "print_sync_results",
            "print_warning",
            "run_full_indexing",
            "run_incremental_sync",
            "select_directory",
            "select_mode",
            "show_index_stats"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:07:37.158809+00:00"
    },
    "scripts/test_semantic_index.py": {
      "name": "test_semantic_index.py",
      "path": "scripts/test_semantic_index.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_semantic_index.py",
      "file_hash": "c7ae9a67fca127964a6f3b9690394017",
      "tokens_total": 10118,
      "lines_total": 1092,
      "imports": {
        "lines": "12-29",
        "modules": [
          "__future__.annotations",
          "sys",
          "time",
          "json",
          "asyncio",
          "logging",
          "pathlib.Path",
          "datetime.datetime",
          "typing.Optional",
          "typing.Dict",
          "typing.Tuple",
          "typing.List",
          "config.settings.cfg",
          "app.utils.token_counter.TokenCounter",
          "app.services.python_chunker.SmartPythonChunker"
        ],
        "tokens": 69
      },
      "globals": {
        "lines": "23-196",
        "names": [
          "PROJECT_ROOT",
          "IGNORE_DIRS"
        ],
        "tokens": 72
      },
      "description": "Unit test suite for semantic indexing components, validating import dependencies, API connectivity, and logging utilities with color-coded terminal output.",
      "classes": [
        {
          "name": "ChangeDetectionLogger",
          "lines": "34-86",
          "tokens": 511,
          "content_hash": "8644989ad88759af5e401d6f9d32a698",
          "analyzed_by": "qwen",
          "description": "Логирует этапы процесса обнаружения изменений с цветовой индикацией и временными метками, поддерживает вывод в консоль и сохранение логов для последующего анализа.",
          "references": [
            "Colors.BLUE",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.RED",
            "Colors.YELLOW",
            "datetime.now",
            "lines.append",
            "time.time"
          ],
          "methods": [
            "__init__",
            "start",
            "step",
            "found",
            "warning",
            "error",
            "detail",
            "success",
            "finish",
            "_log",
            "get_summary"
          ]
        },
        {
          "name": "Colors",
          "lines": "91-100",
          "tokens": 86,
          "content_hash": "3a5aa3551f234c7102e27c1ba0be0b68",
          "analyzed_by": "qwen",
          "description": "Defines ANSI color and formatting codes for use in terminal output.",
          "references": [],
          "methods": []
        },
        {
          "name": "ProgressTracker",
          "lines": "127-187",
          "tokens": 490,
          "content_hash": "f41bcbb98ed14ebd3d569b7af1412399",
          "analyzed_by": "qwen",
          "description": "Tracks progress of asynchronous tasks with real-time status updates and visual progress bar, integrates with console output for task statistics.",
          "references": [
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.RED",
            "time.time"
          ],
          "methods": [
            "__init__",
            "set_total",
            "file_started",
            "task_started",
            "task_completed",
            "task_error",
            "_print_status",
            "finish"
          ]
        }
      ],
      "functions": [
        {
          "name": "print_header",
          "lines": "103-106",
          "tokens": 67,
          "content_hash": "d1e2636f016bac9f39a950e3cb21aab8",
          "analyzed_by": "qwen",
          "description": "Prints a formatted header with the given text, centered and surrounded by lines, using ANSI color codes for styling.",
          "references": [
            "Colors.BOLD",
            "Colors.END",
            "Colors.HEADER"
          ]
        },
        {
          "name": "print_success",
          "lines": "109-110",
          "tokens": 22,
          "content_hash": "ac928d68f75e2912afc752898e384a4f",
          "analyzed_by": "deepseek",
          "description": "Logging utility for colored terminal output, integrates with a custom Colors class for status indication.",
          "references": [
            "Colors.END",
            "Colors.GREEN"
          ]
        },
        {
          "name": "print_error",
          "lines": "113-114",
          "tokens": 22,
          "content_hash": "e255aab1a87a9c8fc6099cded4be91fb",
          "analyzed_by": "deepseek",
          "description": "Error logging utility for terminal output with color-coded formatting, integrates with a custom Colors class for standardized error display.",
          "references": [
            "Colors.END",
            "Colors.RED"
          ]
        },
        {
          "name": "print_warning",
          "lines": "117-118",
          "tokens": 23,
          "content_hash": "b746e939ab7954bcd8c342489ad4e479",
          "analyzed_by": "deepseek",
          "description": "Logging utility for color-coded warning messages in terminal output, integrates with a custom color enumeration for standardized formatting.",
          "references": [
            "Colors.END",
            "Colors.YELLOW"
          ]
        },
        {
          "name": "print_info",
          "lines": "121-122",
          "tokens": 24,
          "content_hash": "251d0afbe0f54b73463dd6400c34b774",
          "analyzed_by": "deepseek",
          "description": "Logging utility for color-coded informational messages in terminal output, integrates with a custom Colors class for ANSI formatting.",
          "references": [
            "Colors.CYAN",
            "Colors.END"
          ]
        },
        {
          "name": "check_imports",
          "lines": "201-239",
          "tokens": 251,
          "content_hash": "e13e6764bdd151aac2cc1c3abb2b1502",
          "analyzed_by": "deepseek",
          "description": "Dependency validation utility for module imports, outputs success/error messages and returns boolean pass/fail status.",
          "references": [
            "errors.append",
            "print_error",
            "print_info",
            "print_success"
          ]
        },
        {
          "name": "check_api_qwen",
          "lines": "242-271",
          "tokens": 253,
          "content_hash": "3d074ff176a6baf46acb03abc0f73011",
          "analyzed_by": "deepseek",
          "description": "Health check for Qwen API via OpenRouter, validates configuration and connectivity with a test request.",
          "references": [
            "cfg.MODEL_QWEN",
            "cfg.OPENROUTER_API_KEY",
            "cfg.OPENROUTER_BASE_URL",
            "client.post",
            "httpx.Client",
            "resp.status_code",
            "resp.text"
          ]
        },
        {
          "name": "check_api_deepseek",
          "lines": "274-302",
          "tokens": 226,
          "content_hash": "0ca672502828e2f6e64ddd193a00ff11",
          "analyzed_by": "deepseek",
          "description": "API health check for DeepSeek service using httpx, returns status and diagnostic message.",
          "references": [
            "cfg.DEEPSEEK_API_KEY",
            "cfg.DEEPSEEK_BASE_URL",
            "client.post",
            "httpx.Client",
            "resp.status_code",
            "resp.text"
          ]
        },
        {
          "name": "list_python_files",
          "lines": "307-318",
          "tokens": 104,
          "content_hash": "729aa9c69249d5397de15908598c2841",
          "analyzed_by": "deepseek",
          "description": "Recursively enumerates Python files from a target directory while filtering out entries in IGNORE_DIRS and hidden directories.",
          "references": [
            "f.relative_to",
            "part.startswith",
            "py_files.append",
            "target.rglob"
          ]
        },
        {
          "name": "count_tasks",
          "lines": "321-350",
          "tokens": 182,
          "content_hash": "dae1dd984595f84f7189b5bf491b5629",
          "analyzed_by": "deepseek",
          "description": "Estimates total tasks for progress tracking by recursively counting classes and functions in Python files using a semantic chunker.",
          "references": [
            "SmartPythonChunker",
            "child.children",
            "child.kind",
            "chunker.chunk_file_to_tree",
            "count_in_node",
            "list_python_files",
            "node.children",
            "sub.kind",
            "tree.id"
          ]
        },
        {
          "name": "select_directory",
          "lines": "355-397",
          "tokens": 413,
          "content_hash": "7a388437d6392c8341e2188b1f831e05",
          "analyzed_by": "qwen",
          "description": "Prompts the user to select a directory for indexing, validates the selection, and returns the chosen path if valid. Integrates with file system checks and Python file listing.",
          "references": [
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.YELLOW",
            "Path",
            "Path.cwd",
            "input",
            "list_python_files",
            "print_error",
            "print_header",
            "print_success",
            "target.exists",
            "target.is_dir"
          ]
        },
        {
          "name": "select_mode",
          "lines": "400-420",
          "tokens": 298,
          "content_hash": "a74bddd00b0e011d00df1b964cdb1679",
          "analyzed_by": "qwen",
          "description": "Предоставляет пользователю выбор режима индексации (инкрементальный, полный или тест обнаружения изменений) с цветным текстовым интерфейсом.",
          "references": [
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.YELLOW",
            "input"
          ]
        },
        {
          "name": "select_concurrency",
          "lines": "423-444",
          "tokens": 212,
          "content_hash": "337cf9cead5136486443f8bf446af3d4",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю задать уровень параллелизма для API-запросов с валидацией и ограничением диапазона.",
          "references": [
            "Colors.DIM",
            "Colors.END",
            "Colors.YELLOW",
            "input",
            "print_warning"
          ]
        },
        {
          "name": "test_change_detection",
          "lines": "449-702",
          "tokens": 2790,
          "content_hash": "87b4be68356d5c7355e8a8b5a3498049",
          "analyzed_by": "qwen",
          "description": "Тестирует функционал обнаружения изменений в файловой системе, проверяя метод detect_changed_files(), хэширование, наличие индекса и вспомогательных методов. Интегрируется с SemanticIndexer и ContentHasher.",
          "references": [
            "ChangeDetectionLogger",
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.RED",
            "Colors.YELLOW",
            "ContentHasher",
            "Path",
            "SemanticIndexer",
            "changes.get",
            "changes.keys",
            "existing_index.get",
            "expected_keys.issubset",
            "f.name",
            "f.relative_to",
            "f.write",
            "hasher.hash_content",
            "hasher.hash_file",
            "index_path.exists",
            "indexer.detect_changed_files",
            "json.JSONDecodeError",
            "json.load",
            "list_python_files",
            "logger.detail",
            "logger.error",
            "logger.finish",
            "logger.found",
            "logger.get_summary",
            "logger.start",
            "logger.step",
            "logger.success",
            "logger.warning",
            "m.get",
            "print_error",
            "print_header",
            "test_file.name",
            "test_file.read_text",
            "time.time",
            "traceback.print_exc"
          ]
        },
        {
          "name": "select_mode",
          "lines": "705-730",
          "tokens": 356,
          "content_hash": "18306da8447430b43e96716dd8451c77",
          "analyzed_by": "qwen",
          "description": "Предоставляет пользователю выбор режима индексации (инкрементальный, полный, тест обнаружения изменений, синхронизация) и возвращает выбранный режим.",
          "references": [
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "Colors.YELLOW",
            "input"
          ]
        },
        {
          "name": "test_incremental_update",
          "lines": "734-789",
          "tokens": 506,
          "content_hash": "e117ee9fdaafd353e660a08b124bf79a",
          "analyzed_by": "qwen",
          "description": "Тестирует наличие и корректность метода update_single_file в SemanticIndexer для инкрементального обновления, интегрируется с логированием и проверкой сигнатуры метода.",
          "references": [
            "ChangeDetectionLogger",
            "Colors.CYAN",
            "Colors.END",
            "Colors.GREEN",
            "SemanticIndexer",
            "indexer.update_single_file",
            "inspect.signature",
            "list_python_files",
            "logger.detail",
            "logger.error",
            "logger.finish",
            "logger.start",
            "logger.step",
            "logger.success",
            "print_error",
            "print_header",
            "sig.parameters",
            "test_file.name"
          ]
        },
        {
          "name": "build_with_progress",
          "lines": "794-835",
          "tokens": 355,
          "content_hash": "d39b4b364d1e93737f81986dbe2ea8fc",
          "analyzed_by": "qwen",
          "description": "Executes semantic indexing asynchronously with progress tracking, integrates with SemanticIndexer and ProgressTracker for task monitoring and status updates.",
          "references": [
            "ProgressTracker",
            "SemanticIndexer",
            "count_tasks",
            "indexer._report_progress",
            "indexer.build_index_async",
            "indexer.max_concurrent",
            "print_info",
            "time.time",
            "tracker._print_status",
            "tracker.completed",
            "tracker.file_started",
            "tracker.finish",
            "tracker.set_total"
          ]
        },
        {
          "name": "analyze_result",
          "lines": "840-928",
          "tokens": 980,
          "content_hash": "44788eb3d608e1ba4415dbe69764950c",
          "analyzed_by": "qwen",
          "description": "Выводит статистику индексации, включая количество файлов, классов, функций и успешность API-вызовов, а также информацию о размерах созданных файлов и ошибках. Интегрируется с Qwen и DeepSeek для анализа API-запросов.",
          "references": [
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.END",
            "Colors.GREEN",
            "TokenCounter",
            "content.encode",
            "error_types.get",
            "error_types.items",
            "file_data.get",
            "filepath.exists",
            "filepath.read_text",
            "index.get",
            "print_success",
            "print_warning",
            "stats.get",
            "tc.count"
          ]
        },
        {
          "name": "show_sample_output",
          "lines": "931-952",
          "tokens": 195,
          "content_hash": "c7657d461e6489cd3f8c8100b7632b2a",
          "analyzed_by": "qwen",
          "description": "Displays a sample output from a compact index file (up to 20 lines), with visual formatting and truncation if the file is longer. Integrates with file system and color formatting for terminal output.",
          "references": [
            "Colors.BOLD",
            "Colors.DIM",
            "Colors.END",
            "compact_path.exists",
            "compact_path.read_text",
            "content.split"
          ]
        },
        {
          "name": "main",
          "lines": "957-1088",
          "tokens": 1192,
          "content_hash": "a7093d80ba4ec0f742a2cded23a210d0",
          "analyzed_by": "qwen",
          "description": "Запускает тестирование и построение семантического индекса, интегрируя проверки API, выбор режима, синхронизацию и индексацию с поддержкой асинхронности и прогресса.",
          "references": [
            "Colors.CYAN",
            "Colors.END",
            "Colors.YELLOW",
            "SemanticIndexer",
            "analyze_result",
            "asyncio.run",
            "build_with_progress",
            "check_api_deepseek",
            "check_api_qwen",
            "check_imports",
            "datetime.now",
            "indexer.sync_index",
            "input",
            "logging.WARNING",
            "logging.basicConfig",
            "print_error",
            "print_header",
            "print_info",
            "print_success",
            "print_warning",
            "select_concurrency",
            "select_directory",
            "select_mode",
            "show_sample_output",
            "test_change_detection",
            "test_incremental_update",
            "traceback.print_exc"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:07:41.829613+00:00"
    },
    "temp_test.py": {
      "name": "temp_test.py",
      "path": "temp_test.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\temp_test.py",
      "file_hash": "0705c2678af22197493e8930df1a92ba",
      "tokens_total": 12,
      "lines_total": 2,
      "imports": null,
      "globals": null,
      "description": "Unit test script for verifying basic console output functionality, integrates with pytest for automated testing.",
      "classes": [],
      "functions": [
        {
          "name": "hello_world",
          "lines": "1-2",
          "tokens": 12,
          "content_hash": "d86645a390cbf70b6d3b7b2f72dea571",
          "analyzed_by": "qwen",
          "description": "Prints 'Hello, World!' to the console.",
          "references": []
        }
      ],
      "last_indexed": "2025-12-12T11:04:46.466626+00:00"
    },
    "test_all_chunkers.py": {
      "name": "test_all_chunkers.py",
      "path": "test_all_chunkers.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\test_all_chunkers.py",
      "file_hash": "3022e25771b920f673ce3d0e1fbf7bfa",
      "tokens_total": 1372,
      "lines_total": 196,
      "imports": {
        "lines": "2-10",
        "modules": [
          "pathlib.Path",
          "rich.console.Console",
          "rich.table.Table",
          "rich.panel.Panel",
          "app.services.python_chunker.SmartPythonChunker",
          "app.services.go_chunker.SmartGoChunker",
          "app.services.sql_chunker.SmartSQLChunker",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 67
      },
      "globals": {
        "lines": "12-12",
        "names": [
          "console"
        ],
        "tokens": 4
      },
      "description": "Unit test suite for validating language-specific code chunkers (Python, Go, SQL) using SmartChunker classes and Rich library for structured console output.",
      "classes": [],
      "functions": [
        {
          "name": "test_python",
          "lines": "15-58",
          "tokens": 318,
          "content_hash": "639878339028352de73019d29e3a32e3",
          "analyzed_by": "qwen",
          "description": "Тестирует Python-чанкер на примере кода, отображая результаты в виде таблицы с информацией о типе, имени, строках и токенах каждого чанка. Использует SmartPythonChunker, Pathlib для работы с файлами и Rich для визуализации.",
          "references": [
            "Path",
            "SmartPythonChunker",
            "Table",
            "ch.end_line",
            "ch.kind",
            "ch.name",
            "ch.parent",
            "ch.start_line",
            "ch.tokens",
            "chunker.chunk_file",
            "console.print",
            "table.add_column",
            "table.add_row",
            "test_file.unlink",
            "test_file.write_text"
          ]
        },
        {
          "name": "test_go",
          "lines": "61-120",
          "tokens": 369,
          "content_hash": "bddbf22faf3c1f50e36a58c8db1f4e8a",
          "analyzed_by": "deepseek",
          "description": "Unit test for Go code chunking functionality using SmartGoChunker, validates parsing accuracy and displays structured results via rich console output.",
          "references": [
            "Path",
            "SmartGoChunker",
            "Table",
            "ch.end_line",
            "ch.kind",
            "ch.name",
            "ch.receiver",
            "ch.start_line",
            "ch.tokens",
            "chunker.chunk_file",
            "console.print",
            "table.add_column",
            "table.add_row",
            "test_file.unlink",
            "test_file.write_text"
          ]
        },
        {
          "name": "test_sql",
          "lines": "123-183",
          "tokens": 515,
          "content_hash": "70ff5a381bfed47cf7862835bdcb4cf3",
          "analyzed_by": "qwen",
          "description": "Тестирует SQL-чанкер на примере SQL-скрипта, выводя информацию о сгенерированных чанках и группировке по таблицам с использованием Rich для форматированного вывода.",
          "references": [
            "Path",
            "SmartSQLChunker",
            "Table",
            "c.kind",
            "ch.end_line",
            "ch.kind",
            "ch.name",
            "ch.start_line",
            "ch.tokens",
            "chunker.chunk_file",
            "console.print",
            "group_sql_by_table",
            "groups.items",
            "table.add_column",
            "table.add_row",
            "test_file.unlink",
            "test_file.write_text"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:05:11.647784+00:00"
    },
    "test_index_builder.py": {
      "name": "test_index_builder.py",
      "path": "test_index_builder.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\test_index_builder.py",
      "file_hash": "a7dbdddd394a70445cb37af3ab8cec00",
      "tokens_total": 5828,
      "lines_total": 651,
      "imports": {
        "lines": "8-12",
        "modules": [
          "sys",
          "json",
          "time",
          "os",
          "pathlib.Path"
        ],
        "tokens": 16
      },
      "globals": {
        "lines": "15-22",
        "names": [
          "PROJECT_ROOT",
          "path",
          "target_dir"
        ],
        "tokens": 27
      },
      "description": "Unit test suite for validating the project index builder's core functions, including directory selection, project creation, structure verification, and JSON metadata generation.",
      "classes": [],
      "functions": [
        {
          "name": "select_project_directory",
          "lines": "53-123",
          "tokens": 635,
          "content_hash": "a1bb4d1e13eb1e2367d5ce4702b2d162",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю выбрать директорию проекта для индексации, с поддержкой предопределенных путей и пользовательского ввода, включая проверку существования и корректности пути.",
          "references": [
            "Path",
            "Path.cwd",
            "create_test_project",
            "input",
            "path.exists",
            "path.is_dir",
            "sys.exit"
          ]
        },
        {
          "name": "create_test_project",
          "lines": "126-323",
          "tokens": 1358,
          "content_hash": "dc669292536cfb7da2246dc917eef070",
          "analyzed_by": "qwen",
          "description": "Создает структуру тестового проекта с исходными файлами и тестами для проверки функциональности, включая пользовательскую логику, администрирование и модульные тесты.",
          "references": [
            "files.items",
            "full_path.parent",
            "full_path.write_text",
            "test_dir.mkdir"
          ]
        },
        {
          "name": "check_project_structure",
          "lines": "326-385",
          "tokens": 616,
          "content_hash": "ff3b66a3de79e4d98e56ff902a9bee6e",
          "analyzed_by": "qwen",
          "description": "Проверяет структуру проекта, подсчитывает Python-файлы и оценивает общий размер кода в токенах, интегрируясь с TokenCounter для анализа содержимого.",
          "references": [
            "TokenCounter",
            "file.relative_to",
            "file.stat",
            "project_dir.rglob",
            "token_counter.count"
          ]
        },
        {
          "name": "confirm_indexing",
          "lines": "388-412",
          "tokens": 318,
          "content_hash": "5e2fd4cbb15784c74822d1e2b17060bc",
          "analyzed_by": "qwen",
          "description": "Запрашивает подтверждение начала индексации проекта, отображая статистику и предупреждения, возвращает результат выбора пользователя.",
          "references": [
            "input"
          ]
        },
        {
          "name": "build_index",
          "lines": "415-463",
          "tokens": 393,
          "content_hash": "e7a9d8f5a95b218774720ecb919c79b6",
          "analyzed_by": "deepseek",
          "description": "Project indexing function that scans directories, analyzes code structure, and outputs JSON metadata with execution statistics.",
          "references": [
            "DetailedIndexBuilder",
            "builder.build_detailed_index",
            "index.get",
            "json.dump",
            "time.time",
            "traceback.print_exc"
          ]
        },
        {
          "name": "show_results",
          "lines": "466-557",
          "tokens": 1016,
          "content_hash": "9517956abd64d5d6c128bedd0cb6a5af",
          "analyzed_by": "deepseek",
          "description": "Console output formatter for indexing results, displays statistics and structured file metadata with error handling.",
          "references": [
            "file_data.get",
            "files.items",
            "index.get",
            "method.get",
            "output_file.stat",
            "results.get",
            "stats.get"
          ]
        },
        {
          "name": "check_index_file",
          "lines": "560-597",
          "tokens": 447,
          "content_hash": "b8f00bfc4f81cc97d2dad395775676c9",
          "analyzed_by": "deepseek",
          "description": "Index validation utility for JSON-based file maps, performs structural integrity checks and provides diagnostic output.",
          "references": [
            "index_data.get",
            "index_file.exists",
            "index_file.stat",
            "json.JSONDecodeError",
            "json.load"
          ]
        },
        {
          "name": "main",
          "lines": "600-638",
          "tokens": 408,
          "content_hash": "d8236232f128049a2d9df10fe4564233",
          "analyzed_by": "deepseek",
          "description": "CLI-based project index builder for generating detailed code structure maps, integrates with file system validation and user confirmation workflows.",
          "references": [
            "build_index",
            "check_index_file",
            "check_project_structure",
            "confirm_indexing",
            "results.get",
            "select_project_directory",
            "show_results"
          ]
        }
      ],
      "last_indexed": "2025-12-12T11:06:16.975966+00:00"
    },
    "app/agents/code_generator.py": {
      "name": "code_generator.py",
      "path": "app/agents/code_generator.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\agents\\code_generator.py",
      "file_hash": "7f505cc577f0bb21571b34b422a77fcb",
      "tokens_total": 13760,
      "lines_total": 1750,
      "imports": {
        "lines": "19-32",
        "modules": [
          "__future__.annotations",
          "logging",
          "re",
          "app.services.file_modifier.ParsedCodeBlock",
          "dataclasses.dataclass",
          "dataclasses.field",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "config.settings.cfg",
          "app.llm.api_client.call_llm",
          "app.llm.api_client.get_model_for_role",
          "app.llm.prompt_templates.format_code_generator_prompt",
          "asyncio"
        ],
        "tokens": 80
      },
      "globals": {
        "lines": "35-80",
        "names": [
          "CODE_GENERATOR_MAX_RETRIES",
          "CODE_GENERATOR_RETRY_DELAY",
          "logger"
        ],
        "tokens": 34
      },
      "description": "Code generation and validation engine for ASK mode, integrating structured code blocks, automated error correction, and retry logic with frontend display support.",
      "classes": [
        {
          "name": "CodeBlock",
          "lines": "367-429",
          "tokens": 586,
          "content_hash": "c554f99f687f5fe05565591065a09d77",
          "analyzed_by": "qwen",
          "description": "Represents a code block with metadata for placement and modification, used specifically in ASK mode for generating user-friendly placement hints and serializing code changes. Integrates with file operations and regex for line number extraction.",
          "references": [
            "action_hints.get",
            "line_match.group",
            "re.search"
          ],
          "methods": [
            "to_dict",
            "get_placement_hint"
          ]
        },
        {
          "name": "ValidationResult",
          "lines": "433-438",
          "tokens": 52,
          "content_hash": "cff21b1768654cd948d0793a7d6837c4",
          "analyzed_by": "qwen",
          "description": "Represents the outcome of ASK mode response validation, indicating success/failure, errors, warnings, and any autofixes applied.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "CodeGeneratorResult",
          "lines": "442-554",
          "tokens": 757,
          "content_hash": "f6479d39f774006fa58ba7fc04aba617",
          "analyzed_by": "qwen",
          "description": "Represents the result of a code generation process, containing code blocks, explanations, and metadata for frontend display and debugging. Integrates with CodeBlock for structured code output and provides formatted views for user interaction.",
          "references": [
            "block.code",
            "block.context",
            "block.filepath",
            "block.get_placement_hint",
            "block.language",
            "block.to_dict",
            "field",
            "header.append",
            "parts.append"
          ],
          "methods": [
            "combined_code",
            "primary_code",
            "primary_filepath",
            "to_dict",
            "format_for_user"
          ]
        }
      ],
      "functions": [
        {
          "name": "_is_network_error",
          "lines": "40-78",
          "tokens": 251,
          "content_hash": "bdf202ecbfeff1ff278c4d81601d81ab",
          "analyzed_by": "qwen",
          "description": "Determines if an exception is a network-related error that can be retried, by checking both the error message and exception type against known network error patterns.",
          "references": []
        },
        {
          "name": "_autofix_response_ask",
          "lines": "87-131",
          "tokens": 458,
          "content_hash": "88c4e577439392ea65a76fcaf82bdf60",
          "analyzed_by": "qwen",
          "description": "Автоматически исправляет типичные структурные ошибки в ответе в режиме ASK, такие как маркеры файлов, языков и действий, а также незакрытые секции. Возвращает исправленный текст и список решенных проблем.",
          "references": [
            "_convert_markdown_to_markers_ask",
            "_infer_and_add_action_ask",
            "fixed.rstrip",
            "issues.append",
            "issues.extend",
            "match.group",
            "re.MULTILINE",
            "re.findall",
            "re.sub"
          ]
        },
        {
          "name": "_infer_and_add_action_ask",
          "lines": "134-155",
          "tokens": 219,
          "content_hash": "6366bee58b6d7576b7a5a868c89e6d85",
          "analyzed_by": "qwen",
          "description": "Infers and adds an appropriate ACTION (NEW_FILE, REPLACE_FILE, or REPLACE_METHOD) to code blocks in ASK mode responses based on file context, modifies the response text accordingly, and returns a list of inferred actions. Uses regex to identify file blocks and determine action type.",
          "references": [
            "filepath.startswith",
            "issues.append",
            "match.group",
            "re.sub"
          ]
        },
        {
          "name": "_convert_markdown_to_markers_ask",
          "lines": "158-204",
          "tokens": 461,
          "content_hash": "6756f68b8ede3865476aa7724b7d8ae2",
          "analyzed_by": "qwen",
          "description": "Converts markdown code blocks into structured marker blocks for code modification (ASK mode fallback), extracting file paths, context, and language to generate actionable code markers.",
          "references": [
            "code_content.strip",
            "context_match.group",
            "filepath_match.group",
            "issues.append",
            "match.end",
            "match.group",
            "match.start",
            "re.DOTALL",
            "re.MULTILINE",
            "re.finditer",
            "re.search",
            "re.sub",
            "result_parts.append"
          ]
        },
        {
          "name": "_validate_parsed_blocks_ask",
          "lines": "210-243",
          "tokens": 244,
          "content_hash": "68ca4e37f4fccad80a9339101ac5c06e",
          "analyzed_by": "qwen",
          "description": "Validates parsed code blocks in ASK mode, checking for empty blocks, truncation, and missing action markers. Returns validation result with errors or warnings.",
          "references": [
            "ValidationResult",
            "_looks_truncated_ask",
            "b.action",
            "b.code",
            "b.filepath",
            "block.code",
            "block.filepath"
          ]
        },
        {
          "name": "_looks_truncated_ask",
          "lines": "246-263",
          "tokens": 197,
          "content_hash": "9a288e5b3b682d40b177b2befcc10c00",
          "analyzed_by": "qwen",
          "description": "Determines if a code snippet is likely truncated in ASK mode by checking for incomplete syntax patterns in the last line.",
          "references": [
            "code.strip",
            "last_line.endswith",
            "re.match"
          ]
        },
        {
          "name": "_build_retry_prompt_ask",
          "lines": "266-298",
          "tokens": 275,
          "content_hash": "74f00ae77c64e012583801cc01fe4384",
          "analyzed_by": "qwen",
          "description": "Constructs a retry prompt for code generation in ASK mode, including the original instruction, error message, and a snippet of the previous response, formatted to enforce a specific code submission structure.",
          "references": []
        },
        {
          "name": "parse_marker_format_ask",
          "lines": "305-359",
          "tokens": 516,
          "content_hash": "3c4b074ca821e5805c3e06c20025da42",
          "analyzed_by": "qwen",
          "description": "Parses a response formatted with # === FILE: ... === markers to extract code blocks and their metadata (ASK mode only), returning a list of CodeBlock objects and an explanation. Uses regular expressions to identify file paths, language, context, action, target, and code content.",
          "references": [
            "CodeBlock",
            "action_match.group",
            "blocks.append",
            "code.strip",
            "context_match.group",
            "explanation_match.group",
            "lang_match.group",
            "match.group",
            "re.DOTALL",
            "re.finditer",
            "re.search",
            "re.sub",
            "target_match.group"
          ]
        },
        {
          "name": "generate_code",
          "lines": "560-674",
          "tokens": 767,
          "content_hash": "4e6c48ae7f003018fb8837d188e3c89c",
          "analyzed_by": "qwen",
          "description": "Generates code in ASK mode using an LLM with validation, retry logic, and model-specific adjustments, integrating with prompt formatting, response parsing, and logging.",
          "references": [
            "CodeGeneratorResult",
            "_autofix_response_ask",
            "_build_retry_prompt_ask",
            "_validate_parsed_blocks_ask",
            "call_llm",
            "cfg.get_model_display_name",
            "extract_explanation_from_response",
            "format_code_generator_prompt",
            "get_model_for_role",
            "instruction.strip",
            "logger.error",
            "logger.info",
            "logger.warning",
            "parse_ask_mode_code_blocks",
            "validation.error",
            "validation.is_ok",
            "validation.warning"
          ]
        },
        {
          "name": "generate_code_agent_mode",
          "lines": "681-826",
          "tokens": 1125,
          "content_hash": "0b9826e17ab8cfcf2fbe7100f49886ef",
          "analyzed_by": "qwen",
          "description": "Generates code in Agent Mode using an LLM, returning parsed code blocks for file modification and the raw response for logging. Integrates with file context, LLM models, and includes retry logic for network errors.",
          "references": [
            "ParsedCodeBlock",
            "_extract_any_code",
            "_is_network_error",
            "asyncio.sleep",
            "call_llm",
            "cfg.get_model_display_name",
            "file_contents.items",
            "file_context_parts.append",
            "file_match.group",
            "format_code_generator_prompt_agent",
            "get_model_for_role",
            "instruction.strip",
            "logger.error",
            "logger.info",
            "logger.warning",
            "parse_agent_code_blocks",
            "re.search"
          ]
        },
        {
          "name": "_parse_code_generator_response",
          "lines": "831-874",
          "tokens": 225,
          "content_hash": "5273b97ad6709c55b58f85f58b505e22",
          "analyzed_by": "qwen",
          "description": "Parses a Code Generator response into structured code blocks and explanation, using default filepath if unspecified. Integrates with _extract_code_blocks and _extract_explanation helper functions.",
          "references": [
            "CodeGeneratorResult",
            "_extract_code_blocks",
            "_extract_explanation",
            "result.code_blocks",
            "result.explanation"
          ]
        },
        {
          "name": "_extract_code_blocks",
          "lines": "877-951",
          "tokens": 630,
          "content_hash": "2d67d92909f791155df96de5bdc84186",
          "analyzed_by": "qwen",
          "description": "Extracts code blocks from a response string, identifying language, filepath, and context from comments, and returns them as structured CodeBlock objects.",
          "references": [
            "CodeBlock",
            "blocks.append",
            "clean_code.strip",
            "code_content.strip",
            "context_match.group",
            "fallback_match.group",
            "path_match.group",
            "re.DOTALL",
            "re.MULTILINE",
            "re.findall",
            "re.search",
            "re.sub"
          ]
        },
        {
          "name": "_extract_explanation",
          "lines": "954-991",
          "tokens": 327,
          "content_hash": "dc74a263fee1ab46eba82716d655229f",
          "analyzed_by": "qwen",
          "description": "Extracts the explanation section from a response by searching for common explanation headers and content after code blocks, removing any code blocks from the result.",
          "references": [
            "explanation.strip",
            "match.end",
            "match.group",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.finditer",
            "re.search",
            "re.sub"
          ]
        },
        {
          "name": "_extract_any_code",
          "lines": "994-1018",
          "tokens": 190,
          "content_hash": "1462c676c97aef3815fbb80513ed0a19",
          "analyzed_by": "qwen",
          "description": "Extracts code-like content from a response using regex patterns for indented blocks or common code delimiters. Used as a fallback when standard parsing methods fail.",
          "references": [
            "match.group",
            "re.DOTALL",
            "re.MULTILINE",
            "re.search"
          ]
        },
        {
          "name": "parse_ask_mode_code_blocks",
          "lines": "1029-1126",
          "tokens": 813,
          "content_hash": "298fe4c7999b291abc42b3f9f0333f22",
          "analyzed_by": "qwen",
          "description": "Parses code blocks from ASK mode responses using either marker or markdown format, extracting code, file paths, language, and context, and returns them as structured CodeBlock objects along with a summary log. Integrates with logging and regex-based content extraction.",
          "references": [
            "CodeBlock",
            "_extract_code_fences_smart",
            "_extract_explanation",
            "b.action",
            "b.filepath",
            "b.language",
            "b.target",
            "blocks.append",
            "clean_code.strip",
            "code_content.strip",
            "context_match.group",
            "datetime.now",
            "f.write",
            "log",
            "log_lines.append",
            "logger.warning",
            "os.makedirs",
            "os.path",
            "parse_marker_format_ask",
            "path_match.group",
            "re.IGNORECASE",
            "re.MULTILINE",
            "re.search",
            "re.sub"
          ]
        },
        {
          "name": "_extract_code_fences_smart",
          "lines": "1129-1222",
          "tokens": 975,
          "content_hash": "6022e2469f01485c166fb93fb194bcda",
          "analyzed_by": "qwen",
          "description": "Извлекает блоки кода в формате code fences из текста, учитывая вложенные конструкции и язык программирования, возвращает список с языком, содержимым и позициями блоков. Интегрируется с регулярными выражениями и пользовательскими функциями логирования.",
          "references": [
            "_find_closing_fence_improved",
            "content.rstrip",
            "language.lower",
            "log_func",
            "match.end",
            "match.group",
            "match.start",
            "open_pattern.search",
            "re.IGNORECASE",
            "re.MULTILINE",
            "re.compile",
            "re.search",
            "results.append"
          ]
        },
        {
          "name": "_find_closing_fence_improved",
          "lines": "1225-1336",
          "tokens": 969,
          "content_hash": "4f9c3213f20b21f02eeaf95e7068e5a4",
          "analyzed_by": "qwen",
          "description": "Finds the position of a closing ``` fence in a text, with improved logic to ensure it's on a separate line and handles Python string literals correctly.",
          "references": [
            "prefix.strip",
            "rest.strip",
            "text.find",
            "text.rfind"
          ]
        },
        {
          "name": "_find_closing_fence",
          "lines": "1339-1440",
          "tokens": 865,
          "content_hash": "5d4c6877332fe907f9c1bf004fde6812",
          "analyzed_by": "qwen",
          "description": "Находит позицию закрывающего ``` в тексте, учитывая строковые литералы и escape-последовательности, чтобы избежать ложных срабатываний внутри кода или строк.",
          "references": [
            "prefix.strip",
            "rest_of_line.strip",
            "text.find",
            "text.rfind"
          ]
        },
        {
          "name": "extract_explanation_from_response",
          "lines": "1443-1456",
          "tokens": 126,
          "content_hash": "378b2bb57f5ea94d9f679fd68f48fe83",
          "analyzed_by": "qwen",
          "description": "Extracts the explanation section from a response string using specific markers or a fallback method. Used in ASK mode for both modern and legacy formats.",
          "references": [
            "_extract_explanation",
            "match.group",
            "re.DOTALL",
            "re.search"
          ]
        },
        {
          "name": "parse_agent_code_blocks",
          "lines": "1463-1561",
          "tokens": 765,
          "content_hash": "7672ce6ed1b1f63a84af34af98701f6c",
          "analyzed_by": "qwen",
          "description": "Parses agent mode code blocks from a response string into structured ParsedCodeBlock objects for file modification. Integrates with regular expressions for metadata extraction and code validation.",
          "references": [
            "ParsedCodeBlock",
            "_extract_code_from_block",
            "_extract_field",
            "blocks.append",
            "logger.debug",
            "logger.info",
            "logger.warning",
            "match.group",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.finditer"
          ]
        },
        {
          "name": "_extract_field",
          "lines": "1564-1587",
          "tokens": 187,
          "content_hash": "e7cdc6ef240253bfdba6229fcc3750b3",
          "analyzed_by": "qwen",
          "description": "Extracts the value of a specified field from a code block content using multiple formatting patterns. Supports formats like FIELD: value, FIELD:value, and FIELD: value.",
          "references": [
            "match.group",
            "re.IGNORECASE",
            "re.MULTILINE",
            "re.search",
            "value.strip"
          ]
        },
        {
          "name": "_extract_code_from_block",
          "lines": "1590-1635",
          "tokens": 540,
          "content_hash": "7234c638b5c9f95b1ab444eb9cba1d47",
          "analyzed_by": "qwen",
          "description": "Extracts code from a fenced code block () in a string, handling edge cases like escaped fences inside strings or regex patterns.",
          "references": [
            "code_lines.append",
            "open_match.end",
            "open_match.group",
            "re.MULTILINE",
            "re.match",
            "re.search",
            "remaining_content.split"
          ]
        },
        {
          "name": "format_code_blocks_summary",
          "lines": "1639-1671",
          "tokens": 303,
          "content_hash": "87d3ecc8d3b3aec8bd6d7762fb2517ec",
          "analyzed_by": "qwen",
          "description": "Formats a list of parsed code blocks into a human-readable summary string for logging or UI display, including file path, mode, target elements, and code size.",
          "references": [
            "block.code",
            "block.file_path",
            "block.insert_after",
            "block.mode",
            "block.target_class",
            "block.target_function",
            "block.target_method",
            "lines.append"
          ]
        },
        {
          "name": "validate_indentation",
          "lines": "1678-1721",
          "tokens": 288,
          "content_hash": "df30f280d5c4dcec9327b18808ca3a77",
          "analyzed_by": "qwen",
          "description": "Validates and fixes code indentation by ensuring consistency between spaces and tabs, and adjusts indentation based on context if provided.",
          "references": [
            "code.split",
            "context_code.split",
            "line.replace",
            "line.startswith",
            "logger.warning"
          ]
        },
        {
          "name": "generate_code_simple",
          "lines": "1728-1745",
          "tokens": 113,
          "content_hash": "666c9b048a6b8561f2b9a726cf8528a6",
          "analyzed_by": "qwen",
          "description": "Provides a simplified interface for code generation, returning only the generated code and explanation; integrates with the full generate_code logic and CodeGeneratorResult internally.",
          "references": [
            "generate_code",
            "result.explanation",
            "result.primary_code"
          ]
        },
        {
          "name": "format_result_for_display",
          "lines": "1748-1750",
          "tokens": 32,
          "content_hash": "b51b520436c3c61e946a93fdc3d445c7",
          "analyzed_by": "qwen",
          "description": "Formats a CodeGeneratorResult object into a user-readable string for display in ASK mode.",
          "references": [
            "result.format_for_user"
          ]
        }
      ],
      "last_indexed": "2026-01-03T20:05:41.146172+00:00"
    },
    "app/tools/__init__.py": {
      "name": "__init__.py",
      "path": "app/tools/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\__init__.py",
      "file_hash": "451977f1849281b8aad29f259e6b73a8",
      "tokens_total": 209,
      "lines_total": 35,
      "imports": {
        "lines": "11-20",
        "modules": [
          "app.tools.tool_definitions.ORCHESTRATOR_TOOLS",
          "app.tools.tool_definitions.READ_FILE_TOOL",
          "app.tools.tool_definitions.SEARCH_CODE_TOOL",
          "app.tools.tool_definitions.WEB_SEARCH_TOOL",
          "app.tools.tool_executor.execute_tool",
          "app.tools.tool_executor.ToolExecutor",
          "app.tools.read_file.read_file_tool",
          "app.tools.search_code.search_code_tool",
          "app.tools.web_search.web_search_tool"
        ],
        "tokens": 72
      },
      "globals": {
        "lines": "22-35",
        "names": [
          "__all__"
        ],
        "tokens": 75
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-14T01:14:39.954754+00:00"
    },
    "app/tools/read_file.py": {
      "name": "read_file.py",
      "path": "app/tools/read_file.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\read_file.py",
      "file_hash": "0f42a44c76b0966ee927423b25baf004",
      "tokens_total": 1701,
      "lines_total": 269,
      "imports": {
        "lines": "13-22",
        "modules": [
          "__future__.annotations",
          "os",
          "logging",
          "pathlib.Path",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "dataclasses.dataclass",
          "app.utils.xml_wrapper.XMLWrapper",
          "app.utils.xml_wrapper.FileContent",
          "app.utils.token_counter.TokenCounter",
          "app.utils.file_types.FileTypeDetector"
        ],
        "tokens": 63
      },
      "globals": {
        "lines": "24-24",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "File reading and analysis utility with XML-wrapped output, integrating token counting, file type detection, and security checks for structured content delivery.",
      "classes": [
        {
          "name": "ReadFileResult",
          "lines": "28-36",
          "tokens": 62,
          "content_hash": "62cda6d8f0509719cea435e16c1903e3",
          "analyzed_by": "qwen",
          "description": "Represents the result of a file reading operation, including success status, content, file metadata, and optional error information.",
          "references": [],
          "methods": []
        }
      ],
      "functions": [
        {
          "name": "read_file_tool",
          "lines": "39-143",
          "tokens": 755,
          "content_hash": "bcd4b41b258a463b6f7998c10a5bbfd1",
          "analyzed_by": "qwen",
          "description": "Reads a file from a project directory and returns its content wrapped in XML with metadata like file type, token count, and line numbers, ensuring security checks and encoding handling. Integrates with token counting, file type detection, and XML formatting utilities.",
          "references": [
            "FileContent",
            "FileTypeDetector",
            "Path",
            "TokenCounter",
            "XMLWrapper",
            "_format_error",
            "_truncate_to_tokens",
            "content.count",
            "counter.count",
            "detector.detect",
            "full_path.exists",
            "full_path.is_file",
            "full_path.read_text",
            "full_path.resolve",
            "logger.info",
            "logger.warning",
            "result_parts.append",
            "wrapper.wrap_file"
          ]
        },
        {
          "name": "read_file_raw",
          "lines": "146-235",
          "tokens": 504,
          "content_hash": "98f794d37d3d1ab312d8fecedaed1ffd",
          "analyzed_by": "qwen",
          "description": "Reads a file from a project directory with security checks, returns structured results including content, line numbers (optional), token count, and file type. Integrates with FileTypeDetector and TokenCounter for analysis.",
          "references": [
            "FileTypeDetector",
            "Path",
            "ReadFileResult",
            "TokenCounter",
            "_add_line_numbers",
            "content.count",
            "counter.count",
            "detector.detect",
            "full_path.exists",
            "full_path.read_text",
            "full_path.resolve"
          ]
        },
        {
          "name": "_format_error",
          "lines": "238-244",
          "tokens": 64,
          "content_hash": "2f92be24078cf3adb123ddb14e206195",
          "analyzed_by": "qwen",
          "description": "Generates a formatted XML-like error message with a suggestion for file-related issues.",
          "references": []
        },
        {
          "name": "_add_line_numbers",
          "lines": "247-252",
          "tokens": 72,
          "content_hash": "78945e47e23b569471b1c0642553ef7d",
          "analyzed_by": "qwen",
          "description": "Adds line numbers to the given string content, formatting them to align right based on the total number of lines.",
          "references": [
            "content.split"
          ]
        },
        {
          "name": "_truncate_to_tokens",
          "lines": "255-269",
          "tokens": 118,
          "content_hash": "6eb6016f4a20f97affccdde94580a292",
          "analyzed_by": "qwen",
          "description": "Truncates text content to stay within a specified token limit, using a token counter to estimate line lengths. Returns the truncated content with a truncation message if cut off.",
          "references": [
            "content.split",
            "counter.count",
            "result_lines.append"
          ]
        }
      ],
      "last_indexed": "2025-12-14T01:15:11.275438+00:00"
    },
    "app/tools/search_code.py": {
      "name": "search_code.py",
      "path": "app/tools/search_code.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\search_code.py",
      "file_hash": "f3d1feaadadc621ea3b3e7772a99cb87",
      "tokens_total": 3196,
      "lines_total": 437,
      "imports": {
        "lines": "12-16",
        "modules": [
          "__future__.annotations",
          "logging",
          "re",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "typing.Optional",
          "dataclasses.dataclass",
          "dataclasses.field"
        ],
        "tokens": 32
      },
      "globals": {
        "lines": "18-18",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Semantic code search tool for project indexing with unified regular/compressed index support, returning structured XML results with metadata and error handling.",
      "classes": [
        {
          "name": "SearchResult",
          "lines": "22-32",
          "tokens": 109,
          "content_hash": "6175800d4d2a9f2cde9d6b9d0c0fdf80",
          "analyzed_by": "qwen",
          "description": "Represents a single code search result with metadata like file path, type, line numbers, and context. Can represent classes, functions, or methods, and includes optional AI-generated descriptions and method listings for classes.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "SearchCodeResult",
          "lines": "36-42",
          "tokens": 54,
          "content_hash": "973a40acc5629d4a1551212fa8657f13",
          "analyzed_by": "qwen",
          "description": "Represents the result of a code search operation, containing success status, query, list of search results, total count, and optional error message.",
          "references": [
            "field"
          ],
          "methods": []
        }
      ],
      "functions": [
        {
          "name": "search_code_tool",
          "lines": "45-92",
          "tokens": 322,
          "content_hash": "7f4bb7471584de8031fb08bf403a7548",
          "analyzed_by": "qwen",
          "description": "Searches a project's semantic index for code elements (classes, functions, methods) matching a query, with options to filter by type and limit results; returns formatted XML output. Integrates with logging and helper functions for error/result formatting.",
          "references": [
            "_format_error",
            "_format_no_results",
            "_format_results_xml",
            "_search_unified_index",
            "logger.info",
            "query.lower"
          ]
        },
        {
          "name": "_search_unified_index",
          "lines": "95-115",
          "tokens": 160,
          "content_hash": "570a133fd4a598152a23201d9aebd6f8",
          "analyzed_by": "qwen",
          "description": "Performs a unified search on either a regular or compressed code index, returning relevant search results based on the query and search type. Integrates with _search_compressed_index_unified and _search_regular_index_unified for index-specific searching.",
          "references": [
            "_search_compressed_index_unified",
            "_search_regular_index_unified",
            "index.get"
          ]
        },
        {
          "name": "_search_regular_index_unified",
          "lines": "118-200",
          "tokens": 597,
          "content_hash": "256befda5907be3f11e759a191b0f92f",
          "analyzed_by": "qwen",
          "description": "Searches a regular (non-compressed) code index for classes, functions, or methods based on a query, returning matching results with file paths, line numbers, and context. Integrates with _parse_lines and _parse_methods_list for line parsing and method formatting.",
          "references": [
            "SearchResult",
            "_parse_lines",
            "_parse_methods_list",
            "cls_name.lower",
            "file_data.get",
            "files_data.items",
            "func.get",
            "func_name.lower",
            "index.get",
            "method_item.get",
            "method_name.lower",
            "results.append"
          ]
        },
        {
          "name": "_search_compressed_index_unified",
          "lines": "203-276",
          "tokens": 555,
          "content_hash": "f486ad26112bc63b140bc33e812cd24f",
          "analyzed_by": "qwen",
          "description": "Searches a compressed code index for classes, functions, or methods based on a query, returning structured search results. Integrates with SearchResult objects and line parsing for file navigation.",
          "references": [
            "SearchResult",
            "_parse_lines",
            "cls_name.lower",
            "func.get",
            "func_name.lower",
            "index.get",
            "m.strip",
            "method_name.lower",
            "methods_str.split",
            "results.append"
          ]
        },
        {
          "name": "_parse_methods_list",
          "lines": "279-294",
          "tokens": 134,
          "content_hash": "3bc4d81d6af9a565e2311ce01ec652c8",
          "analyzed_by": "qwen",
          "description": "Parses a list of methods from various input formats (string, list of strings, or list of dictionaries), extracting method names.",
          "references": [
            "item.get",
            "m.strip",
            "methods.append",
            "methods_raw.split"
          ]
        },
        {
          "name": "_parse_lines",
          "lines": "297-334",
          "tokens": 334,
          "content_hash": "494fcfddc77cd55b7560b9228f628f56",
          "analyzed_by": "qwen",
          "description": "Parses line numbers from various input formats including strings, integers, and dictionaries, returning a tuple of start and end line numbers.",
          "references": [
            "lines_input.items",
            "lines_input.split",
            "logger.warning"
          ]
        },
        {
          "name": "_format_results_xml",
          "lines": "337-386",
          "tokens": 432,
          "content_hash": "889443125fb91eb3ef0c2665cb6af50f",
          "analyzed_by": "qwen",
          "description": "Formats search results into an XML string, grouping results by file and including details like type, name, line numbers, context, and methods for classes.",
          "references": [
            "_escape_xml",
            "attrs.append",
            "by_file.items",
            "parts.append",
            "r.context",
            "r.description",
            "r.line_end",
            "r.line_start",
            "r.methods",
            "r.name",
            "r.parent",
            "r.result_type",
            "result.file_path"
          ]
        },
        {
          "name": "_format_no_results",
          "lines": "389-402",
          "tokens": 168,
          "content_hash": "abb5028ae689bf817e69b4381cad1bfe",
          "analyzed_by": "qwen",
          "description": "Generates a formatted XML/HTML message when no code search results are found, including helpful suggestions for improving the query.",
          "references": [
            "_escape_xml"
          ]
        },
        {
          "name": "_format_error",
          "lines": "405-410",
          "tokens": 42,
          "content_hash": "6cea7df61a4d84f0e39eaee1aabe06ee",
          "analyzed_by": "qwen",
          "description": "Formats an error message into an XML structure for output, escaping any XML special characters.",
          "references": [
            "_escape_xml"
          ]
        },
        {
          "name": "_escape_xml",
          "lines": "413-425",
          "tokens": 102,
          "content_hash": "492f430b4bd029059231526323671057",
          "analyzed_by": "qwen",
          "description": "Escapes special XML characters in a string to ensure safe XML output. Replaces &, <, >, \", and ' with their corresponding XML entities.",
          "references": [
            "text.replace"
          ]
        },
        {
          "name": "search_code_tool_legacy",
          "lines": "429-437",
          "tokens": 73,
          "content_hash": "a8e6fdbc765365e64fc5d1f0be53a455",
          "analyzed_by": "qwen",
          "description": "Provides backward compatibility for the legacy search_code_tool interface by delegating to the updated search_code_tool function.",
          "references": [
            "search_code_tool"
          ]
        }
      ],
      "last_indexed": "2026-01-08T02:49:32.647728+00:00"
    },
    "app/tools/tool_definitions.py": {
      "name": "tool_definitions.py",
      "path": "app/tools/tool_definitions.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\tool_definitions.py",
      "file_hash": "324b82683f5117c34e57eeaed6127e46",
      "tokens_total": 4087,
      "lines_total": 563,
      "imports": {
        "lines": "11-12",
        "modules": [
          "pathlib.Path",
          "typing.List",
          "typing.Dict",
          "typing.Any"
        ],
        "tokens": 13
      },
      "globals": {
        "lines": "19-519",
        "names": [
          "READ_CODE_CHUNK_TOOL",
          "READ_FILE_TOOL",
          "SEARCH_CODE_TOOL",
          "GREP_SEARCH_TOOL",
          "WEB_SEARCH_TOOL",
          "GENERAL_WEB_SEARCH_TOOL",
          "FILE_RELATIONS_TOOL",
          "GET_ADVICE_TOOL",
          "RUN_PROJECT_TESTS_TOOL",
          "LIST_INSTALLED_PACKAGES_TOOL",
          "INSTALL_DEPENDENCY_TOOL",
          "SEARCH_PYPI_TOOL",
          "ORCHESTRATOR_TOOLS"
        ],
        "tokens": 3582
      },
      "description": "Centralized registry for tool discovery and retrieval, enabling dynamic integration of code navigation, file operations, dependency management, and external search capabilities.",
      "classes": [],
      "functions": [
        {
          "name": "get_tool_by_name",
          "lines": "526-544",
          "tokens": 181,
          "content_hash": "4ce25652ae9f241d86d38c42ff4bb1d8",
          "analyzed_by": "qwen",
          "description": "Retrieves a predefined tool configuration by name from a map of available tools.",
          "references": [
            "ValueError"
          ]
        },
        {
          "name": "get_tool_names",
          "lines": "548-563",
          "tokens": 103,
          "content_hash": "6c7574dd2e69b00bec5636f2f8743de5",
          "analyzed_by": "qwen",
          "description": "Returns a list of available tool names for code navigation, file operations, dependency management, and external searches.",
          "references": []
        }
      ],
      "last_indexed": "2026-01-09T03:15:15.419295+00:00"
    },
    "app/tools/tool_executor.py": {
      "name": "tool_executor.py",
      "path": "app/tools/tool_executor.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\tool_executor.py",
      "file_hash": "31fc2b33f06d4cb552f32fb702e2b5ba",
      "tokens_total": 3335,
      "lines_total": 469,
      "imports": {
        "lines": "8-27",
        "modules": [
          "__future__.annotations",
          "json",
          "logging",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.Callable",
          "pathlib.Path",
          "app.advice.advice_loader.execute_get_advice",
          "app.tools.read_file.read_file_tool",
          "app.tools.search_code.search_code_tool",
          "app.tools.web_search.web_search_tool",
          "app.tools.run_project_tests.run_project_tests",
          "app.tools.grep_search.grep_search_tool",
          "app.tools.file_relations.show_file_relations_tool",
          "app.services.python_chunker.SmartPythonChunker",
          "app.tools.dependency_manager.list_installed_packages_tool",
          "app.tools.dependency_manager.install_dependency_tool",
          "app.tools.dependency_manager.search_pypi_tool"
        ],
        "tokens": 146
      },
      "globals": {
        "lines": "29-29",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Tool execution orchestrator for file operations, code search, web queries, and package management, integrating with semantic indexing and virtual file systems.",
      "classes": [
        {
          "name": "ToolExecutor",
          "lines": "32-416",
          "tokens": 2840,
          "content_hash": "f220689a5104a292ec808134fc3c28aa",
          "analyzed_by": "qwen",
          "description": "Executes tools for file operations, code search, web searches, and package management, with support for virtual file systems and custom tool registration. Integrates with search_code, read_file, web_search, and package management tools.",
          "references": [
            "Path",
            "SmartPythonChunker",
            "ValueError",
            "arguments.get",
            "arguments.keys",
            "c.name",
            "chunker.chunk_file",
            "execute_get_advice",
            "f.name",
            "f.write",
            "file_path.endswith",
            "full_path.exists",
            "full_path.read_text",
            "grep_search_tool",
            "install_dependency_tool",
            "list_installed_packages_tool",
            "logger.error",
            "logger.info",
            "os.unlink",
            "read_file_tool",
            "run_project_tests",
            "search_code_tool",
            "search_pypi_tool",
            "show_file_relations_tool",
            "staged_content.count",
            "staged_content.split",
            "target_chunk.content",
            "target_chunk.end_line",
            "target_chunk.kind",
            "target_chunk.name",
            "target_chunk.start_line",
            "tempfile.NamedTemporaryFile",
            "web_search_tool"
          ],
          "methods": [
            "__init__",
            "execute",
            "_execute_read_code_chunk",
            "_execute_read_file",
            "_execute_search_code",
            "_execute_grep_search",
            "_execute_show_file_relations",
            "_execute_web_search",
            "_execute_get_advice",
            "_execute_run_project_tests",
            "_execute_list_installed_packages",
            "_execute_install_dependency",
            "_execute_search_pypi",
            "register_tool",
            "update_index",
            "update_virtual_fs",
            "_format_error"
          ]
        }
      ],
      "functions": [
        {
          "name": "execute_tool",
          "lines": "423-446",
          "tokens": 160,
          "content_hash": "b92f9039532f4dc6f226e9bfc54718e9",
          "analyzed_by": "qwen",
          "description": "Executes a tool by creating and using a ToolExecutor instance, supporting optional semantic index and virtual file system integration.",
          "references": [
            "ToolExecutor",
            "executor.execute"
          ]
        },
        {
          "name": "parse_tool_call",
          "lines": "449-469",
          "tokens": 142,
          "content_hash": "2e2a6195d83bee074bc4e0d2d504afb0",
          "analyzed_by": "qwen",
          "description": "Parses a tool call from an LLM response into a tuple of tool name, arguments, and tool call ID. Integrates with JSON for argument deserialization.",
          "references": [
            "func_info.get",
            "json.JSONDecodeError",
            "json.loads",
            "tool_call.get"
          ]
        }
      ],
      "last_indexed": "2026-01-09T03:15:16.913509+00:00"
    },
    "app/tools/web_search.py": {
      "name": "web_search.py",
      "path": "app/tools/web_search.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\web_search.py",
      "file_hash": "f7bde78ca61d36f669077ca9d883001f",
      "tokens_total": 4291,
      "lines_total": 598,
      "imports": {
        "lines": "13-23",
        "modules": [
          "__future__.annotations",
          "asyncio",
          "concurrent.futures",
          "logging",
          "re",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "typing.Optional",
          "dataclasses.dataclass",
          "dataclasses.field",
          "urllib.parse.urlparse",
          "urllib.parse.unquote",
          "httpx",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 62
      },
      "globals": {
        "lines": "26-32",
        "names": [
          "logger",
          "MAX_TOTAL_TOKENS",
          "MAX_RESULTS",
          "REQUEST_TIMEOUT",
          "MAX_CONTENT_PER_PAGE"
        ],
        "tokens": 45
      },
      "description": "Web search module using DuckDuckGo for asynchronous querying, parallel page fetching, and semantic relevance ranking, returning structured results with token management.",
      "classes": [
        {
          "name": "WebPage",
          "lines": "36-44",
          "tokens": 67,
          "content_hash": "cbf118ecd22ddc3ce8ada6cab54ea0fd",
          "analyzed_by": "qwen",
          "description": "Represents a fetched web page with metadata such as URL, title, content, and relevance score. Used in conjunction with web search and content extraction logic.",
          "references": [],
          "methods": []
        },
        {
          "name": "WebSearchResult",
          "lines": "48-54",
          "tokens": 54,
          "content_hash": "7b534f026fdc72db0756a073e2342ec2",
          "analyzed_by": "qwen",
          "description": "Represents the result of a web search operation, containing success status, query, list of web pages, total tokens, and optional error message.",
          "references": [
            "field"
          ],
          "methods": []
        }
      ],
      "functions": [
        {
          "name": "web_search_tool",
          "lines": "57-121",
          "tokens": 475,
          "content_hash": "87109844809c258d8398459e5c9e09bf",
          "analyzed_by": "qwen",
          "description": "Performs a web search using DuckDuckGo, retrieves and ranks top page contents by relevance, and returns results in XML format. Uses asynchronous execution with fallback to a new event loop if necessary.",
          "references": [
            "_async_web_search",
            "_format_error",
            "_format_no_results",
            "_format_results_xml",
            "asyncio.get_running_loop",
            "asyncio.new_event_loop",
            "asyncio.run",
            "asyncio.set_event_loop",
            "concurrent.futures",
            "future.result",
            "logger.error",
            "logger.info",
            "new_loop.close",
            "new_loop.run_until_complete",
            "pool.submit",
            "result.error",
            "result.pages",
            "result.success"
          ]
        },
        {
          "name": "_async_web_search",
          "lines": "124-160",
          "tokens": 262,
          "content_hash": "89559b81483336dc3d5fda282c3f67b4",
          "analyzed_by": "qwen",
          "description": "Performs an asynchronous web search using DuckDuckGo, filters and ranks results by semantic relevance, and returns the most relevant pages within a token limit. Integrates with parallel page fetching and relevance scoring.",
          "references": [
            "WebSearchResult",
            "_calculate_relevance_scores",
            "_duckduckgo_search",
            "_fetch_pages_parallel",
            "_select_within_token_limit",
            "p.relevance_score",
            "p.tokens",
            "pages.sort"
          ]
        },
        {
          "name": "_duckduckgo_search",
          "lines": "163-204",
          "tokens": 270,
          "content_hash": "321f61345d830a24950f7e791d231c3a",
          "analyzed_by": "qwen",
          "description": "Performs asynchronous web searches using DuckDuckGo's HTML interface, returning a list of search results with URLs and metadata. Uses httpx for HTTP requests and parses HTML content to extract results.",
          "references": [
            "_parse_duckduckgo_html",
            "client.post",
            "httpx.AsyncClient",
            "logger.error",
            "logger.warning",
            "response.status_code",
            "response.text"
          ]
        },
        {
          "name": "_parse_duckduckgo_html",
          "lines": "207-249",
          "tokens": 347,
          "content_hash": "f570eb1b05542a893052eb1cb87abecb",
          "analyzed_by": "qwen",
          "description": "Parses DuckDuckGo HTML search results to extract URLs, titles, and snippets, using regex patterns and URL validation. Integrates with helper functions for URL extraction and validation.",
          "references": [
            "_extract_actual_url",
            "_is_valid_url",
            "re.IGNORECASE",
            "re.compile",
            "re.sub",
            "result_pattern.findall",
            "results.append",
            "snippet.strip",
            "snippet_pattern.findall",
            "title.strip"
          ]
        },
        {
          "name": "_extract_actual_url",
          "lines": "252-264",
          "tokens": 136,
          "content_hash": "bf1ffaa8204c31616e1335a5cac8ef81",
          "analyzed_by": "qwen",
          "description": "Extracts the actual URL from a DuckDuckGo redirect link by parsing the uddg parameter and handling URL formatting.",
          "references": [
            "duckduckgo_url.startswith",
            "match.group",
            "re.search",
            "unquote"
          ]
        },
        {
          "name": "_is_valid_url",
          "lines": "267-291",
          "tokens": 136,
          "content_hash": "02dacd23512177ee86d0ecdbbbc869e7",
          "analyzed_by": "qwen",
          "description": "Validates URLs by checking for valid scheme and netloc, and skips URLs from specified domains.",
          "references": [
            "parsed.netloc",
            "parsed.scheme",
            "urlparse"
          ]
        },
        {
          "name": "_fetch_pages_parallel",
          "lines": "294-350",
          "tokens": 329,
          "content_hash": "5358541d7a748d29e49f7c1ae06f1365",
          "analyzed_by": "qwen",
          "description": "Fetches multiple web pages in parallel from search results, handling errors, token counting, and content truncation; uses asyncio for concurrency and returns a list of successfully fetched WebPage objects.",
          "references": [
            "TokenCounter",
            "WebPage",
            "_fetch_page_content",
            "_truncate_content",
            "asyncio.gather",
            "counter.count",
            "fetch_single",
            "logger.warning",
            "p.content",
            "p.error"
          ]
        },
        {
          "name": "_fetch_page_content",
          "lines": "353-378",
          "tokens": 194,
          "content_hash": "10548a89a411fe083a48c1ebf0058276",
          "analyzed_by": "qwen",
          "description": "Fetches and extracts text content from a web page using an asynchronous HTTP client, with error handling and custom headers for request compatibility.",
          "references": [
            "_extract_text_from_html",
            "client.get",
            "httpx.AsyncClient",
            "logger.debug",
            "response.status_code",
            "response.text"
          ]
        },
        {
          "name": "_extract_text_from_html",
          "lines": "381-414",
          "tokens": 440,
          "content_hash": "0d1e131fb162bafa3207d5c58dcf34b8",
          "analyzed_by": "qwen",
          "description": "Extracts clean, readable text from HTML by removing scripts, styles, comments, and tags, while preserving paragraph structure and decoding HTML entities.",
          "references": [
            "_decode_html_entities",
            "line.strip",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.sub",
            "text.split",
            "text.strip"
          ]
        },
        {
          "name": "_decode_html_entities",
          "lines": "417-443",
          "tokens": 223,
          "content_hash": "815cf8dfe1c64cc15f8b64f3173ec9a0",
          "analyzed_by": "qwen",
          "description": "Decodes common and numeric HTML entities in a string to their corresponding characters.",
          "references": [
            "chr",
            "entities.items",
            "m.group",
            "re.sub",
            "text.replace"
          ]
        },
        {
          "name": "_calculate_relevance_scores",
          "lines": "446-494",
          "tokens": 384,
          "content_hash": "86632a76f52fd6971118a9c208d47023",
          "analyzed_by": "qwen",
          "description": "Calculates relevance scores for web pages based on keyword matches in title, snippet, and content, with bonuses for exact phrases and programming domains. Returns the pages with updated relevance scores.",
          "references": [
            "page.content",
            "page.relevance_score",
            "page.snippet",
            "page.title",
            "page.url",
            "query.lower"
          ]
        },
        {
          "name": "_select_within_token_limit",
          "lines": "497-521",
          "tokens": 166,
          "content_hash": "6bcebacc6ff7e4e7545888d64402daad",
          "analyzed_by": "qwen",
          "description": "Selects the top web pages while staying within a specified token limit, truncating content if necessary to fit. Integrates with TokenCounter for token estimation.",
          "references": [
            "TokenCounter",
            "_truncate_content",
            "page.content",
            "page.tokens",
            "selected.append"
          ]
        },
        {
          "name": "_truncate_content",
          "lines": "524-540",
          "tokens": 132,
          "content_hash": "96eaf1bbba0f8a16e433aa69b2507510",
          "analyzed_by": "qwen",
          "description": "Truncates text content by paragraphs to stay within a specified token limit, using a provided token counter. Returns the truncated content with a truncation notice if necessary.",
          "references": [
            "content.split",
            "counter.count",
            "result.append"
          ]
        },
        {
          "name": "_format_results_xml",
          "lines": "543-566",
          "tokens": 248,
          "content_hash": "600d7a6cea44a03eddf0c8000002c355",
          "analyzed_by": "qwen",
          "description": "Formats web search results into an XML string, including query metadata, page rankings, and escaped content.",
          "references": [
            "_escape_xml",
            "page.content",
            "page.relevance_score",
            "page.title",
            "page.tokens",
            "page.url",
            "parts.append",
            "result.pages",
            "result.query",
            "result.total_tokens"
          ]
        },
        {
          "name": "_format_no_results",
          "lines": "569-581",
          "tokens": 131,
          "content_hash": "7df48eb540a2ec20f2ee88724ce30e55",
          "analyzed_by": "qwen",
          "description": "Generates an XML-formatted response message when no web search results are found, including suggestions for improving the query.",
          "references": [
            "_escape_xml"
          ]
        },
        {
          "name": "_format_error",
          "lines": "584-589",
          "tokens": 42,
          "content_hash": "6cea7df61a4d84f0e39eaee1aabe06ee",
          "analyzed_by": "qwen",
          "description": "Formats an error message into an XML structure for output, escaping any XML special characters.",
          "references": [
            "_escape_xml"
          ]
        },
        {
          "name": "_escape_xml",
          "lines": "592-598",
          "tokens": 60,
          "content_hash": "30d72cf49640392cdd3f05fd0edf3e28",
          "analyzed_by": "qwen",
          "description": "Escapes special XML characters in a string to ensure safe XML formatting. Replaces &, <, >, and \" with their corresponding XML entities.",
          "references": []
        }
      ],
      "last_indexed": "2025-12-14T01:15:37.764124+00:00"
    },
    "scripts/test_agents.py": {
      "name": "test_agents.py",
      "path": "scripts/test_agents.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_agents.py",
      "file_hash": "3c718d9d56ff6e2a5c3f13cc130fe0a2",
      "tokens_total": 16428,
      "lines_total": 1783,
      "imports": {
        "lines": "19-28",
        "modules": [
          "__future__.annotations",
          "asyncio",
          "json",
          "logging",
          "sys",
          "time",
          "dataclasses.dataclass",
          "dataclasses.field",
          "datetime.datetime",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Any"
        ],
        "tokens": 51
      },
      "globals": {
        "lines": "31-31",
        "names": [
          "PROJECT_ROOT"
        ],
        "tokens": 11
      },
      "description": "Unit testing framework for agent-based systems with color-coded console output and structured result reporting.",
      "classes": [
        {
          "name": "Colors",
          "lines": "39-58",
          "tokens": 167,
          "content_hash": "d0cbe3b76c21b3e46b7bf693b7445d47",
          "analyzed_by": "qwen",
          "description": "Provides ANSI color codes for terminal text formatting, used to enhance test output readability in test_agents.py.",
          "references": [],
          "methods": []
        },
        {
          "name": "ColoredFormatter",
          "lines": "373-388",
          "tokens": 126,
          "content_hash": "84e3939a89a6f4f92be215ac2b5ff5c6",
          "analyzed_by": "qwen",
          "description": "Adds color to log messages based on severity level, integrates with Python's logging module.",
          "references": [
            "Colors.BG_RED",
            "Colors.BLUE",
            "Colors.DIM",
            "Colors.RED",
            "Colors.RESET",
            "Colors.WHITE",
            "Colors.YELLOW",
            "logging.CRITICAL",
            "logging.DEBUG",
            "logging.ERROR",
            "logging.Formatter",
            "logging.INFO",
            "logging.WARNING",
            "record.levelname",
            "record.levelno",
            "record.msg"
          ],
          "methods": [
            "format"
          ]
        },
        {
          "name": "TestResult",
          "lines": "413-420",
          "tokens": 58,
          "content_hash": "2247b302394f4a9a6f858d09b1644ee2",
          "analyzed_by": "qwen",
          "description": "Stores the result of a single test, including its name, pass status, duration, message, additional details, and optional error information.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "TestSuite",
          "lines": "424-466",
          "tokens": 400,
          "content_hash": "5de844aaefea9a760179de23792a712a",
          "analyzed_by": "qwen",
          "description": "Manages a collection of test results with summary statistics and formatted output, integrates with TestResult and color formatting for console reporting.",
          "references": [
            "Colors.DIM",
            "Colors.GREEN",
            "Colors.RED",
            "Colors.RESET",
            "field",
            "print_subheader",
            "r.duration_sec",
            "r.error",
            "r.message",
            "r.name",
            "r.passed"
          ],
          "methods": [
            "passed",
            "failed",
            "total",
            "duration",
            "add",
            "print_summary"
          ]
        }
      ],
      "functions": [
        {
          "name": "print_header",
          "lines": "61-66",
          "tokens": 74,
          "content_hash": "8d1ddc5c8bc0b21245291fd9444457ed",
          "analyzed_by": "qwen",
          "description": "Prints a header with a border using a specified character and color, centered within a fixed width.",
          "references": [
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.RESET",
            "text.center"
          ]
        },
        {
          "name": "print_subheader",
          "lines": "69-73",
          "tokens": 63,
          "content_hash": "e3bb972b6e8c111a13e2b55e07128af6",
          "analyzed_by": "qwen",
          "description": "Prints a formatted subheader with bold text and decorative lines for visual separation in test output.",
          "references": [
            "Colors.BOLD",
            "Colors.RESET",
            "Colors.YELLOW"
          ]
        },
        {
          "name": "print_success",
          "lines": "76-78",
          "tokens": 35,
          "content_hash": "729e99cf2f01015506ef910dca7b122c",
          "analyzed_by": "qwen",
          "description": "Prints a success message with a green checkmark and resets the text color.",
          "references": [
            "Colors.GREEN",
            "Colors.RESET"
          ]
        },
        {
          "name": "print_error",
          "lines": "81-83",
          "tokens": 34,
          "content_hash": "851b3f46d606e8ceee5e793aaee037cf",
          "analyzed_by": "qwen",
          "description": "Prints an error message with a red color and a cross symbol for visual emphasis.",
          "references": [
            "Colors.RED",
            "Colors.RESET"
          ]
        },
        {
          "name": "print_warning",
          "lines": "86-88",
          "tokens": 38,
          "content_hash": "9e546493b9ff13068b75fef4e533cf5f",
          "analyzed_by": "qwen",
          "description": "Prints a warning message with a yellow color and warning emoji.",
          "references": [
            "Colors.RESET",
            "Colors.YELLOW"
          ]
        },
        {
          "name": "print_info",
          "lines": "91-93",
          "tokens": 37,
          "content_hash": "9236d8ce53f78d3345f48ba4cb0f329d",
          "analyzed_by": "qwen",
          "description": "Prints informational messages with a blue color and an info emoji.",
          "references": [
            "Colors.BLUE",
            "Colors.RESET"
          ]
        },
        {
          "name": "print_step",
          "lines": "96-98",
          "tokens": 50,
          "content_hash": "53aae5c392bfa0f232b556f03d030263",
          "analyzed_by": "qwen",
          "description": "Prints the progress of a step in a test process with colored output.",
          "references": [
            "Colors.MAGENTA",
            "Colors.RESET"
          ]
        },
        {
          "name": "print_result",
          "lines": "101-104",
          "tokens": 66,
          "content_hash": "feac45d71dab65de52184195da8c6ab5",
          "analyzed_by": "qwen",
          "description": "Prints a formatted test result line with a label, value, and color-coded success status.",
          "references": [
            "Colors.DIM",
            "Colors.GREEN",
            "Colors.RED",
            "Colors.RESET"
          ]
        },
        {
          "name": "print_json",
          "lines": "107-109",
          "tokens": 51,
          "content_hash": "7d3968ec7c17fb96013348849f0b4cd3",
          "analyzed_by": "qwen",
          "description": "Prints formatted JSON with optional indentation and color styling using the Colors class.",
          "references": [
            "Colors.DIM",
            "Colors.RESET",
            "json.dumps"
          ]
        },
        {
          "name": "print_code_block",
          "lines": "112-124",
          "tokens": 152,
          "content_hash": "b3f1cedab1c99649f05e11ba9be65ff4",
          "analyzed_by": "qwen",
          "description": "Prints a code block with syntax highlighting, optionally showing the file path and limiting output to the first 30 lines.",
          "references": [
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.RESET",
            "code.split"
          ]
        },
        {
          "name": "save_json_report",
          "lines": "127-183",
          "tokens": 443,
          "content_hash": "00473b70e37a0f9840efe50dddb7b751",
          "analyzed_by": "qwen",
          "description": "Saves a detailed test report in JSON format, organizing test metadata, orchestrator analysis, code generation results, and model information into a structured file.",
          "references": [
            "Path",
            "datetime.now",
            "json.dump",
            "report_dir.mkdir"
          ]
        },
        {
          "name": "save_markdown_report",
          "lines": "186-366",
          "tokens": 1748,
          "content_hash": "0bfb7d2a4c16d0ce93e838a5dbda28ca",
          "analyzed_by": "qwen",
          "description": "Сохраняет результаты тестирования AI-агента в формате Markdown-отчета, включая запрос пользователя, анализ, сгенерированный код, пояснения и вызовы инструментов. Интегрируется с файловой системой для хранения отчетов в указанной директории.",
          "references": [
            "Path",
            "args.items",
            "block.get",
            "datetime.now",
            "f.write",
            "lines.append",
            "model_info.get",
            "print_warning",
            "report_dir.mkdir",
            "safe_str",
            "tc.success",
            "value.strip"
          ]
        },
        {
          "name": "setup_logging",
          "lines": "391-405",
          "tokens": 133,
          "content_hash": "56f73930d4fea9f65e12e83b9348466a",
          "analyzed_by": "qwen",
          "description": "Configures logging with colored output and optional verbose level, suppresses noise from httpx and httpcore libraries.",
          "references": [
            "ColoredFormatter",
            "handler.setFormatter",
            "logging.DEBUG",
            "logging.INFO",
            "logging.StreamHandler",
            "logging.WARNING",
            "logging.basicConfig",
            "logging.getLogger"
          ]
        },
        {
          "name": "test_imports",
          "lines": "473-535",
          "tokens": 905,
          "content_hash": "a5fb99c89df04b2c73729d1792d17067",
          "analyzed_by": "qwen",
          "description": "Тестирует корректность импорта модулей и атрибутов, используемых в агентах и связанных компонентах, и формирует отчет в виде тестового набора.",
          "references": [
            "TestResult",
            "TestSuite",
            "__import__",
            "datetime.now",
            "suite.add",
            "suite.end_time",
            "suite.start_time",
            "time.time"
          ]
        },
        {
          "name": "test_api_connectivity",
          "lines": "542-618",
          "tokens": 537,
          "content_hash": "5a964ed0e0129e30dbd9cbc81c6766ee",
          "analyzed_by": "qwen",
          "description": "Тестирует подключение к API различных LLM-провайдеров, отправляя тестовые запросы и проверяя ответы, интегрируется с call_llm и конфигурацией из cfg.",
          "references": [
            "TestResult",
            "TestSuite",
            "call_llm",
            "cfg.MODEL_GEMINI_2_FLASH",
            "cfg.MODEL_NORMAL",
            "datetime.now",
            "suite.add",
            "suite.end_time",
            "suite.start_time",
            "time.time"
          ]
        },
        {
          "name": "test_router",
          "lines": "625-670",
          "tokens": 452,
          "content_hash": "0977d648e42f822142f6826bc4d34cdd",
          "analyzed_by": "qwen",
          "description": "Тестирует агент Router на наборе запросов, проверяя маршрутизацию задач между моделями, интегрируется с route_request и формирует отчет в виде TestSuite.",
          "references": [
            "TestResult",
            "TestSuite",
            "datetime.now",
            "result.confidence",
            "result.orchestrator_model",
            "result.reasoning",
            "result.risk_level",
            "route_request",
            "suite.add",
            "suite.end_time",
            "suite.start_time",
            "time.time"
          ]
        },
        {
          "name": "test_pre_filter",
          "lines": "677-755",
          "tokens": 658,
          "content_hash": "e8860914290efd3259c02289d1e95253",
          "analyzed_by": "qwen",
          "description": "Тестирует работу агента Pre-filter на реальном проекте, проверяя загрузку семантического индекса и выполнение пре-фильтрации для примеров запросов. Интегрируется с pre_filter_chunks и load_semantic_index.",
          "references": [
            "TestResult",
            "TestSuite",
            "c.name",
            "datetime.now",
            "index.get",
            "load_semantic_index",
            "pre_filter_chunks",
            "result.pruned",
            "result.selected_chunks",
            "result.total_tokens",
            "suite.add",
            "suite.end_time",
            "suite.start_time",
            "time.time"
          ]
        },
        {
          "name": "test_orchestrator",
          "lines": "762-874",
          "tokens": 927,
          "content_hash": "90c1da9434c98cbfc424e5ad73698cf8",
          "analyzed_by": "qwen",
          "description": "Тестирует работу агента Orchestrator с реальным проектом, включая загрузку данных, пре-фильтрацию чанков и выполнение оркестрации, интегрируясь с индексом, картой проекта и моделью оркестратора.",
          "references": [
            "Colors.DIM",
            "Colors.RESET",
            "TestResult",
            "TestSuite",
            "ValueError",
            "cfg.ORCHESTRATOR_SIMPLE_MODEL",
            "create_chunks_list_auto",
            "datetime.now",
            "get_project_map_for_prompt",
            "load_semantic_index",
            "orchestrate",
            "pre_filter_chunks",
            "prefilter_result.selected_chunks",
            "print_info",
            "result.analysis",
            "result.instruction",
            "result.target_file",
            "result.tool_calls",
            "result.tool_usage",
            "suite.add",
            "suite.end_time",
            "suite.start_time",
            "time.time"
          ]
        },
        {
          "name": "test_code_generator",
          "lines": "881-1060",
          "tokens": 1332,
          "content_hash": "ad7f86541e7636c54e15877c3e0d54d6",
          "analyzed_by": "qwen",
          "description": "Тестирует функциональность агента Code Generator на генерацию кода, форматирование результатов и сериализацию в JSON, используя разные сценарии задач. Интегрируется с классами тестирования и модулем генерации кода.",
          "references": [
            "CodeBlock",
            "CodeGeneratorResult",
            "TestResult",
            "TestSuite",
            "block.code",
            "block.filepath",
            "block.language",
            "datetime.now",
            "format_result_for_display",
            "generate_code",
            "json_output.keys",
            "print_code_block",
            "print_info",
            "result.code_blocks",
            "result.explanation",
            "result.model_used",
            "result.primary_filepath",
            "result.success",
            "suite.add",
            "suite.end_time",
            "suite.start_time",
            "test_result.to_dict",
            "time.time"
          ]
        },
        {
          "name": "test_integration",
          "lines": "1067-1556",
          "tokens": 5033,
          "content_hash": "39921ceecfbbe1f15550b1d11dd53e86",
          "analyzed_by": "qwen",
          "description": "Выполняет полный интеграционный тест пайплайна: Router → Pre-filter → Orchestrator → Code Generator, включая генерацию и отображение кода, с сохранением результатов в JSON и Markdown форматах.",
          "references": [
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.RESET",
            "Path",
            "TestResult",
            "TestSuite",
            "ValueError",
            "block.code",
            "block.context",
            "block.filepath",
            "block.get",
            "block.language",
            "c.name",
            "cfg.ORCHESTRATOR_FIXED_MODEL",
            "cfg.ORCHESTRATOR_SIMPLE_MODEL",
            "cfg.get_available_orchestrator_models",
            "cfg.get_model_display_name",
            "chunk.chunk_type",
            "chunk.name",
            "chunk.relevance_score",
            "code_result.code_blocks",
            "code_result.error",
            "code_result.explanation",
            "code_result.model_used",
            "code_result.primary_filepath",
            "code_result.success",
            "code_result.to_dict",
            "create_chunks_list_auto",
            "datetime.now",
            "generate_code",
            "get_project_map_for_prompt",
            "index.get",
            "input",
            "is_router_enabled",
            "json_preview.get",
            "load_semantic_index",
            "m_input.isdigit",
            "orchestrate",
            "orchestrator_result.analysis",
            "orchestrator_result.instruction",
            "orchestrator_result.raw_response",
            "orchestrator_result.target_file",
            "orchestrator_result.tool_calls",
            "orchestrator_result.tool_usage",
            "pre_filter_chunks",
            "prefilter_result.pruned",
            "prefilter_result.selected_chunks",
            "prefilter_result.total_tokens",
            "print_code_block",
            "print_error",
            "print_header",
            "print_info",
            "print_json",
            "print_result",
            "print_step",
            "print_subheader",
            "print_success",
            "print_warning",
            "raw.find",
            "route_request",
            "router_result.confidence",
            "router_result.orchestrator_model",
            "router_result.reasoning",
            "router_result.risk_level",
            "save_json_report",
            "save_markdown_report",
            "suite.add",
            "suite.duration",
            "suite.end_time",
            "suite.start_time",
            "target_path.exists",
            "target_path.read_text",
            "tc.arguments",
            "tc.name",
            "tc.output",
            "tc.success",
            "time.time",
            "validate_instruction"
          ]
        },
        {
          "name": "print_menu",
          "lines": "1563-1581",
          "tokens": 417,
          "content_hash": "0f6caae7b8557edee77b829e76f95f23",
          "analyzed_by": "qwen",
          "description": "Отображает главное меню с доступными тестами для агентов, используя цветовую кодировку и описание каждого теста.",
          "references": [
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.RESET",
            "print_header"
          ]
        },
        {
          "name": "select_directory",
          "lines": "1584-1633",
          "tokens": 496,
          "content_hash": "80e5f4e09ed1e2c281ef3f35411af4e4",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю интерактивно выбрать директорию проекта, проверяя её существование и наличие семантического индекса.",
          "references": [
            "Colors.DIM",
            "Colors.RESET",
            "Path",
            "Path.cwd",
            "Path.home",
            "choice.isdigit",
            "index_path.exists",
            "input",
            "path_obj.exists",
            "path_obj.is_dir",
            "print_error",
            "print_info",
            "print_subheader",
            "print_success",
            "print_warning"
          ]
        },
        {
          "name": "get_user_query",
          "lines": "1636-1658",
          "tokens": 234,
          "content_hash": "f85e32e9fb1d59a00fe2dc9218417219",
          "analyzed_by": "qwen",
          "description": "Предлагает пользователю ввести запрос для интеграционного теста, с возможностью выбора из предложенных вариантов.",
          "references": [
            "Colors.DIM",
            "Colors.RESET",
            "choice.isdigit",
            "input",
            "print_subheader"
          ]
        },
        {
          "name": "main",
          "lines": "1665-1770",
          "tokens": 1004,
          "content_hash": "8a91547b3a407a3345364776ad388054",
          "analyzed_by": "qwen",
          "description": "Главная асинхронная точка входа для запуска тестов агентов, включая импорты, API, Router, Pre-filter, Orchestrator, Code Generator и интеграционные тесты, с интерактивным меню и выводом результатов.",
          "references": [
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.GREEN",
            "Colors.RED",
            "Colors.RESET",
            "all_suites.append",
            "get_user_query",
            "input",
            "print_error",
            "print_header",
            "print_info",
            "print_json",
            "print_menu",
            "print_subheader",
            "r.details",
            "r.name",
            "s.duration",
            "s.failed",
            "s.passed",
            "select_directory",
            "setup_logging",
            "suite.duration",
            "suite.failed",
            "suite.name",
            "suite.passed",
            "suite.print_summary",
            "suite.results",
            "suite.total",
            "test_api_connectivity",
            "test_code_generator",
            "test_imports",
            "test_integration",
            "test_orchestrator",
            "test_pre_filter",
            "test_router"
          ]
        }
      ],
      "last_indexed": "2025-12-21T02:09:38.112094+00:00"
    },
    "test.py": {
      "name": "test.py",
      "path": "test.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\test.py",
      "file_hash": "6cc1e843e60469d084d601254d3c0620",
      "tokens_total": 2468,
      "lines_total": 278,
      "imports": {
        "lines": "7-13",
        "modules": [
          "asyncio",
          "os",
          "datetime.datetime",
          "pathlib.Path",
          "httpx",
          "dotenv.load_dotenv"
        ],
        "tokens": 26
      },
      "globals": {
        "lines": "23-57",
        "names": [
          "API_KEY",
          "MODELS_TO_TEST",
          "TEST_MESSAGE"
        ],
        "tokens": 312
      },
      "description": "Asynchronous test suite for OpenRouter AI model availability and performance, integrating httpx for HTTP requests and asyncio for concurrency and delay management.",
      "classes": [],
      "functions": [
        {
          "name": "test_model",
          "lines": "63-167",
          "tokens": 801,
          "content_hash": "2172b053158d8707986e94dc732f723b",
          "analyzed_by": "qwen",
          "description": "Tests a model via OpenRouter API using an async HTTP client, returns status, response, error details, and latency. Integrates with httpx for requests and handles various error types including timeouts, rate limits, and geo-blocking.",
          "references": [
            "client.post",
            "content.strip",
            "data.get",
            "datetime.now",
            "httpx.AsyncClient",
            "httpx.ConnectError",
            "httpx.TimeoutException",
            "json.JSONDecodeError",
            "json.dumps",
            "response.json",
            "response.status_code",
            "response.text"
          ]
        },
        {
          "name": "run_all_tests",
          "lines": "170-270",
          "tokens": 1110,
          "content_hash": "4a7d5a4ae4b88234b18a214f08dc9384",
          "analyzed_by": "qwen",
          "description": "Тестирует доступность AI-моделей через OpenRouter API, выводит результаты с деталями статусов и рекомендациями, используя httpx для асинхронных запросов и asyncio для управления задержками.",
          "references": [
            "asyncio.sleep",
            "cfg.OPENROUTER_API_KEY",
            "datetime.now",
            "httpx.AsyncClient",
            "results.append",
            "status_icons.get",
            "test_model"
          ]
        }
      ],
      "last_indexed": "2025-12-14T01:14:58.032612+00:00"
    },
    "test_deepseek_direct.py": {
      "name": "test_deepseek_direct.py",
      "path": "test_deepseek_direct.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\test_deepseek_direct.py",
      "file_hash": "aaaab9a3cd1f257c218afed18ff97257",
      "tokens_total": 165,
      "lines_total": 22,
      "imports": {
        "lines": "1-3",
        "modules": [
          "asyncio",
          "config.settings.cfg",
          "app.llm.api_client.call_llm",
          "app.llm.api_client.get_model_for_role"
        ],
        "tokens": 24
      },
      "globals": null,
      "description": "Unit test for DeepSeek API integration, validating configuration and response parsing for the 'pre_filter' role.",
      "classes": [],
      "functions": [
        {
          "name": "test",
          "lines": "5-20",
          "tokens": 135,
          "content_hash": "b9bc42af87d3129c91e415f9003e953e",
          "analyzed_by": "qwen",
          "description": "Tests the LLM integration for the 'pre_filter' role using DeepSeek, verifying the model name, API URL, key, and response handling.",
          "references": [
            "call_llm",
            "cfg.DEEPSEEK_API_KEY",
            "cfg.DEEPSEEK_BASE_URL",
            "cfg.MODEL_NORMAL",
            "get_model_for_role",
            "traceback.print_exc"
          ]
        }
      ],
      "last_indexed": "2025-12-14T01:14:53.695728+00:00"
    },
    "test_prefilter_minimal.py": {
      "name": "test_prefilter_minimal.py",
      "path": "test_prefilter_minimal.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\test_prefilter_minimal.py",
      "file_hash": "3d2ee5a84c83aa8cd879afc31eb88c6f",
      "tokens_total": 429,
      "lines_total": 56,
      "imports": {
        "lines": "1-9",
        "modules": [
          "asyncio",
          "sys",
          "os",
          "config.settings.cfg",
          "app.llm.api_client.call_llm",
          "app.llm.api_client.get_model_for_role"
        ],
        "tokens": 30
      },
      "globals": null,
      "description": "Unit test for a minimal LLM pre-filter workflow, validating model configuration and JSON response generation via call_llm with performance timing.",
      "classes": [],
      "functions": [
        {
          "name": "test",
          "lines": "11-53",
          "tokens": 349,
          "content_hash": "dae3a4c12ebe6b32f8d10735151b0e63",
          "analyzed_by": "qwen",
          "description": "Tests the minimal pre-filter LLM workflow by checking the model configuration and making a simple JSON response request, using call_llm and displaying execution time and results.",
          "references": [
            "call_llm",
            "cfg.MODEL_NORMAL",
            "get_model_for_role",
            "time.time",
            "traceback.print_exc"
          ]
        }
      ],
      "last_indexed": "2025-12-14T01:14:53.695728+00:00"
    },
    "app/history/__init__.py": {
      "name": "__init__.py",
      "path": "app/history/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\history\\__init__.py",
      "file_hash": "e07f9e2cb6cb83cc612a9419484bad34",
      "tokens_total": 193,
      "lines_total": 34,
      "imports": {
        "lines": "10-20",
        "modules": [
          "app.history.manager.HistoryManager",
          "app.history.storage.Message",
          "app.history.storage.HistoryStorage",
          "app.history.compressor.compress_history_if_needed",
          "app.history.context_manager.IntraSessionCompressor",
          "app.history.context_manager.maybe_compress_context",
          "app.history.context_manager.get_compressor",
          "app.history.context_manager.reset_compressor",
          "app.history.context_manager.is_context_overflow_error",
          "app.history.context_manager.PROACTIVE_COMPRESSION_MODELS"
        ],
        "tokens": 73
      },
      "globals": {
        "lines": "22-34",
        "names": [
          "__all__"
        ],
        "tokens": 78
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-22T12:24:39.232837+00:00"
    },
    "app/history/storage.py": {
      "name": "storage.py",
      "path": "app/history/storage.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\history\\storage.py",
      "file_hash": "a40611c1351ba16100fc7a7651fca4f5",
      "tokens_total": 5674,
      "lines_total": 775,
      "imports": {
        "lines": "1-7",
        "modules": [
          "sqlite3",
          "json",
          "uuid",
          "os",
          "datetime.datetime",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "dataclasses.dataclass",
          "dataclasses.asdict"
        ],
        "tokens": 38
      },
      "globals": null,
      "description": "SQLite-based storage manager for conversation threads, messages, and agent file changes, integrating JSON metadata serialization and persistent data handling.",
      "classes": [
        {
          "name": "Thread",
          "lines": "11-22",
          "tokens": 116,
          "content_hash": "53f3aa7429ec953fbb2f1bdba0c654f9",
          "analyzed_by": "qwen",
          "description": "Represents a conversation thread with metadata such as user ID, project info, token count, and timestamps. Used in conjunction with SQLite storage for managing dialog history.",
          "references": [],
          "methods": []
        },
        {
          "name": "Message",
          "lines": "26-34",
          "tokens": 91,
          "content_hash": "b861b805aaa09cf2835645af6c9cda6d",
          "analyzed_by": "qwen",
          "description": "Represents a message in a dialogue thread with metadata and timestamps, used for storing conversation data in a structured format.",
          "references": [],
          "methods": []
        },
        {
          "name": "AgentChange",
          "lines": "38-56",
          "tokens": 284,
          "content_hash": "90900806e57553152aa5a9fb756ab65f",
          "analyzed_by": "qwen",
          "description": "Модель для хранения информации об изменениях файлов в Agent Mode, включая тип изменения, содержимое, статус применения и метаданные. Используется для отслеживания изменений, отката и валидации, интегрируется с системой бэкапов и сессий.",
          "references": [],
          "methods": []
        },
        {
          "name": "HistoryStorage",
          "lines": "59-775",
          "tokens": 5129,
          "content_hash": "d80c13e80b148f922bc5dfc06fb42510",
          "analyzed_by": "qwen",
          "description": "Manages storage of conversation history and file changes in SQLite, with support for threads, messages, and agent-initiated file modifications. Integrates with SQLite for persistent data storage and uses JSON for metadata serialization.",
          "references": [
            "AgentChange",
            "Message",
            "Thread",
            "asdict",
            "changes.append",
            "conn.commit",
            "conn.cursor",
            "conn.execute",
            "conn.row_factory",
            "cursor.execute",
            "cursor.fetchall",
            "cursor.fetchone",
            "cursor.rowcount",
            "datetime.now",
            "json.dumps",
            "json.loads",
            "messages.append",
            "os.path",
            "params.append",
            "sqlite3.Connection",
            "sqlite3.Row",
            "sqlite3.connect",
            "updates.append",
            "uuid.uuid4"
          ],
          "methods": [
            "__init__",
            "_get_connection",
            "_init_db",
            "create_thread",
            "get_thread",
            "list_threads",
            "update_thread",
            "update_thread_title",
            "delete_thread",
            "clear_thread_messages",
            "add_message",
            "get_messages",
            "delete_message",
            "get_thread_with_messages",
            "add_agent_change",
            "get_thread_changes",
            "get_file_change_history",
            "mark_change_applied",
            "mark_change_rolled_back",
            "get_session_changes"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-02T01:33:39.112074+00:00"
    },
    "app/history/compressor.py": {
      "name": "compressor.py",
      "path": "app/history/compressor.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\history\\compressor.py",
      "file_hash": "a10b57d14eeb71f069cf0651822420ce",
      "tokens_total": 2757,
      "lines_total": 287,
      "imports": {
        "lines": "9-18",
        "modules": [
          "asyncio",
          "logging",
          "re",
          "typing.List",
          "typing.Optional",
          "dataclasses.dataclass",
          "app.llm.prompt_templates.format_compression_prompt",
          "app.history.storage.Message",
          "app.utils.token_counter.TokenCounter",
          "app.llm.api_client.call_llm",
          "config.settings.cfg"
        ],
        "tokens": 67
      },
      "globals": {
        "lines": "20-25",
        "names": [
          "logger",
          "DEFAULT_THRESHOLD",
          "COMPRESSION_MAX_TOKENS",
          "KEEP_LAST_N"
        ],
        "tokens": 30
      },
      "description": "LLM-based message history compression module with dynamic token thresholding, code block preservation, and irrelevant context pruning for conversational AI systems.",
      "classes": [
        {
          "name": "CompressionStats",
          "lines": "28-47",
          "tokens": 153,
          "content_hash": "5f83036e00484be592306f37ffe7f96c",
          "analyzed_by": "qwen",
          "description": "Хранит статистику сжатия диалога, включая количество токенов до и после, количество сообщений и модель, использованную для сжатия.",
          "references": [],
          "methods": [
            "tokens_saved",
            "compression_ratio"
          ]
        }
      ],
      "functions": [
        {
          "name": "_contains_code_block",
          "lines": "51-63",
          "tokens": 142,
          "content_hash": "98b14a79bc6bd75268680b0ae03717e1",
          "analyzed_by": "qwen",
          "description": "Проверяет наличие блоков кода в формате Markdown с использованием тройных обратных кавычек, избегая проблем с экранированием.",
          "references": [
            "chr"
          ]
        },
        {
          "name": "compress_history_if_needed",
          "lines": "66-160",
          "tokens": 1014,
          "content_hash": "2aac26390a3a142b8560e555a77d5c16",
          "analyzed_by": "qwen",
          "description": "Compresses message history if total token count exceeds a dynamic threshold, preserving the last N messages and compressing older ones using an LLM. Integrates with TokenCounter, CompressionStats, and model-specific configurations.",
          "references": [
            "CompressionStats",
            "TokenCounter",
            "_compress_message",
            "_contains_code_block",
            "cfg.AGENT_MODELS",
            "cfg.MODEL_GEMINI_3_PRO",
            "compressed_history.append",
            "compressed_history.extend",
            "logger.debug",
            "logger.info",
            "msg.content",
            "msg.id",
            "msg.role",
            "token_counter.count"
          ]
        },
        {
          "name": "_compress_message",
          "lines": "163-217",
          "tokens": 473,
          "content_hash": "0c1e482e153486ffc33fec4881c9ad6f",
          "analyzed_by": "qwen",
          "description": "Сжимает сообщения с помощью LLM, используя специализированные промпты, пропуская уже сжатые сообщения и сообщения с кодом; интегрируется с конфигурацией моделей и логированием.",
          "references": [
            "Message",
            "TokenCounter",
            "_contains_code_block",
            "call_llm",
            "cfg.AGENT_MODELS",
            "compressed.strip",
            "format_compression_prompt",
            "logger.debug",
            "logger.warning",
            "msg.content",
            "msg.created_at",
            "msg.id",
            "msg.metadata",
            "msg.role",
            "msg.thread_id"
          ]
        },
        {
          "name": "prune_irrelevant_context",
          "lines": "220-287",
          "tokens": 717,
          "content_hash": "aba12add2d991463aef7da21e202ff64",
          "analyzed_by": "qwen",
          "description": "Удаляет из истории сообщений нерелевантные результаты инструментов, основываясь на файлах, упомянутых в текущем запросе. Использует регулярные выражения для извлечения файлов и подсчет токенов для оптимизации.",
          "references": [
            "TokenCounter",
            "content_files.intersection",
            "counter.count",
            "logger.debug",
            "logger.info",
            "msg.content",
            "msg.role",
            "msg.tokens",
            "pruned_history.append",
            "re.IGNORECASE",
            "re.findall"
          ]
        }
      ],
      "last_indexed": "2026-01-04T22:15:15.405891+00:00"
    },
    "app/history/manager.py": {
      "name": "manager.py",
      "path": "app/history/manager.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\history\\manager.py",
      "file_hash": "c78f57675883ebd9da3e587a1276497d",
      "tokens_total": 5356,
      "lines_total": 660,
      "imports": {
        "lines": "2-12",
        "modules": [
          "logging",
          "time",
          "re",
          "typing.List",
          "typing.Optional",
          "typing.Dict",
          "typing.Any",
          "dataclasses.asdict",
          "asyncio",
          "app.history.storage.HistoryStorage",
          "app.history.storage.Message",
          "app.history.storage.Thread",
          "app.history.storage.AgentChange",
          "app.history.compressor.compress_history_if_needed",
          "app.history.compressor.prune_irrelevant_context",
          "app.history.compressor.CompressionStats",
          "app.history.orchestrator_trace.OrchestratorTraceStorage",
          "app.history.orchestrator_trace.TraceStep",
          "app.llm.api_client.call_llm",
          "config.settings.cfg"
        ],
        "tokens": 98
      },
      "globals": {
        "lines": "15-15",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "History management service for dialog systems, handling storage, compression, display, and tracing via integration with HistoryStorage, OrchestratorTraceStorage, and compression modules.",
      "classes": [
        {
          "name": "HistoryManager",
          "lines": "18-660",
          "tokens": 5228,
          "content_hash": "ac7a8627a7f1481f267d05d513927350",
          "analyzed_by": "qwen",
          "description": "Управляет историей диалогов, обеспечивает хранение, сжатие, отображение и трейсинг, интегрируется с HistoryStorage, OrchestratorTraceStorage и модулем сжатия.",
          "references": [
            "HistoryStorage",
            "OrchestratorTraceStorage",
            "TraceStep",
            "asyncio.to_thread",
            "c.change_type",
            "c.file_path",
            "c.id",
            "c.lines_added",
            "c.lines_removed",
            "call_llm",
            "change.change_type",
            "change.file_path",
            "change.id",
            "change.lines_added",
            "change.lines_removed",
            "compress_history_if_needed",
            "lines.append",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "message.id",
            "msg.role",
            "prune_irrelevant_context",
            "re.findall",
            "re.search",
            "steps.append",
            "tc.arguments",
            "tc.name",
            "tc.output",
            "tc.success",
            "text.strip",
            "thread.created_at",
            "thread.id",
            "thread.message_count",
            "thread.title",
            "thread.total_tokens",
            "thread.updated_at",
            "thread_stats.get",
            "time.time"
          ],
          "methods": [
            "__init__",
            "list_user_threads",
            "get_thread",
            "get_thread_stats",
            "get_messages",
            "get_last_user_message",
            "get_session_history",
            "add_message",
            "create_thread",
            "update_thread_title",
            "save_orchestration_trace",
            "get_message_trace",
            "_translate_thinking",
            "_is_english",
            "record_file_change",
            "get_thread_file_changes",
            "get_file_history",
            "mark_changes_applied",
            "mark_changes_rolled_back",
            "add_agent_mode_message"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-04T22:37:59.705022+00:00"
    },
    "scripts/test_history_manager.py": {
      "name": "test_history_manager.py",
      "path": "scripts/test_history_manager.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_history_manager.py",
      "file_hash": "4aa37047644d177b4e6debcaad277a39",
      "tokens_total": 5294,
      "lines_total": 610,
      "imports": {
        "lines": "1-8",
        "modules": [
          "asyncio",
          "logging",
          "sys",
          "gc",
          "pathlib.Path",
          "datetime.datetime",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "traceback"
        ],
        "tokens": 35
      },
      "globals": {
        "lines": "14-14",
        "names": [
          "project_root"
        ],
        "tokens": 11
      },
      "description": "Unit test suite for HistoryManager functionality, integrating with logging, SQLite databases, TokenCounter, and LLM API clients for comprehensive validation.",
      "classes": [],
      "functions": [
        {
          "name": "setup_logging",
          "lines": "30-90",
          "tokens": 525,
          "content_hash": "82fac16c1a62d417319f6ae6896a2edb",
          "analyzed_by": "qwen",
          "description": "Configures colored logging with custom SUCCESS level and timestamps, setting up consistent log formatting and handlers for multiple logger names. Integrates with Python's logging module and standard output.",
          "references": [
            "ColoredFormatter",
            "handler.setFormatter",
            "log.addHandler",
            "log.handlers",
            "log.propagate",
            "log.setLevel",
            "logger.addHandler",
            "logger.handlers",
            "logger.removeHandler",
            "logger.setLevel",
            "logging.DEBUG",
            "logging.Formatter",
            "logging.Logger",
            "logging.StreamHandler",
            "logging.addLevelName",
            "logging.getLogger",
            "record.levelname"
          ]
        },
        {
          "name": "test_imports",
          "lines": "93-124",
          "tokens": 233,
          "content_hash": "5f8b66fac939e6399f6362911b5fa7b8",
          "analyzed_by": "qwen",
          "description": "Tests the successful import of key modules and components used in the history management system, logging results and returning a boolean status. Integrates with logging for detailed test feedback.",
          "references": [
            "__import__",
            "logger.error",
            "logger.info",
            "logger.success",
            "logging.getLogger"
          ]
        },
        {
          "name": "test_api_connection",
          "lines": "127-177",
          "tokens": 359,
          "content_hash": "7972bfd22e019bd611c7ea7059b9f204",
          "analyzed_by": "qwen",
          "description": "Tests the API connection for history compression by calling an LLM with a test message, logs the result, and returns connection success status. Integrates with call_llm from app.llm.api_client and uses logging for status tracking.",
          "references": [
            "call_llm",
            "logger.debug",
            "logger.error",
            "logger.exception",
            "logger.info",
            "logger.success",
            "logging.getLogger",
            "response.content"
          ]
        },
        {
          "name": "test_create_history",
          "lines": "180-255",
          "tokens": 643,
          "content_hash": "00b8882a9a0da025e238d8b7488e09de",
          "analyzed_by": "qwen",
          "description": "Creates and tests a conversation thread with sample messages using HistoryManager, including thread creation, message addition, and validation, with logging and error handling. Integrates with TokenCounter for token tracking and uses a test SQLite database.",
          "references": [
            "HistoryManager",
            "Path",
            "TokenCounter",
            "db_path.parent",
            "logger.debug",
            "logger.error",
            "logger.exception",
            "logger.info",
            "logger.success",
            "logging.getLogger",
            "manager.add_message",
            "manager.create_thread",
            "manager.get_session_history",
            "manager.get_thread_stats",
            "message.id",
            "stats.get",
            "thread.id",
            "token_counter.count"
          ]
        },
        {
          "name": "test_history_compression",
          "lines": "258-357",
          "tokens": 1025,
          "content_hash": "fcbcdf3a02fbddef987d276fd2544337",
          "analyzed_by": "qwen",
          "description": "Tests dynamic history compression in a HistoryManager by adding messages until a token threshold is exceeded, then invoking compress_history_if_needed to verify compression behavior. Integrates with TokenCounter for token estimation and logging for detailed diagnostics.",
          "references": [
            "TokenCounter",
            "compress_history_if_needed",
            "compressed_samples.append",
            "e.args",
            "logger.debug",
            "logger.error",
            "logger.exception",
            "logger.info",
            "logger.warning",
            "logging.getLogger",
            "manager.add_message",
            "manager.get_session_history",
            "msg.content",
            "token_counter.count"
          ]
        },
        {
          "name": "test_prune_context",
          "lines": "360-426",
          "tokens": 733,
          "content_hash": "a190ac095ac4983b2a251e55ef3764e8",
          "analyzed_by": "qwen",
          "description": "Tests the pruning of irrelevant tool results from a message history based on a user query, ensuring only contextually relevant files (e.g., auth.py) are retained while others are marked as pruned. Integrates with logging for test progress and error tracking.",
          "references": [
            "Message",
            "logger.error",
            "logger.exception",
            "logger.info",
            "logger.success",
            "logging.getLogger",
            "m.content",
            "m.role",
            "prune_irrelevant_context"
          ]
        },
        {
          "name": "cleanup_test_database",
          "lines": "429-451",
          "tokens": 185,
          "content_hash": "016c1a2848f60edd81512a2e51eb0560",
          "analyzed_by": "qwen",
          "description": "Deletes the test database file after forcing garbage collection and waiting for file locks to release, primarily for Windows compatibility; returns a boolean indicating success or failure.",
          "references": [
            "Path",
            "asyncio.sleep",
            "db_path.exists",
            "db_path.unlink",
            "gc.collect",
            "logger.error",
            "logger.info",
            "logger.success",
            "logger.warning",
            "logging.getLogger"
          ]
        },
        {
          "name": "main",
          "lines": "454-594",
          "tokens": 1282,
          "content_hash": "0e6880cb88b5e7ff131332d0cbc7dd1f",
          "analyzed_by": "qwen",
          "description": "Runs a test suite for history management functionality, including import checks, API connection, history creation, compression, context pruning, and cleanup, with logging and result reporting.",
          "references": [
            "cleanup_test_database",
            "compression_stats.get",
            "details.get",
            "logger.error",
            "logger.exception",
            "logger.info",
            "logger.success",
            "logger.warning",
            "logging.getLogger",
            "prune_stats.get",
            "setup_logging",
            "sys.stderr",
            "test_api_connection",
            "test_create_history",
            "test_history_compression",
            "test_imports",
            "test_prune_context",
            "test_results.get",
            "test_results.items"
          ]
        }
      ],
      "last_indexed": "2025-12-15T18:15:44.101629+00:00"
    },
    "test_cache_logic.py": {
      "name": "test_cache_logic.py",
      "path": "test_cache_logic.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\test_cache_logic.py",
      "file_hash": "aa8e6f8cb7f37e84dfd32cd3238d7803",
      "tokens_total": 375,
      "lines_total": 46,
      "imports": {
        "lines": "2-2",
        "modules": [
          "json"
        ],
        "tokens": 2
      },
      "globals": null,
      "description": "Unit test suite validating response caching behavior for AI tool interactions, specifically verifying cache_control integration for Claude models processing resource-intensive operations.",
      "classes": [],
      "functions": [
        {
          "name": "test_caching_logic",
          "lines": "4-43",
          "tokens": 352,
          "content_hash": "a3dd07c134f5c2bdf8d0580bdfc8a80d",
          "analyzed_by": "qwen",
          "description": "Tests caching logic for tool responses based on model and function type, ensuring cache_control is added for Claude models handling heavy tools like read_file.",
          "references": [
            "json.dumps",
            "orchestrator_model.lower",
            "tool_results.append"
          ]
        }
      ],
      "last_indexed": "2025-12-15T18:15:29.772511+00:00"
    },
    "test_caching_real.py": {
      "name": "test_caching_real.py",
      "path": "test_caching_real.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\test_caching_real.py",
      "file_hash": "886d81ff0afdeab1b3a02a5cb5f8edff",
      "tokens_total": 701,
      "lines_total": 97,
      "imports": {
        "lines": "1-17",
        "modules": [
          "asyncio",
          "json",
          "os",
          "sys",
          "logging",
          "unittest.mock.patch",
          "config.settings.cfg",
          "app.llm.api_client.call_llm_with_tools",
          "app.agents.orchestrator.orchestrate"
        ],
        "tokens": 56
      },
      "globals": {
        "lines": "12-25",
        "names": [
          "logger",
          "TEST_FILE",
          "MODELS_TO_TEST"
        ],
        "tokens": 44
      },
      "description": "Unit test for caching behavior in LLM tool calls, integrating with orchestration and tool-calling frameworks to validate cache control interception and cleanup.",
      "classes": [],
      "functions": [
        {
          "name": "create_test_file",
          "lines": "28-37",
          "tokens": 70,
          "content_hash": "17339ee1a58bbf309b084e73aa684dde",
          "analyzed_by": "qwen",
          "description": "Generates a test file containing a repetitive DataProcessor class definition to simulate a heavy file for caching tests.",
          "references": [
            "f.write"
          ]
        },
        {
          "name": "cleanup",
          "lines": "39-41",
          "tokens": 17,
          "content_hash": "7c56e3084c904f87caa10f16d940ab34",
          "analyzed_by": "qwen",
          "description": "Deletes the test file if it exists, used for cleaning up after tests.",
          "references": [
            "os.path",
            "os.remove"
          ]
        },
        {
          "name": "intercepted_call",
          "lines": "44-69",
          "tokens": 253,
          "content_hash": "a5aac9b418cc8a32f33e03369a808be8",
          "analyzed_by": "qwen",
          "description": "Intercepts and checks for cache_control in tool messages of an LLM call, logging success or failure, then proceeds with the original API call to maintain workflow.",
          "references": [
            "block.get",
            "kwargs.get",
            "last_msg.get",
            "logger.info",
            "m.get",
            "original_call_llm"
          ]
        },
        {
          "name": "main",
          "lines": "72-94",
          "tokens": 160,
          "content_hash": "7f4be59b4c6b43ac271d42496646c665",
          "analyzed_by": "qwen",
          "description": "Runs tests for multiple models by orchestrating a simulated LLM call, intercepting responses and logging results, with setup and cleanup of test files. Integrates with orchestrate and call_llm_with_tools.",
          "references": [
            "cleanup",
            "create_test_file",
            "logger.error",
            "logger.info",
            "orchestrate",
            "os.getcwd",
            "patch"
          ]
        }
      ],
      "last_indexed": "2025-12-15T18:15:35.654768+00:00"
    },
    "app/history/orchestrator_trace.py": {
      "name": "orchestrator_trace.py",
      "path": "app/history/orchestrator_trace.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\history\\orchestrator_trace.py",
      "file_hash": "f541ac5e90748468cc18dedd437208fc",
      "tokens_total": 1525,
      "lines_total": 198,
      "imports": {
        "lines": "7-13",
        "modules": [
          "sqlite3",
          "json",
          "pathlib.Path",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "dataclasses.dataclass",
          "dataclasses.asdict",
          "logging",
          "time"
        ],
        "tokens": 38
      },
      "globals": {
        "lines": "24-24",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Centralized SQLite-based trace management for orchestrator workflow steps, enabling detailed bilingual logging and session-integrated serialization.",
      "classes": [
        {
          "name": "TraceStep",
          "lines": "27-38",
          "tokens": 107,
          "content_hash": "f285ffd3fc0c2c9cd7f51d4451facacf",
          "analyzed_by": "qwen",
          "description": "Represents a single step in the Orchestrator's workflow, storing tool usage details, outputs, and thoughts in both English and Russian. Integrates with data structures for serialization via asdict.",
          "references": [
            "asdict"
          ],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "OrchestratorTraceStorage",
          "lines": "40-198",
          "tokens": 1231,
          "content_hash": "1ddae0b7bcd42ba328288e3f9773ce7d",
          "analyzed_by": "qwen",
          "description": "Manages detailed tracing of orchestrator steps using a separate SQLite database, avoiding clutter in the main history. Integrates with session-based storage and provides trace saving, retrieval, and clearing.",
          "references": [
            "Path",
            "base_history_path.parent",
            "conn.close",
            "conn.commit",
            "conn.cursor",
            "conn.row_factory",
            "cursor.execute",
            "cursor.fetchall",
            "json.dumps",
            "json.loads",
            "logger.debug",
            "logger.error",
            "logger.info",
            "results.append",
            "sqlite3.Row",
            "sqlite3.connect",
            "step.success",
            "step.thinking",
            "step.thinking_ru",
            "step.timestamp",
            "step.tool_args",
            "step.tool_name",
            "step.tool_output"
          ],
          "methods": [
            "__init__",
            "_init_db",
            "save_trace",
            "get_trace",
            "clear_session"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-17T10:59:00.669988+00:00"
    },
    "app/tools/general_web_search.py": {
      "name": "general_web_search.py",
      "path": "app/tools/general_web_search.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\general_web_search.py",
      "file_hash": "57f96353c37877e5fd5634a0976dd6a3",
      "tokens_total": 3414,
      "lines_total": 341,
      "imports": {
        "lines": "6-21",
        "modules": [
          "__future__.annotations",
          "asyncio",
          "logging",
          "re",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "typing.Optional",
          "dataclasses.dataclass",
          "dataclasses.field",
          "urllib.parse.urlparse",
          "urllib.parse.unquote",
          "httpx",
          "nest_asyncio",
          "app.utils.token_counter.TokenCounter",
          "config.settings.cfg"
        ],
        "tokens": 68
      },
      "globals": {
        "lines": "23-29",
        "names": [
          "logger",
          "MAX_TOTAL_TOKENS",
          "MAX_RESULTS",
          "REQUEST_TIMEOUT",
          "MAX_CONTENT_PER_PAGE"
        ],
        "tokens": 39
      },
      "description": "Asynchronous web search tool using DuckDuckGo with structured result parsing, ranking, and token-limited result selection, providing both async and synchronous interfaces for integration.",
      "classes": [
        {
          "name": "GeneralWebPage",
          "lines": "32-40",
          "tokens": 72,
          "content_hash": "4d5fa139fcad3625633d1452412aa9d2",
          "analyzed_by": "qwen",
          "description": "Represents a general web page with metadata such as URL, title, snippet, content, and relevance score, used for organizing and retrieving search results. Includes optional fields like published date and error for additional context.",
          "references": [],
          "methods": []
        },
        {
          "name": "GeneralWebSearchResult",
          "lines": "43-48",
          "tokens": 48,
          "content_hash": "6ab9285d8bfbcc6cd61fb48320c723b0",
          "analyzed_by": "qwen",
          "description": "Represents the result of a general web search, containing success status, query, list of pages, total tokens used, and optional error message.",
          "references": [
            "field"
          ],
          "methods": []
        }
      ],
      "functions": [
        {
          "name": "general_web_search_tool",
          "lines": "53-90",
          "tokens": 375,
          "content_hash": "6519aae979878d2b44fdde4738c6fc77",
          "analyzed_by": "qwen",
          "description": "Performs a general web search with options for result count, time limit, and region, using asynchronous execution safely in any context. Integrates with logging and error formatting utilities.",
          "references": [
            "async_general_web_search",
            "asyncio.get_event_loop",
            "asyncio.new_event_loop",
            "asyncio.set_event_loop",
            "format_error",
            "format_no_results",
            "format_results_xml",
            "logger.error",
            "loop.is_closed",
            "loop.run_until_complete",
            "result.error",
            "result.pages",
            "result.success"
          ]
        },
        {
          "name": "general_web_search_tool_sync",
          "lines": "93-95",
          "tokens": 82,
          "content_hash": "c6434c6d2edfacd66baa2a0a9ef23150",
          "analyzed_by": "qwen",
          "description": "Provides a synchronous alias for the general_web_search_tool function for backward compatibility.",
          "references": [
            "general_web_search_tool"
          ]
        },
        {
          "name": "async_general_web_search",
          "lines": "100-126",
          "tokens": 302,
          "content_hash": "148693c44016afed7d59cccf528cd4bb",
          "analyzed_by": "qwen",
          "description": "Performs an asynchronous general web search using DuckDuckGo, fetches and ranks relevant pages, and selects results within a token limit. Integrates with parallel fetching, relevance scoring, and token-based result trimming.",
          "references": [
            "GeneralWebSearchResult",
            "calculate_relevance_scores",
            "duckduckgo_search",
            "fetch_pages_parallel",
            "p.relevance_score",
            "p.tokens",
            "pages.sort",
            "select_within_token_limit"
          ]
        },
        {
          "name": "duckduckgo_search",
          "lines": "129-158",
          "tokens": 386,
          "content_hash": "e4c137e6826cc9f2c15c7218920cd2b1",
          "analyzed_by": "qwen",
          "description": "Performs asynchronous web searches using DuckDuckGo via HTTP POST requests, supporting region and time-based filtering, and returns parsed search results as a list of dictionaries.",
          "references": [
            "client.post",
            "httpx.AsyncClient",
            "logger.error",
            "logger.warning",
            "parse_ddg_html",
            "response.status_code",
            "response.text"
          ]
        },
        {
          "name": "parse_ddg_html",
          "lines": "160-186",
          "tokens": 256,
          "content_hash": "03fc81f87542b0ec9ec3f5fcc5fd16a0",
          "analyzed_by": "qwen",
          "description": "Parses HTML search results from DuckDuckGo, extracting URLs, titles, and snippets into a structured list of dictionaries. Uses regex for parsing and includes URL validation and HTML tag cleaning.",
          "references": [
            "extract_actual_url",
            "is_valid_url",
            "re.IGNORECASE",
            "re.compile",
            "remove_html_tags",
            "result_pattern.findall",
            "results.append",
            "snippet.strip",
            "snippet_pattern.findall",
            "title.strip"
          ]
        },
        {
          "name": "remove_html_tags",
          "lines": "188-189",
          "tokens": 24,
          "content_hash": "7c4e9307cd64029034ee1aeda53cf598",
          "analyzed_by": "qwen",
          "description": "Removes HTML tags from a given string using regular expressions.",
          "references": [
            "re.sub"
          ]
        },
        {
          "name": "extract_actual_url",
          "lines": "191-195",
          "tokens": 59,
          "content_hash": "ed1f03b7ea4d03151eb168f1d41555c0",
          "analyzed_by": "qwen",
          "description": "Extracts the actual URL from a DuckDuckGo search redirect link by parsing the uddg parameter, returning the decoded URL if found or the original if not.",
          "references": [
            "match.group",
            "re.search",
            "unquote"
          ]
        },
        {
          "name": "is_valid_url",
          "lines": "197-204",
          "tokens": 76,
          "content_hash": "04c157d4107c2d2d9ea27de380996332",
          "analyzed_by": "qwen",
          "description": "Validates if a given string is a well-formed URL and not pointing to common document or archive file types.",
          "references": [
            "parsed.netloc",
            "parsed.scheme",
            "url.lower",
            "urlparse"
          ]
        },
        {
          "name": "fetch_pages_parallel",
          "lines": "207-212",
          "tokens": 89,
          "content_hash": "3dd65cd6771536c2455613aff01bcf69",
          "analyzed_by": "qwen",
          "description": "Fetches web pages in parallel from search results using asyncio, filters out empty or errored pages, and returns up to the specified maximum number of valid pages.",
          "references": [
            "asyncio.gather",
            "fetch_single_page",
            "p.content",
            "p.error"
          ]
        },
        {
          "name": "fetch_single_page",
          "lines": "214-231",
          "tokens": 173,
          "content_hash": "266de05f870d0402db46100835f68063",
          "analyzed_by": "qwen",
          "description": "Fetches and processes the content of a single web page, truncating it if it exceeds a token limit, and returns a GeneralWebPage object with the results.",
          "references": [
            "GeneralWebPage",
            "TokenCounter",
            "counter.count",
            "fetch_page_content",
            "truncate_content"
          ]
        },
        {
          "name": "fetch_page_content",
          "lines": "233-243",
          "tokens": 153,
          "content_hash": "4d3fa92ad1cc725e9e7658d8573c4dca",
          "analyzed_by": "qwen",
          "description": "Fetches and extracts text content from a webpage asynchronously using HTTPX, with custom headers and timeout; returns empty string on failure.",
          "references": [
            "client.get",
            "extract_text_from_html",
            "httpx.AsyncClient",
            "response.status_code",
            "response.text"
          ]
        },
        {
          "name": "extract_text_from_html",
          "lines": "245-255",
          "tokens": 230,
          "content_hash": "c2f40bf71c8b560e67639e0d42078a19",
          "analyzed_by": "qwen",
          "description": "Extracts and cleans text from HTML by removing specific tags and unnecessary whitespace, while preserving line breaks and decoding HTML entities.",
          "references": [
            "re.DOTALL",
            "re.IGNORECASE",
            "re.sub",
            "text.replace",
            "text.strip"
          ]
        },
        {
          "name": "truncate_content",
          "lines": "257-274",
          "tokens": 135,
          "content_hash": "20195a483ec669a0e2a3a9fa2ffe3c02",
          "analyzed_by": "qwen",
          "description": "Performs binary search to truncate text content precisely within a token limit using a provided token counter. Used to ensure content fits within a specified token budget for tasks like prompt engineering or API input preparation.",
          "references": [
            "counter.count"
          ]
        },
        {
          "name": "calculate_relevance_scores",
          "lines": "276-303",
          "tokens": 279,
          "content_hash": "9d39433a98e67e339b03209108b3ae83",
          "analyzed_by": "qwen",
          "description": "Calculates relevance scores for web pages based on Jaccard similarity between query and page title, snippet, and content preview. Assigns weighted scores to each component and returns the updated pages.",
          "references": [
            "page.content",
            "page.relevance_score",
            "page.snippet",
            "page.title",
            "query.lower",
            "query_words.intersection",
            "re.findall"
          ]
        },
        {
          "name": "select_within_token_limit",
          "lines": "305-319",
          "tokens": 120,
          "content_hash": "478ab637fa59e67c637d5a0569f7280e",
          "analyzed_by": "qwen",
          "description": "Selects web pages whose total token count does not exceed the given limit, truncating the last page if necessary to stay within the limit.",
          "references": [
            "page.content",
            "page.tokens",
            "selected.append"
          ]
        },
        {
          "name": "format_results_xml",
          "lines": "321-335",
          "tokens": 167,
          "content_hash": "f3a1e746fff5fb709f63cb68905bbcde",
          "analyzed_by": "qwen",
          "description": "Formats a GeneralWebSearchResult object into an XML string with query, token count, and paginated results including title, URL, and content.",
          "references": [
            "page.content",
            "page.relevance_score",
            "page.title",
            "page.url",
            "parts.append",
            "result.pages",
            "result.query",
            "result.total_tokens"
          ]
        },
        {
          "name": "format_error",
          "lines": "337-338",
          "tokens": 20,
          "content_hash": "7a9ec4a1de31bbdcdf9b7695e7fa98c1",
          "analyzed_by": "qwen",
          "description": "Formats an error message by wrapping it in <error> tags.",
          "references": []
        },
        {
          "name": "format_no_results",
          "lines": "340-341",
          "tokens": 28,
          "content_hash": "17303f79f6b445ece8dd00e7d5c116f2",
          "analyzed_by": "qwen",
          "description": "Returns a formatted string indicating no search results were found for the given query.",
          "references": []
        }
      ],
      "last_indexed": "2025-12-17T19:47:09.621722+00:00"
    },
    "app/utils/file_parser.py": {
      "name": "file_parser.py",
      "path": "app/utils/file_parser.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\file_parser.py",
      "file_hash": "26f3784ccad776fef44f0e941920c5cc",
      "tokens_total": 1543,
      "lines_total": 187,
      "imports": {
        "lines": "1-23",
        "modules": [
          "os",
          "logging",
          "typing.List",
          "typing.Dict",
          "typing.Optional",
          "typing.Tuple",
          "dataclasses.dataclass",
          "config.settings.cfg",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 38
      },
      "globals": {
        "lines": "25-25",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Unified file parsing and conversion to text across multiple formats (txt, pdf, docx, xlsx, csv) with token limit handling, producing a standardized ParsedFile output structure for downstream processing.",
      "classes": [
        {
          "name": "ParsedFile",
          "lines": "28-33",
          "tokens": 34,
          "content_hash": "73e3b632a40406d683ff8fd6fd89ac27",
          "analyzed_by": "qwen",
          "description": "Represents the parsed structure of a file, including metadata like filename, content, token count, file type, and any associated error. Used to standardize file processing output across different file types.",
          "references": [],
          "methods": []
        },
        {
          "name": "FileParser",
          "lines": "35-187",
          "tokens": 1395,
          "content_hash": "a55d7a1ea8b1f586946f3352ba698e73",
          "analyzed_by": "qwen",
          "description": "Парсит и конвертирует различные файлы (txt, pdf, docx, xlsx, csv и др.) в текст, учитывая лимит токенов; использует библиотеки pypdf, python-docx, pandas для обработки.",
          "references": [
            "ParsedFile",
            "TokenCounter",
            "cfg.MAX_USER_FILES_TOKENS",
            "df.to_markdown",
            "dfs.items",
            "doc.paragraphs",
            "docx.Document",
            "f.read",
            "logger.error",
            "logger.warning",
            "os.path",
            "page.extract_text",
            "para.text",
            "parsed_files.append",
            "pd.read_csv",
            "pd.read_excel",
            "pypdf.PdfReader",
            "reader.pages",
            "text.append",
            "text_parts.append"
          ],
          "methods": [
            "__init__",
            "parse_files",
            "_read_file_content",
            "_read_text",
            "_read_pdf",
            "_read_docx",
            "_read_excel",
            "_read_csv",
            "_truncate_content"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-17T10:59:01.509740+00:00"
    },
    "scripts/test_general_chat.py": {
      "name": "test_general_chat.py",
      "path": "scripts/test_general_chat.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_general_chat.py",
      "file_hash": "f323a15cb3de6d0e73a8b6b872141170",
      "tokens_total": 1872,
      "lines_total": 196,
      "imports": {
        "lines": "1-6",
        "modules": [
          "asyncio",
          "logging",
          "os",
          "sys",
          "json",
          "typing.List",
          "typing.Optional"
        ],
        "tokens": 21
      },
      "globals": {
        "lines": "23-23",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Unit test suite for a general chat orchestrator, validating dynamic model selection, operational modes, file attachments, and tool execution through integration with configuration, parsing, and orchestration modules.",
      "classes": [],
      "functions": [
        {
          "name": "main",
          "lines": "45-189",
          "tokens": 1483,
          "content_hash": "1464f3a7476ea0f4c63575ccdb1c532c",
          "analyzed_by": "qwen",
          "description": "Runs a test suite for a general chat orchestrator, allowing dynamic model selection, mode configuration (general/legal), file attachment, and query execution, with detailed logging and tool usage reporting. Integrates with configuration, file parsing, and orchestration components.",
          "references": [
            "FileParser",
            "GeneralChatOrchestrator",
            "UserFile",
            "call.arguments",
            "call.name",
            "call.output",
            "call.success",
            "call.thinking",
            "cfg.MODEL_NORMAL",
            "cfg.get_available_orchestrator_models",
            "cfg.get_model_display_name",
            "f.write",
            "file_parser.parse_files",
            "files_input.split",
            "input",
            "json.dumps",
            "logger.error",
            "orchestrator.orchestrate_general",
            "os.path",
            "p.strip",
            "pf.content",
            "pf.error",
            "pf.file_type",
            "pf.filename",
            "pf.tokens",
            "result.response",
            "result.tool_calls",
            "result.tool_usage",
            "user_files.append"
          ]
        }
      ],
      "last_indexed": "2025-12-17T14:48:44.323469+00:00"
    },
    "scripts/test_orchestrator_raw.py": {
      "name": "test_orchestrator_raw.py",
      "path": "scripts/test_orchestrator_raw.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_orchestrator_raw.py",
      "file_hash": "2a1907d0e7b23ecb5f4134bcd02b241d",
      "tokens_total": 6154,
      "lines_total": 643,
      "imports": {
        "lines": "17-25",
        "modules": [
          "__future__.annotations",
          "asyncio",
          "json",
          "sys",
          "time",
          "datetime.datetime",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Any",
          "re"
        ],
        "tokens": 42
      },
      "globals": {
        "lines": "28-109",
        "names": [
          "PROJECT_ROOT",
          "TEST_QUERIES"
        ],
        "tokens": 457
      },
      "description": "Test orchestration utility for validating and formatting raw LLM responses with structured console output and regex-based section extraction.",
      "classes": [
        {
          "name": "Colors",
          "lines": "36-45",
          "tokens": 87,
          "content_hash": "289d61d68e6ea49f18a98cc89f2f322e",
          "analyzed_by": "qwen",
          "description": "Defines ANSI color codes for terminal text formatting. Used to apply color and style to console output.",
          "references": [],
          "methods": []
        }
      ],
      "functions": [
        {
          "name": "print_header",
          "lines": "48-52",
          "tokens": 59,
          "content_hash": "6923f1a9901ea4c7e30b0bb821fe965e",
          "analyzed_by": "qwen",
          "description": "Prints a centered header with a border of a specified character, using ANSI colors for styling.",
          "references": [
            "Colors.BOLD",
            "Colors.CYAN",
            "Colors.RESET",
            "text.center"
          ]
        },
        {
          "name": "print_section",
          "lines": "55-58",
          "tokens": 50,
          "content_hash": "bcd1e815d27b550b7f78ed796d349600",
          "analyzed_by": "qwen",
          "description": "Prints a formatted section header with bold title and decorative borders using ANSI colors.",
          "references": [
            "Colors.BOLD",
            "Colors.RESET",
            "Colors.YELLOW"
          ]
        },
        {
          "name": "print_success",
          "lines": "61-62",
          "tokens": 22,
          "content_hash": "be87ea44a9d426f1e66072d1b7e93e34",
          "analyzed_by": "qwen",
          "description": "Prints a success message with a green checkmark and resets the color formatting.",
          "references": [
            "Colors.GREEN",
            "Colors.RESET"
          ]
        },
        {
          "name": "print_error",
          "lines": "65-66",
          "tokens": 22,
          "content_hash": "9e2e9ec2c9ecd4d29225cfcb6bd761cb",
          "analyzed_by": "qwen",
          "description": "Prints error messages in red with a cross symbol for visual clarity.",
          "references": [
            "Colors.RED",
            "Colors.RESET"
          ]
        },
        {
          "name": "print_warning",
          "lines": "69-70",
          "tokens": 25,
          "content_hash": "50522048b46596c002c856127dff14c2",
          "analyzed_by": "qwen",
          "description": "Prints a warning message with a yellow color and warning emoji, using the Colors class for formatting.",
          "references": [
            "Colors.RESET",
            "Colors.YELLOW"
          ]
        },
        {
          "name": "print_info",
          "lines": "73-74",
          "tokens": 24,
          "content_hash": "57ee4ea4854c9d1b5eb609b100ceef02",
          "analyzed_by": "qwen",
          "description": "Prints informational messages to the console with a blue color prefix and reset.",
          "references": [
            "Colors.BLUE",
            "Colors.RESET"
          ]
        },
        {
          "name": "print_metric",
          "lines": "77-83",
          "tokens": 91,
          "content_hash": "4dee2ca24c5b94cc6bb6ad2289836f8e",
          "analyzed_by": "qwen",
          "description": "Prints a metric with color-coded output based on an optional threshold, using predefined color constants.",
          "references": [
            "Colors.GREEN",
            "Colors.RED",
            "Colors.RESET"
          ]
        },
        {
          "name": "analyze_raw_response",
          "lines": "116-175",
          "tokens": 776,
          "content_hash": "965b62ddda0c30b5a9b5efa43294a643",
          "analyzed_by": "qwen",
          "description": "Анализирует структуру и содержимое сырого текстового ответа, проверяя наличие ключевых заголовков, форматирование и потенциальные проблемы. Использует регулярные выражения для поиска паттернов и оценки полноты данных.",
          "references": [
            "instruction_content.strip",
            "match.end",
            "raw_response.count",
            "re.IGNORECASE",
            "re.search"
          ]
        },
        {
          "name": "extract_sections",
          "lines": "178-208",
          "tokens": 243,
          "content_hash": "1d92f0abb07ca3aaa8f8c378d73299c8",
          "analyzed_by": "qwen",
          "description": "Extracts specific sections (before_analysis, analysis, instruction) from a raw text response using regex, for structured comparison or processing.",
          "references": [
            "analysis_match.group",
            "analysis_match.start",
            "instruction_match.group",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.search"
          ]
        },
        {
          "name": "save_diagnostic_report",
          "lines": "215-368",
          "tokens": 1695,
          "content_hash": "13cb991f1ae2b91bbd36d1e2acca126f",
          "analyzed_by": "qwen",
          "description": "Сохраняет детальный диагностический отчет в формате Markdown с метаданными, анализом, проблемами, вызовами инструментов и сырым/парсированным содержимым. Интегрируется с файловой системой и структурами данных для логирования.",
          "references": [
            "Path",
            "args.items",
            "datetime.now",
            "f.write",
            "lines.append",
            "report_dir.mkdir",
            "sections.get"
          ]
        },
        {
          "name": "run_orchestrator_diagnostic",
          "lines": "375-502",
          "tokens": 1051,
          "content_hash": "4c3aba715327641e066dffe337a87cba",
          "analyzed_by": "qwen",
          "description": "Runs a diagnostic test on the orchestrator by processing a query through pre-filtering, model selection, and orchestration, then collects and analyzes the raw response with metrics and issues. Integrates with semantic index, project map, and model routing.",
          "references": [
            "Colors.DIM",
            "Colors.RESET",
            "ValueError",
            "analyze_raw_response",
            "cfg.get_model_display_name",
            "create_chunks_list_auto",
            "extract_sections",
            "get_project_map_for_prompt",
            "load_semantic_index",
            "orchestrate",
            "orchestrator_result.analysis",
            "orchestrator_result.instruction",
            "orchestrator_result.raw_response",
            "orchestrator_result.tool_calls",
            "pre_filter_chunks",
            "prefilter_result.selected_chunks",
            "print_error",
            "print_info",
            "print_metric",
            "print_section",
            "print_success",
            "print_warning",
            "route_request",
            "router_result.orchestrator_model",
            "save_diagnostic_report",
            "time.time",
            "traceback.print_exc"
          ]
        },
        {
          "name": "select_directory",
          "lines": "509-531",
          "tokens": 231,
          "content_hash": "bc4b12f5a21aeb7da27fd020c875dab3",
          "analyzed_by": "qwen",
          "description": "Позволяет пользователю выбрать директорию проекта из предложенных вариантов или ввести собственный путь, проверяя существование директории и наличие в ней файла индекса.",
          "references": [
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.RESET",
            "Path",
            "Path.cwd",
            "choice.isdigit",
            "input"
          ]
        },
        {
          "name": "select_model",
          "lines": "534-553",
          "tokens": 176,
          "content_hash": "58d56a79e8b63ca6537f779d8e245814",
          "analyzed_by": "qwen",
          "description": "Prompts the user to select an Orchestrator model from available options, returning the selected model name or None for default. Integrates with configuration settings for model display and retrieval.",
          "references": [
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.RESET",
            "cfg.get_available_orchestrator_models",
            "cfg.get_model_display_name",
            "choice.isdigit",
            "input"
          ]
        },
        {
          "name": "select_queries",
          "lines": "556-575",
          "tokens": 212,
          "content_hash": "278caf53a693f652d8311c0b1890dd01",
          "analyzed_by": "qwen",
          "description": "Allows the user to select test queries from a list, returning either all queries or a subset based on user input.",
          "references": [
            "Colors.CYAN",
            "Colors.DIM",
            "Colors.RESET",
            "choice.split",
            "idx.isdigit",
            "idx.strip",
            "input",
            "selected.append"
          ]
        },
        {
          "name": "main",
          "lines": "582-632",
          "tokens": 482,
          "content_hash": "a05102d8d822bed99152feb21fae2d54",
          "analyzed_by": "qwen",
          "description": "Запускает диагностику Orchestrator для анализа генерации инструкций, проверяя полноту ответов, корректность парсинга и наличие ошибок. Интегрируется с файловой системой для выбора директорий и обработки результатов.",
          "references": [
            "Path",
            "print_error",
            "print_header",
            "print_info",
            "r.get",
            "results.append",
            "run_orchestrator_diagnostic",
            "select_directory",
            "select_model",
            "select_queries"
          ]
        }
      ],
      "last_indexed": "2025-12-21T02:09:17.392807+00:00"
    },
    "app/agents/feedback_handler.py": {
      "name": "feedback_handler.py",
      "path": "app/agents/feedback_handler.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\agents\\feedback_handler.py",
      "file_hash": "d3795f9530622b855dd4a8ed434a42ef",
      "tokens_total": 9584,
      "lines_total": 1129,
      "imports": {
        "lines": "16-22",
        "modules": [
          "__future__.annotations",
          "logging",
          "dataclasses.dataclass",
          "dataclasses.field",
          "enum.Enum",
          "datetime.datetime",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.TYPE_CHECKING"
        ],
        "tokens": 43
      },
      "globals": {
        "lines": "27-27",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Feedback orchestration system for processing and prioritizing diverse feedback types (user, validator, test, staging) with structured metadata and integration into decision-making workflows.",
      "classes": [
        {
          "name": "FeedbackSource",
          "lines": "30-37",
          "tokens": 124,
          "content_hash": "6ffef06d82a81955d65c3c7eb4e01c84",
          "analyzed_by": "qwen",
          "description": "Enumerates sources of feedback to determine how the Orchestrator should handle different types of input, such as user reports, validator outputs, or test errors.",
          "references": [],
          "methods": []
        },
        {
          "name": "StagingErrorType",
          "lines": "40-58",
          "tokens": 141,
          "content_hash": "a8e8007466ec73eec8cf7bf929186337",
          "analyzed_by": "qwen",
          "description": "Classifies staging errors with AI-friendly descriptions and solutions for handling feedback.",
          "references": [],
          "methods": []
        },
        {
          "name": "FeedbackPriority",
          "lines": "129-134",
          "tokens": 72,
          "content_hash": "6b27f26284321d8393986a3ab4a77c2a",
          "analyzed_by": "qwen",
          "description": "Defines an enumeration for feedback priority levels, used to categorize the urgency of feedback processing.",
          "references": [],
          "methods": []
        },
        {
          "name": "UserAction",
          "lines": "137-142",
          "tokens": 85,
          "content_hash": "0436ba9819242adfb7984217d00cbdda",
          "analyzed_by": "qwen",
          "description": "Defines available user actions when a Validator rejects code, providing options to cancel, override, replace, or accept the critique.",
          "references": [],
          "methods": []
        },
        {
          "name": "FeedbackItem",
          "lines": "146-173",
          "tokens": 207,
          "content_hash": "d44dcec3735392bdbd7b8887039f7ab3",
          "analyzed_by": "qwen",
          "description": "Represents a single feedback item with metadata such as source, priority, and context, and provides serialization to dictionary format.",
          "references": [
            "datetime.now",
            "field"
          ],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "ValidatorFeedback",
          "lines": "177-215",
          "tokens": 328,
          "content_hash": "078cc75524eb28464d563b3ecf55a6fb",
          "analyzed_by": "qwen",
          "description": "Represents structured feedback from an AI Validator for use in an orchestration workflow, including approval status, confidence, issues, and formatting for prompt inclusion. Integrates with Orchestrator to enable decision-making based on validator input.",
          "references": [
            "parts.append"
          ],
          "methods": [
            "to_prompt_format"
          ]
        },
        {
          "name": "UserFeedback",
          "lines": "219-250",
          "tokens": 274,
          "content_hash": "ea61669be7c7c4beee54109783381538",
          "analyzed_by": "qwen",
          "description": "Represents mandatory user feedback that the Orchestrator must address, with optional replacement of validator feedback and formatting for prompt inclusion.",
          "references": [
            "parts.append"
          ],
          "methods": [
            "to_prompt_format"
          ]
        },
        {
          "name": "TestErrorFeedback",
          "lines": "254-291",
          "tokens": 310,
          "content_hash": "486ccec6938963c0a5eac8dbba2d2254",
          "analyzed_by": "qwen",
          "description": "Handles test execution errors requiring debugging, providing structured feedback with error details and context for the Orchestrator. Integrates with logging and error reporting systems.",
          "references": [
            "parts.append"
          ],
          "methods": [
            "to_prompt_format"
          ]
        },
        {
          "name": "StagingErrorFeedback",
          "lines": "294-361",
          "tokens": 504,
          "content_hash": "704cd4edfb07d33c79fcadd3463814e2",
          "analyzed_by": "qwen",
          "description": "Handles staging errors during code processing by formatting detailed feedback prompts, integrating with error guidance and logging for clarity and resolution.",
          "references": [
            "StagingErrorType.UNKNOWN",
            "get_staging_error_guidance",
            "guidance.get",
            "parts.append",
            "step.strip"
          ],
          "methods": [
            "to_prompt_format"
          ]
        },
        {
          "name": "FailedTest",
          "lines": "368-372",
          "tokens": 43,
          "content_hash": "8f620cab5bd7acb5877dbde980656a15",
          "analyzed_by": "qwen",
          "description": "Represents a single failed test with its type, name, and traceback information.",
          "references": [],
          "methods": []
        },
        {
          "name": "TestRunFeedback",
          "lines": "376-469",
          "tokens": 812,
          "content_hash": "34222dbcd99d0562fbb30a951873b5a7",
          "analyzed_by": "qwen",
          "description": "Represents structured feedback from the run_project_tests tool, containing detailed test run results and formatting for the Orchestrator. Integrates with test reporting and error handling systems.",
          "references": [
            "ft.name",
            "ft.traceback",
            "ft.type",
            "parts.append"
          ],
          "methods": [
            "to_prompt_format",
            "to_dict"
          ]
        },
        {
          "name": "ValidationErrorFeedback",
          "lines": "477-553",
          "tokens": 745,
          "content_hash": "b4da29adec1aeb4f3dc6fdbaa458803f",
          "analyzed_by": "qwen",
          "description": "Represents technical validation feedback (syntax, imports, types, etc.), providing structured error/warning data and formatting for user or system handling. Integrates with Orchestrator for decision-making on code fixes or explanations.",
          "references": [
            "issue.get",
            "issues_by_file.items",
            "parts.append"
          ],
          "methods": [
            "to_prompt_format",
            "to_dict"
          ]
        },
        {
          "name": "RuntimeTestFeedback",
          "lines": "557-670",
          "tokens": 1101,
          "content_hash": "7e98d9f975cc6f43d57409f36adaf192",
          "analyzed_by": "qwen",
          "description": "Tracks and reports runtime validation results for files, including pass/fail/skip statuses and detailed error information, used by Orchestrator for analysis and feedback. Integrates with logging and data serialization for structured reporting.",
          "references": [
            "f.get",
            "field",
            "parts.append"
          ],
          "methods": [
            "to_prompt_format",
            "to_dict"
          ]
        },
        {
          "name": "OrchestratorFeedbackResponse",
          "lines": "800-810",
          "tokens": 81,
          "content_hash": "2b7060f19b3ba81aec37c85ccb52dfa7",
          "analyzed_by": "qwen",
          "description": "Represents the Orchestrator's response to feedback, including whether it was accepted, the reasoning, and the action taken. Used for tracking and logging feedback handling decisions.",
          "references": [],
          "methods": []
        },
        {
          "name": "FeedbackHandler",
          "lines": "813-1067",
          "tokens": 1929,
          "content_hash": "6bda3c28eeda419717af7abefb85c077",
          "analyzed_by": "qwen",
          "description": "Centralizes handling of various feedback types (validator, user, test, staging), formats them for Orchestrator, and tracks responses. Integrates with logging and dataclasses for structured feedback storage and retrieval.",
          "references": [
            "FeedbackSource.VALIDATOR",
            "OrchestratorFeedbackResponse",
            "StagingErrorFeedback",
            "StagingErrorType.UNKNOWN",
            "TestErrorFeedback",
            "UserFeedback",
            "create_runtime_test_feedback",
            "create_test_run_feedback_from_xml",
            "create_validation_error_feedback",
            "e.to_prompt_format",
            "error.to_prompt_format",
            "error_parts.append",
            "error_type.value",
            "feedback.approved",
            "feedback.error_count",
            "feedback.failed",
            "feedback.passed",
            "feedback.skipped",
            "feedback.warning_count",
            "logger.info",
            "result.success",
            "result.test_file",
            "result.tests_passed",
            "result.tests_run",
            "run_parts.append",
            "run_result.to_prompt_format",
            "source.value"
          ],
          "methods": [
            "__init__",
            "add_validator_feedback",
            "add_user_feedback",
            "add_test_error",
            "add_test_run_result",
            "add_test_run_result_from_xml",
            "add_staging_error",
            "get_feedback_for_orchestrator",
            "has_mandatory_feedback",
            "has_any_feedback",
            "clear_feedback",
            "record_orchestrator_response",
            "add_validation_errors",
            "add_runtime_test_feedback"
          ]
        }
      ],
      "functions": [
        {
          "name": "get_staging_error_guidance",
          "lines": "61-126",
          "tokens": 1127,
          "content_hash": "bb6e6d20542ff439cccd90a796b681c5",
          "analyzed_by": "qwen",
          "description": "Returns AI-friendly error descriptions and solutions for code staging errors, integrating with error types like CLASS_NOT_FOUND, METHOD_NOT_FOUND, and INVALID_MODE.",
          "references": [
            "StagingErrorType.CLASS_NOT_FOUND",
            "StagingErrorType.FUNCTION_NOT_FOUND",
            "StagingErrorType.INSERT_PATTERN_NOT_FOUND",
            "StagingErrorType.INVALID_MODE",
            "StagingErrorType.METHOD_NOT_FOUND",
            "StagingErrorType.MISSING_TARGET_CLASS",
            "StagingErrorType.MISSING_TARGET_FUNCTION",
            "StagingErrorType.MISSING_TARGET_METHOD",
            "StagingErrorType.PARSER_UNAVAILABLE",
            "StagingErrorType.UNKNOWN",
            "guidance_map.get"
          ]
        },
        {
          "name": "create_runtime_test_feedback",
          "lines": "673-711",
          "tokens": 366,
          "content_hash": "57a7fa54ce321ee504ec74bf50ab42b2",
          "analyzed_by": "qwen",
          "description": "Constructs a RuntimeTestFeedback object from a summary dictionary, categorizing test results and extracting analysis data for reporting.",
          "references": [
            "RuntimeTestFeedback",
            "analysis.get",
            "failed_files.extend",
            "r.get",
            "summary_dict.get"
          ]
        },
        {
          "name": "create_validation_error_feedback",
          "lines": "714-750",
          "tokens": 290,
          "content_hash": "e6c229b9e61560deba1f7b25ad03dbfe",
          "analyzed_by": "qwen",
          "description": "Constructs a ValidationErrorFeedback object from a validation result dictionary, filtering issues by level and categorizing them into errors, warnings, and affected files.",
          "references": [
            "ValidationErrorFeedback",
            "i.get",
            "validation_result.get"
          ]
        },
        {
          "name": "create_test_run_feedback_from_xml",
          "lines": "753-797",
          "tokens": 305,
          "content_hash": "f293c6ff9f414f880c3b438c45f4642a",
          "analyzed_by": "qwen",
          "description": "Parses XML test results into a structured TestRunFeedback object, extracting test outcomes, failures, and metadata. Integrates with run_project_tests tool and uses regex to extract test_target.",
          "references": [
            "FailedTest",
            "TestRunFeedback",
            "ft.get",
            "parse_test_result_xml",
            "re.search",
            "result.error_message",
            "result.execution_time_ms",
            "result.failed_tests",
            "result.success",
            "result.test_output",
            "result.tests_errors",
            "result.tests_failed",
            "result.tests_passed",
            "result.tests_run",
            "target_match.group"
          ]
        },
        {
          "name": "handle_user_validation_action",
          "lines": "1070-1129",
          "tokens": 428,
          "content_hash": "2787944eab990c9be2c8602f3b2c8ebe",
          "analyzed_by": "qwen",
          "description": "Processes user responses to validator feedback, determining next steps for the Orchestrator, with support for overriding, accepting, or replacing critiques. Integrates with FeedbackHandler and ValidatorFeedback for feedback management.",
          "references": [
            "FeedbackHandler",
            "UserAction.ACCEPT_CRITIQUE",
            "UserAction.CANCEL_REQUEST",
            "UserAction.OVERRIDE_VALIDATOR",
            "UserAction.REPLACE_CRITIQUE",
            "ValidatorFeedback",
            "handler.add_validator_feedback",
            "handler.get_feedback_for_orchestrator",
            "validator_feedback.to_prompt_format"
          ]
        }
      ],
      "last_indexed": "2026-01-09T07:17:44.226265+00:00"
    },
    "app/agents/feedback_loop.py": {
      "name": "feedback_loop.py",
      "path": "app/agents/feedback_loop.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\agents\\feedback_loop.py",
      "file_hash": "ed419f5dc40766e09e368a66efa78ebc",
      "tokens_total": 4905,
      "lines_total": 655,
      "imports": {
        "lines": "13-29",
        "modules": [
          "__future__.annotations",
          "logging",
          "dataclasses.dataclass",
          "dataclasses.field",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "enum.Enum",
          "datetime.datetime",
          "app.agents.feedback_handler.FeedbackSource",
          "app.agents.feedback_handler.FeedbackHandler",
          "app.agents.feedback_handler.ValidatorFeedback",
          "app.agents.feedback_handler.UserFeedback",
          "app.agents.feedback_handler.TestErrorFeedback",
          "app.agents.feedback_handler.TestRunFeedback",
          "app.agents.feedback_handler.create_test_run_feedback_from_xml"
        ],
        "tokens": 91
      },
      "globals": {
        "lines": "32-32",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "State management and orchestration for iterative AI validation cycles, integrating validation attempts, feedback handling, orchestrator revisions, and test run tracking.",
      "classes": [
        {
          "name": "FeedbackAction",
          "lines": "35-40",
          "tokens": 97,
          "content_hash": "2b263033e7cfdfe5d37a54168185d2e2",
          "analyzed_by": "qwen",
          "description": "Defines possible actions for handling validator feedback in a critique loop, guiding how the system responds to validation results.",
          "references": [],
          "methods": []
        },
        {
          "name": "ValidationAttempt",
          "lines": "44-65",
          "tokens": 144,
          "content_hash": "27bc49a7631a41fed57dac723dc0305d",
          "analyzed_by": "qwen",
          "description": "Tracks individual validation attempts with metadata and results, provides a to_dict method for serialization.",
          "references": [],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "OrchestratorRevision",
          "lines": "69-84",
          "tokens": 114,
          "content_hash": "f4f4fec7f49ea07d29a3914f2cf369bb",
          "analyzed_by": "qwen",
          "description": "Tracks revisions to orchestrator instructions with summaries and timestamps, supports conversion to dictionary format for logging or storage.",
          "references": [],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "FeedbackRecord",
          "lines": "87-112",
          "tokens": 198,
          "content_hash": "ffe51d9b29a112b5d17019f5f3c6fc86",
          "analyzed_by": "qwen",
          "description": "Represents a record of feedback and its handling by an orchestrator, including source, message, decision, and outcome. Integrates with logging and data serialization via to_dict.",
          "references": [],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "TestRunRecord",
          "lines": "120-155",
          "tokens": 254,
          "content_hash": "e014d8d6c8ba4dc146a4632ec9b4b494",
          "analyzed_by": "qwen",
          "description": "Records results of unittest executions from the run_project_tests tool, distinguishing from AI Validator results and providing metrics like test counts, success status, and execution time. Integrates with data serialization via to_dict().",
          "references": [],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "FeedbackLoopState",
          "lines": "159-627",
          "tokens": 3696,
          "content_hash": "b0341f5453c295e4e842cce0a06ef74b",
          "analyzed_by": "qwen",
          "description": "Tracks the complete state of a feedback loop for a user request, including validation, user input, test runs, and revision history, with integration with feedback handling and logging.",
          "references": [
            "FeedbackRecord",
            "FeedbackSource.TEST_RUN",
            "FeedbackSource.USER",
            "FeedbackSource.VALIDATOR",
            "OrchestratorRevision",
            "TestRunRecord",
            "ValidationAttempt",
            "ValidatorFeedback",
            "action.value",
            "create_test_run_feedback_from_xml",
            "datetime.now",
            "err.get",
            "f.to_dict",
            "field",
            "ft.name",
            "last.critical_issues",
            "last_run.success",
            "last_run.tests_passed",
            "last_run.tests_run",
            "last_test.success",
            "last_test.tests_failed",
            "last_validation.approved",
            "logger.info",
            "r.success",
            "r.to_dict",
            "result.execution_time_ms",
            "result.failed_tests",
            "result.success",
            "result.system_error",
            "result.test_file",
            "result.test_target",
            "result.tests_errors",
            "result.tests_failed",
            "result.tests_passed",
            "result.tests_run",
            "source.value",
            "t.to_dict",
            "test_result.get",
            "v.to_dict"
          ],
          "methods": [
            "can_retry_validation",
            "can_revise_instruction",
            "can_run_tests",
            "get_remaining_test_runs",
            "add_validator_feedback",
            "add_user_feedback",
            "add_test_error",
            "add_test_failures",
            "record_test_run",
            "record_test_run_from_xml",
            "get_last_test_run",
            "has_passing_tests",
            "get_test_run_summary",
            "get_feedback_for_orchestrator",
            "record_orchestrator_feedback_response",
            "record_validation_attempt",
            "record_orchestrator_revision",
            "complete",
            "get_last_validation",
            "get_last_issues",
            "to_dict",
            "get_summary",
            "add_validation_errors",
            "has_blocking_validation_errors"
          ]
        }
      ],
      "functions": [
        {
          "name": "create_feedback_loop",
          "lines": "630-655",
          "tokens": 192,
          "content_hash": "5437e713a9f245524d93630eacfc45af",
          "analyzed_by": "qwen",
          "description": "Initializes a FeedbackLoopState object with session parameters and limits for validation, orchestration, and testing.",
          "references": [
            "FeedbackLoopState"
          ]
        }
      ],
      "last_indexed": "2025-12-31T00:18:47.009563+00:00"
    },
    "app/agents/validator.py": {
      "name": "validator.py",
      "path": "app/agents/validator.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\agents\\validator.py",
      "file_hash": "efc7e3fe2207356defa08188c17cd3e0",
      "tokens_total": 3581,
      "lines_total": 495,
      "imports": {
        "lines": "16-27",
        "modules": [
          "__future__.annotations",
          "json",
          "logging",
          "re",
          "time",
          "dataclasses.dataclass",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.TYPE_CHECKING",
          "config.settings.cfg",
          "app.llm.api_client.call_llm",
          "app.llm.prompt_templates.format_ai_validator_prompt",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 78
      },
      "globals": {
        "lines": "32-442",
        "names": [
          "logger",
          "ValidationResult",
          "_validator"
        ],
        "tokens": 23
      },
      "description": "AI validation system for code generation that processes validation requests through AI models with structured feedback, integrating with token counting, logging, and LLM orchestration.",
      "classes": [
        {
          "name": "AIValidationRequest",
          "lines": "40-46",
          "tokens": 78,
          "content_hash": "9fbcdc2920382814d249662f5a48c015",
          "analyzed_by": "qwen",
          "description": "Represents a request for AI validation of generated code, containing the user's original request, orchestrator instruction, original and proposed code, and target file path.",
          "references": [],
          "methods": []
        },
        {
          "name": "AIValidationResult",
          "lines": "50-73",
          "tokens": 230,
          "content_hash": "3f79d13d375dccef777d016dc24cead5",
          "analyzed_by": "qwen",
          "description": "Stores the result of AI validation with metadata and analysis details, including approval status, confidence, core request, and model performance metrics.",
          "references": [],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "AIValidator",
          "lines": "84-434",
          "tokens": 2680,
          "content_hash": "0b49c5ec4bcb4c705ff6e0c4066718b5",
          "analyzed_by": "qwen",
          "description": "Validates generated code against user requests using AI models (Qwen or DeepSeek based on context size), with fallback handling and structured feedback generation. Integrates with token counting, logging, and LLM calling systems.",
          "references": [
            "AIValidationRequest",
            "AIValidationResult",
            "TokenCounter",
            "ValidatorFeedback",
            "ValueError",
            "call_llm",
            "cfg.get_ai_validator_model",
            "cfg.get_model_display_name",
            "data.get",
            "format_ai_validator_prompt",
            "json.JSONDecodeError",
            "json.loads",
            "logger.error",
            "logger.info",
            "logger.warning",
            "match.strip",
            "re.IGNORECASE",
            "re.findall",
            "re.search",
            "request.file_path",
            "request.orchestrator_instruction",
            "request.original_content",
            "request.proposed_code",
            "request.user_request",
            "result.approved",
            "result.confidence",
            "result.critical_issues",
            "result.model_used",
            "result.tokens_used",
            "result.verdict",
            "simple_match.group",
            "simple_match.start",
            "text.endswith",
            "text.startswith",
            "text.strip",
            "time.time"
          ],
          "methods": [
            "__init__",
            "validate",
            "_calculate_context_size",
            "_parse_response",
            "_extract_json",
            "_create_fallback_result",
            "create_structured_feedback",
            "stats"
          ]
        }
      ],
      "functions": [
        {
          "name": "get_validator",
          "lines": "445-450",
          "tokens": 41,
          "content_hash": "cb4d8005a69aa8fcdb83b9b414187c5a",
          "analyzed_by": "qwen",
          "description": "Provides a global instance of AIValidator, ensuring only one instance is created and used throughout the application.",
          "references": [
            "AIValidator"
          ]
        },
        {
          "name": "validate_code_change",
          "lines": "453-495",
          "tokens": 269,
          "content_hash": "4f683db8b6b79d19985c33f890497d5c",
          "analyzed_by": "qwen",
          "description": "Validates a proposed code change against the original content and user request using a validator, returning structured results and feedback. Integrates with the ValidatorFeedback class for standardized output.",
          "references": [
            "ValidatorFeedback",
            "get_validator",
            "result.approved",
            "result.confidence",
            "result.critical_issues",
            "result.model_used",
            "result.verdict",
            "validator.validate"
          ]
        }
      ],
      "last_indexed": "2025-12-31T00:18:36.085961+00:00"
    },
    "app/history/context_manager.py": {
      "name": "context_manager.py",
      "path": "app/history/context_manager.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\history\\context_manager.py",
      "file_hash": "e2d16f67247c2e33e27b98c5eaf5c79c",
      "tokens_total": 5589,
      "lines_total": 763,
      "imports": {
        "lines": "21-29",
        "modules": [
          "__future__.annotations",
          "logging",
          "re",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.Tuple",
          "dataclasses.dataclass",
          "enum.Enum",
          "config.settings.cfg",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 52
      },
      "globals": {
        "lines": "31-716",
        "names": [
          "logger",
          "PROACTIVE_COMPRESSION_MODELS",
          "REACTIVE_COMPRESSION_TARGET",
          "PRESERVE_LAST_N",
          "_compressor_cache"
        ],
        "tokens": 158
      },
      "description": "Context compression manager for LLM sessions, handling proactive and reactive compression strategies with model-specific caching and error detection.",
      "classes": [
        {
          "name": "CompressionMode",
          "lines": "63-66",
          "tokens": 44,
          "content_hash": "b5a975abb0e238e084fa26419f86c03f",
          "analyzed_by": "qwen",
          "description": "Defines compression strategies for handling context size, with modes to compress data either before or after encountering context overflow.",
          "references": [],
          "methods": []
        },
        {
          "name": "CompressionResult",
          "lines": "70-87",
          "tokens": 110,
          "content_hash": "6a70caf28038cc6063cb0be948d43e98",
          "analyzed_by": "qwen",
          "description": "Tracks token and message compression metrics, providing calculated properties for tokens saved and compression ratio.",
          "references": [],
          "methods": [
            "tokens_saved",
            "compression_ratio"
          ]
        },
        {
          "name": "IntraSessionCompressor",
          "lines": "94-669",
          "tokens": 4447,
          "content_hash": "7be39e2aea4d9a4a1beeef489c7aafc9",
          "analyzed_by": "qwen",
          "description": "Manages context compression within a single agent session, applying proactive compression for specific models (e.g., DeepSeek Reasoner, Gemini 3.0 Pro) and reactive compression for others. Integrates with token counting, LLM summarization, and message pruning strategies to reduce context size while preserving key information.",
          "references": [
            "CompressionMode.PROACTIVE",
            "CompressionMode.REACTIVE",
            "CompressionResult",
            "PROACTIVE_COMPRESSION_MODELS.get",
            "TokenCounter",
            "actions.append",
            "call_llm",
            "cfg.MODEL_GEMINI_2_FLASH",
            "chr",
            "compressed.append",
            "compressed.extend",
            "content.split",
            "files_found.append",
            "formatted.append",
            "l.startswith",
            "line.strip",
            "logger.debug",
            "logger.info",
            "logger.warning",
            "messages.copy",
            "msg.get",
            "re.findall",
            "reasoning_parts.append",
            "removable_indices.append",
            "removed_msg.get",
            "result.compressed_tokens",
            "result.compression_ratio",
            "result.original_tokens",
            "result.pop",
            "result.tokens_saved",
            "result_parts.append",
            "role.title",
            "summary.strip",
            "tc.get",
            "triple_backticks.join",
            "truncated.startswith"
          ],
          "methods": [
            "__init__",
            "needs_proactive_compression",
            "count_tokens",
            "check_and_compress",
            "emergency_compress",
            "_compress_messages",
            "_extract_reasoning_summary",
            "_summarize_messages",
            "_compress_tool_result",
            "_compress_read_file_result",
            "_compress_search_result",
            "_compress_web_search_result",
            "_compress_assistant_content",
            "_preserve_code_blocks",
            "_truncate_content",
            "_aggressive_truncate",
            "stats"
          ]
        }
      ],
      "functions": [
        {
          "name": "is_context_overflow_error",
          "lines": "676-709",
          "tokens": 231,
          "content_hash": "f1986ac7481e18e512bac77b0b48fcd9",
          "analyzed_by": "qwen",
          "description": "Determines if an exception is caused by exceeding the context limit in LLM providers, by checking for common error message patterns.",
          "references": []
        },
        {
          "name": "get_compressor",
          "lines": "719-727",
          "tokens": 86,
          "content_hash": "6ce27faf5d7822be3787982cafd7fc5e",
          "analyzed_by": "qwen",
          "description": "Returns a cached or newly created IntraSessionCompressor for a given model ID, ensuring consistent state within a session.",
          "references": [
            "IntraSessionCompressor"
          ]
        },
        {
          "name": "reset_compressor",
          "lines": "730-733",
          "tokens": 43,
          "content_hash": "060c02b19b8a9cbbbdefaf60b2080b13",
          "analyzed_by": "qwen",
          "description": "Resets the compressor for a given model by removing it from the compressor cache, typically used to start a new session. Integrates with a model-specific caching mechanism.",
          "references": []
        },
        {
          "name": "reset_all_compressors",
          "lines": "736-738",
          "tokens": 24,
          "content_hash": "321bda6f0eba1bd507b45166d04c89a2",
          "analyzed_by": "qwen",
          "description": "Clears the internal compressor cache, effectively resetting all cached compressors. Used for managing state in compressor-related operations.",
          "references": [
            "_compressor_cache.clear"
          ]
        },
        {
          "name": "maybe_compress_context",
          "lines": "745-763",
          "tokens": 117,
          "content_hash": "e47036c491b1e0d037cfb71045fa6e04",
          "analyzed_by": "deepseek",
          "description": "Message compression utility for LLM context management, integrates with model-specific compressors via async orchestration.",
          "references": [
            "compressor.check_and_compress",
            "get_compressor"
          ]
        }
      ],
      "last_indexed": "2025-12-22T12:25:30.148280+00:00"
    },
    "app/services/backup_manager.py": {
      "name": "backup_manager.py",
      "path": "app/services/backup_manager.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\backup_manager.py",
      "file_hash": "44065b6afbc9ebf4d7492773e0446155",
      "tokens_total": 4391,
      "lines_total": 579,
      "imports": {
        "lines": "13-21",
        "modules": [
          "__future__.annotations",
          "shutil",
          "json",
          "logging",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Any",
          "dataclasses.dataclass",
          "dataclasses.field",
          "dataclasses.asdict",
          "datetime.datetime",
          "datetime.timedelta"
        ],
        "tokens": 50
      },
      "globals": {
        "lines": "23-23",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Manages file backup sessions with metadata serialization, integrating filesystem operations and JSON storage for session persistence and cleanup.",
      "classes": [
        {
          "name": "BackupRecord",
          "lines": "31-44",
          "tokens": 151,
          "content_hash": "6d5351b6eb9ba3785222ceac1fb27821",
          "analyzed_by": "qwen",
          "description": "Represents a backup record with metadata such as original and backup paths, creation time, file size, and session ID, supporting serialization to and from a dictionary.",
          "references": [
            "asdict"
          ],
          "methods": [
            "to_dict",
            "from_dict"
          ]
        },
        {
          "name": "BackupSession",
          "lines": "48-71",
          "tokens": 199,
          "content_hash": "9f787336ddf68a394dc257797723930a",
          "analyzed_by": "qwen",
          "description": "Represents a backup session containing multiple related backups, with methods to serialize and deserialize session data.",
          "references": [
            "BackupRecord.from_dict",
            "b.to_dict",
            "data.get",
            "field"
          ],
          "methods": [
            "to_dict",
            "from_dict"
          ]
        },
        {
          "name": "BackupManager",
          "lines": "78-579",
          "tokens": 3835,
          "content_hash": "8ee3b389b333e8ef8ef4a5c65c01e309",
          "analyzed_by": "qwen",
          "description": "Manages file backups for a project, organizing them into timestamped sessions with metadata and automatic cleanup, integrates with file system operations and JSON for session/manifest storage.",
          "references": [
            "BackupRecord",
            "BackupSession",
            "BackupSession.from_dict",
            "Path",
            "backup.original_path",
            "backup_path.exists",
            "backup_record.backup_path",
            "backup_record.session_id",
            "backups.append",
            "datetime.fromisoformat",
            "datetime.now",
            "file.is_file",
            "file.stat",
            "full_path.exists",
            "full_path.relative_to",
            "full_path.stat",
            "json.dump",
            "json.load",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "manifest.get",
            "manifest_path.exists",
            "rel_path_str.replace",
            "results.values",
            "s.get",
            "session.backups",
            "session.created_at",
            "session.description",
            "session.session_id",
            "session.to_dict",
            "session_dir.exists",
            "session_dir.mkdir",
            "session_file.exists",
            "session_summary.get",
            "sessions.append",
            "sessions_to_keep.append",
            "shutil.copy2",
            "shutil.rmtree",
            "target_path.parent",
            "timedelta"
          ],
          "methods": [
            "__init__",
            "_normalize_path",
            "start_session",
            "end_session",
            "get_current_session",
            "create_backup",
            "restore_file",
            "restore_session",
            "list_sessions",
            "get_session",
            "list_backups_for_file",
            "cleanup_old_backups",
            "get_total_backup_size",
            "_find_backup_record",
            "_load_session",
            "_load_manifest",
            "_save_manifest",
            "_update_manifest",
            "__repr__"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2025-12-22T12:25:02.622192+00:00"
    },
    "app/services/change_validator.py": {
      "name": "change_validator.py",
      "path": "app/services/change_validator.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\change_validator.py",
      "file_hash": "4510c6a22168a8d2a3c3908e93379144",
      "tokens_total": 13441,
      "lines_total": 1719,
      "imports": {
        "lines": "17-35",
        "modules": [
          "__future__.annotations",
          "ast",
          "sys",
          "os",
          "re",
          "json",
          "logging",
          "tempfile",
          "shutil",
          "subprocess",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Set",
          "typing.Any",
          "typing.Tuple",
          "typing.TYPE_CHECKING",
          "dataclasses.dataclass",
          "dataclasses.field",
          "enum.Enum",
          "app.tools.dependency_manager.IMPORT_TO_PACKAGE",
          "app.tools.dependency_manager.get_import_to_package_mapping",
          "app.services.runtime_tester.RuntimeTester",
          "app.services.runtime_tester.RuntimeTestSummary",
          "app.services.runtime_tester.TestStatus",
          "app.services.runtime_tester.AppType",
          "time"
        ],
        "tokens": 111
      },
      "globals": {
        "lines": "43-43",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Multi-level code change validator integrated with VirtualFileSystem, supporting syntax, import, type, integration, runtime, and test validation with configurable rules and detailed issue reporting.",
      "classes": [
        {
          "name": "ValidationLevel",
          "lines": "50-57",
          "tokens": 57,
          "content_hash": "816b36fa46a2f5c0fe49be09f504a629",
          "analyzed_by": "qwen",
          "description": "Defines validation levels for code analysis, categorizing checks from syntax to runtime and tests.",
          "references": [],
          "methods": []
        },
        {
          "name": "IssueSeverity",
          "lines": "60-64",
          "tokens": 36,
          "content_hash": "9a3194e621c3b50385251d6c5bdd5f29",
          "analyzed_by": "qwen",
          "description": "Defines an enumeration for issue severity levels used in code validation, including error, warning, and info.",
          "references": [],
          "methods": []
        },
        {
          "name": "ValidationIssue",
          "lines": "68-94",
          "tokens": 223,
          "content_hash": "f8e46ec2b2297b548da93d56711cba82",
          "analyzed_by": "qwen",
          "description": "Represents a validation issue with metadata such as severity, location, and suggestions, used for reporting problems during code validation.",
          "references": [],
          "methods": [
            "__str__",
            "to_dict"
          ]
        },
        {
          "name": "TestFileInfo",
          "lines": "98-103",
          "tokens": 42,
          "content_hash": "1eb1ba381b47e1112142251bbd18e308",
          "analyzed_by": "qwen",
          "description": "Stores metadata about a found test file, including its path, related component, test type, and priority.",
          "references": [],
          "methods": []
        },
        {
          "name": "ValidationResult",
          "lines": "107-187",
          "tokens": 759,
          "content_hash": "8fc74c491eda6036f3e179dfd2995509",
          "analyzed_by": "qwen",
          "description": "Stores and summarizes the results of code validation, including issues, test statistics, and runtime checks, with methods to extract errors, warnings, and generate summaries or dictionaries for reporting.",
          "references": [
            "IssueSeverity.ERROR",
            "IssueSeverity.WARNING",
            "field",
            "i.severity",
            "i.to_dict",
            "l.value",
            "parts.append",
            "t.path",
            "t.related_to",
            "t.test_type"
          ],
          "methods": [
            "errors",
            "warnings",
            "error_count",
            "warning_count",
            "summary",
            "to_dict"
          ]
        },
        {
          "name": "ValidatorConfig",
          "lines": "191-226",
          "tokens": 258,
          "content_hash": "b189d3815f3098e121260d53884a1f4c",
          "analyzed_by": "qwen",
          "description": "Configures validation rules and behavior for code changes, including syntax, imports, types, integration, and runtime checks, with options for test execution and concurrency settings.",
          "references": [
            "ValidationLevel.IMPORTS",
            "ValidationLevel.INTEGRATION",
            "ValidationLevel.RUNTIME",
            "ValidationLevel.SYNTAX",
            "ValidationLevel.TYPES",
            "field"
          ],
          "methods": []
        },
        {
          "name": "ChangeValidator",
          "lines": "233-1719",
          "tokens": 11712,
          "content_hash": "705c3f0baec969b665742403ca2c82d3",
          "analyzed_by": "qwen",
          "description": "Multi-level code change validator integrated with VirtualFileSystem, supporting syntax, import, type, integration, runtime, and test validation.",
          "references": [
            "ChangeValidator._STDLIB_MODULES",
            "IssueSeverity.ERROR",
            "IssueSeverity.INFO",
            "IssueSeverity.WARNING",
            "Path",
            "RuntimeTester",
            "SyntaxChecker",
            "TestFileInfo",
            "TestStatus.ERROR",
            "TestStatus.FAILED",
            "TestStatus.PASSED",
            "TestStatus.SKIPPED",
            "TestStatus.TIMEOUT",
            "ValidationIssue",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.INTEGRATION",
            "ValidationLevel.RUNTIME",
            "ValidationLevel.SYNTAX",
            "ValidationLevel.TESTS",
            "ValidationLevel.TYPES",
            "ValidationResult",
            "ValidatorConfig",
            "affected.changed_files",
            "affected.dependent_files",
            "affected.new_files",
            "alias.name",
            "analysis.detected_frameworks",
            "analysis.size_category",
            "analysis.total_timeout_seconds",
            "analysis.total_tokens",
            "arg.arg",
            "args.append",
            "ast.AST",
            "ast.Assign",
            "ast.AsyncFunctionDef",
            "ast.Attribute",
            "ast.ClassDef",
            "ast.FunctionDef",
            "ast.Import",
            "ast.ImportFrom",
            "ast.Name",
            "ast.parse",
            "ast.walk",
            "bracket_match.group",
            "change.is_deletion",
            "changed_file.endswith",
            "check_result.fixed_content",
            "check_result.is_valid",
            "check_result.issues",
            "check_result.was_auto_fixed",
            "click_files.append",
            "cmd.append",
            "dest_path.parent",
            "dest_path.write_text",
            "dynamic_mapping.get",
            "dynamic_mapping.items",
            "f.endswith",
            "failed.strip",
            "file_path.endswith",
            "file_path.replace",
            "full_path.relative_to",
            "get_import_to_package_mapping",
            "i.severity",
            "ignored.add",
            "imp.get",
            "import_name.lower",
            "import_name.replace",
            "imports.append",
            "info.get",
            "issue.column",
            "issue.line",
            "issue.message",
            "issue.suggestion",
            "issues.append",
            "issues.extend",
            "item.is_dir",
            "item.name",
            "json.loads",
            "l.value",
            "level.value",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "m.lower",
            "match.groups",
            "module.replace",
            "module.split",
            "modules.add",
            "n.name",
            "name.lower",
            "new_defs.items",
            "node.args",
            "node.attr",
            "node.body",
            "node.id",
            "node.level",
            "node.lineno",
            "node.module",
            "node.name",
            "node.names",
            "node.targets",
            "normalized.endswith",
            "old_defs.items",
            "p.relative_to",
            "p.startswith",
            "package.lower",
            "packages.add",
            "packages.update",
            "packages_to_add.add",
            "parent.parent",
            "path.startswith",
            "pattern.format",
            "pip_name.lower",
            "pkg.get",
            "proc_result.returncode",
            "proc_result.stdout",
            "py_file.relative_to",
            "re.IGNORECASE",
            "re.match",
            "re.search",
            "rel_path.name",
            "rel_path.parts",
            "result.checked_files",
            "result.duration_ms",
            "result.issues",
            "result.levels_failed",
            "result.levels_passed",
            "result.levels_skipped",
            "result.new_files",
            "result.returncode",
            "result.runtime_files_checked",
            "result.runtime_files_failed",
            "result.runtime_files_passed",
            "result.runtime_files_skipped",
            "result.runtime_test_summary",
            "result.stdout",
            "result.success",
            "result.summary",
            "result.test_files_found",
            "result.tests_failed",
            "result.tests_passed",
            "result.tests_run",
            "result.warnings",
            "root_module.lower",
            "seen.add",
            "setup_cfg_path.exists",
            "setup_cfg_path.write_text",
            "shutil.copy2",
            "shutil.copytree",
            "shutil.rmtree",
            "source_content.split",
            "source_module.split",
            "source_path.parent",
            "stdlib.update",
            "subprocess.TimeoutExpired",
            "subprocess.run",
            "suggestions.append",
            "suggestions.extend",
            "summary.errors",
            "summary.failed",
            "summary.passed",
            "summary.results",
            "summary.skipped",
            "summary.timeouts",
            "summary.to_dict",
            "summary.total_files",
            "sys.executable",
            "sys.stdlib_module_names",
            "t.priority",
            "target.id",
            "tempfile.mkdtemp",
            "test_files.append",
            "test_files.sort",
            "test_info.path",
            "test_path.exists",
            "test_path.lower",
            "test_result.app_type",
            "test_result.details",
            "test_result.file_path",
            "test_result.message",
            "test_result.status",
            "test_result.suggestion",
            "tester.analyze_project",
            "tester.run_all_tests",
            "time.time",
            "var.replace"
          ],
          "methods": [
            "__init__",
            "syntax_checker",
            "validate",
            "validate_syntax_only",
            "validate_before_commit",
            "validate_full",
            "validate_quick",
            "_run_level",
            "_check_syntax",
            "_check_imports",
            "_extract_imports",
            "_validate_import",
            "_validate_relative_import",
            "_path_to_module",
            "_get_staged_modules_set",
            "_path_to_module_from_path",
            "_normalize_path",
            "_is_stdlib_module",
            "_is_pip_package",
            "_is_project_module",
            "_check_name_in_module",
            "_suggest_import_fix",
            "_get_stdlib_modules",
            "_get_pip_packages",
            "_scan_project_modules",
            "_check_types",
            "_parse_mypy_line",
            "_materialize_vfs",
            "_check_integration",
            "_analyze_changes",
            "_extract_definitions",
            "_get_signature",
            "_check_dependent_compatibility",
            "_check_runtime",
            "_check_tests",
            "_find_related_test_files",
            "_normalize_test_path",
            "_detect_test_type",
            "__repr__"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-08T05:06:21.615300+00:00"
    },
    "app/services/file_modifier.py": {
      "name": "file_modifier.py",
      "path": "app/services/file_modifier.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\file_modifier.py",
      "file_hash": "6fd48a29866307d82d98d0c3a5294496",
      "tokens_total": 15103,
      "lines_total": 1936,
      "imports": {
        "lines": "15-22",
        "modules": [
          "__future__.annotations",
          "re",
          "logging",
          "pathlib.Path",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Tuple",
          "typing.TYPE_CHECKING",
          "dataclasses.dataclass",
          "dataclasses.field",
          "enum.Enum"
        ],
        "tokens": 48
      },
      "globals": {
        "lines": "28-46",
        "names": [
          "_tree_sitter_parser",
          "logger"
        ],
        "tokens": 14
      },
      "description": "File modification engine for structured code changes using Tree-sitter parsing, supporting insert/replace/append operations with instruction-based targeting and result tracking.",
      "classes": [
        {
          "name": "ModifyMode",
          "lines": "80-91",
          "tokens": 230,
          "content_hash": "e26d4bd5a9f777c3c0bc7742473f2046",
          "analyzed_by": "qwen",
          "description": "Defines modes for modifying files, such as replacing content, inserting into classes or files, appending, and modifying imports or methods. Used to determine how code should be altered during file manipulation.",
          "references": [],
          "methods": []
        },
        {
          "name": "ModifyInstruction",
          "lines": "95-106",
          "tokens": 191,
          "content_hash": "c474914346a9bc224cb74c70d9f39d6b",
          "analyzed_by": "qwen",
          "description": "Описывает инструкции для модификации исходного кода файла, включая режим модификации, код для вставки/замены и целевые элементы (классы, методы, функции).",
          "references": [],
          "methods": []
        },
        {
          "name": "ModifyResult",
          "lines": "111-129",
          "tokens": 142,
          "content_hash": "fb69fa7c38bc2162e0573000c0b6fbc3",
          "analyzed_by": "qwen",
          "description": "Represents the result of a file modification operation, tracking success status, content changes, and statistics like lines added/removed. Includes methods for converting results to a dictionary format.",
          "references": [
            "field"
          ],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "ApplyResult",
          "lines": "134-142",
          "tokens": 69,
          "content_hash": "4398136d4787f8a15e26835f496dc09c",
          "analyzed_by": "qwen",
          "description": "Represents the outcome of applying a code block in Agent Mode, including success status, file details, changes made, and optional error or new content information.",
          "references": [],
          "methods": []
        },
        {
          "name": "ParsedCodeBlock",
          "lines": "150-199",
          "tokens": 388,
          "content_hash": "674dae0a9b5014c292ff27d248f5ad74",
          "analyzed_by": "qwen",
          "description": "Represents a parsed CODE_BLOCK from a generator's response in Agent Mode, containing metadata and instructions for modifying code files. Integrates with file manipulation and code modification logic via attributes like file_path, mode, and target elements.",
          "references": [],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "FileModifier",
          "lines": "205-1936",
          "tokens": 13355,
          "content_hash": "392b0fa6c9a6a66c4bc7d4b3dc6d27cc",
          "analyzed_by": "qwen",
          "description": "Modifies source code files with awareness of structure (classes, methods, functions), indentation, and imports, supporting various modification modes like insert, replace, and append. Integrates with Tree-sitter for parsing and VirtualFileSystem for file operations.",
          "references": [
            "ApplyResult",
            "ChangeType.CREATE",
            "ChangeType.MODIFY",
            "ModifyInstruction",
            "ModifyMode.APPEND_TO_FILE",
            "ModifyMode.INSERT_IMPORT",
            "ModifyMode.INSERT_INTO_CLASS",
            "ModifyMode.INSERT_INTO_FILE",
            "ModifyMode.PATCH_METHOD",
            "ModifyMode.REPLACE_CLASS",
            "ModifyMode.REPLACE_FILE",
            "ModifyMode.REPLACE_FUNCTION",
            "ModifyMode.REPLACE_IMPORT",
            "ModifyMode.REPLACE_METHOD",
            "ModifyResult",
            "SyntaxChecker",
            "_get_tree_sitter_parser",
            "block.code",
            "block.file_path",
            "block.insert_after",
            "block.insert_before",
            "block.mode",
            "block.replace_pattern",
            "block.target_class",
            "block.target_function",
            "block.target_method",
            "candidates.append",
            "checker.check_python",
            "class_info.indent",
            "class_info.methods",
            "class_info.span",
            "classify_staging_error",
            "code.splitlines",
            "code.strip",
            "content.splitlines",
            "context_line.endswith",
            "context_line_for_indent.lstrip",
            "context_line_for_indent.strip",
            "corrected.changes_made",
            "corrected.message",
            "corrected.success",
            "decl_line.lstrip",
            "existing_content.endswith",
            "existing_content.splitlines",
            "existing_content.strip",
            "failed_result.message",
            "first_line.lstrip",
            "first_method.indent",
            "first_method.span",
            "fix_result.fixed_content",
            "fix_result.was_auto_fixed",
            "formatted_code.endswith",
            "formatted_code.rstrip",
            "formatted_code.splitlines",
            "formatted_code.strip",
            "func_info.indent",
            "func_info.span",
            "imp.text",
            "imports.append",
            "instruction.auto_format",
            "instruction.code",
            "instruction.insert_after",
            "instruction.insert_before",
            "instruction.mode",
            "instruction.preserve_imports",
            "instruction.replace_pattern",
            "instruction.target_class",
            "instruction.target_function",
            "instruction.target_method",
            "l.strip",
            "line.lstrip",
            "line.strip",
            "lines.insert",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "matched_line.lstrip",
            "method.name",
            "method.span",
            "method_info.indent",
            "method_info.span",
            "mode.name",
            "modify_result.changes_made",
            "modify_result.message",
            "modify_result.new_content",
            "modify_result.success",
            "new_content.splitlines",
            "new_parse.has_errors",
            "new_tree.classes",
            "new_tree.functions",
            "parse_result.classes",
            "parse_result.errors",
            "parse_result.get_class",
            "parse_result.get_function",
            "parse_result.get_method",
            "parse_result.has_errors",
            "parse_result.parsed_imports",
            "prev_line.strip",
            "reduce",
            "result.changes_made",
            "result.error_type",
            "result.errors",
            "result.has_errors",
            "result.imports",
            "result.message",
            "result.new_content",
            "result.success",
            "result_lines.append",
            "space_indents.append",
            "stripped.count",
            "stripped.endswith",
            "stripped.startswith",
            "stripped_line.startswith",
            "target_import.span",
            "ts_parser.parse",
            "vfs.read_file",
            "vfs.stage_change"
          ],
          "methods": [
            "__init__",
            "apply",
            "_try_auto_correct",
            "apply_to_vfs",
            "apply_code_block",
            "apply_code_block_to_vfs",
            "_replace_file",
            "_insert_into_class",
            "_insert_into_file",
            "_append_to_file",
            "_replace_method",
            "_replace_function",
            "_replace_class",
            "_insert_import",
            "_replace_import",
            "_patch_method",
            "_find_imports_end",
            "_indent_code",
            "_normalize_and_indent_code",
            "_detect_insertion_context_indent",
            "_validate_and_fix_syntax",
            "_is_declaration_line",
            "_analyze_code_indents",
            "_calculate_new_indent",
            "_detect_indent_from_context",
            "_extract_imports",
            "detect_indent_style",
            "smart_apply",
            "__repr__"
          ]
        }
      ],
      "functions": [
        {
          "name": "_get_tree_sitter_parser",
          "lines": "30-39",
          "tokens": 114,
          "content_hash": "0d2b992fa3bb788dfa2ae1a23de110bd",
          "analyzed_by": "qwen",
          "description": "Provides lazy initialization of a Tree-sitter parser for fault-tolerant code parsing, with fallback handling if the parser is unavailable.",
          "references": [
            "FaultTolerantParser"
          ]
        },
        {
          "name": "classify_staging_error",
          "lines": "49-73",
          "tokens": 322,
          "content_hash": "082937f35c927d98a85951b6bf9a0650",
          "analyzed_by": "qwen",
          "description": "Classifies staging error messages into predefined error types based on keyword patterns. Used to provide structured feedback on common staging errors.",
          "references": [
            "StagingErrorType.CLASS_NOT_FOUND",
            "StagingErrorType.FUNCTION_NOT_FOUND",
            "StagingErrorType.INSERT_PATTERN_NOT_FOUND",
            "StagingErrorType.INVALID_MODE",
            "StagingErrorType.METHOD_NOT_FOUND",
            "StagingErrorType.MISSING_TARGET_CLASS",
            "StagingErrorType.MISSING_TARGET_FUNCTION",
            "StagingErrorType.MISSING_TARGET_METHOD",
            "StagingErrorType.PARSER_UNAVAILABLE",
            "StagingErrorType.UNKNOWN",
            "error_message.lower"
          ]
        }
      ],
      "last_indexed": "2026-01-10T06:22:34.836523+00:00"
    },
    "app/services/syntax_checker.py": {
      "name": "syntax_checker.py",
      "path": "app/services/syntax_checker.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\syntax_checker.py",
      "file_hash": "551431eb5e361e11186ecf6312842618",
      "tokens_total": 5104,
      "lines_total": 625,
      "imports": {
        "lines": "14-25",
        "modules": [
          "__future__.annotations",
          "ast",
          "json",
          "re",
          "logging",
          "subprocess",
          "tempfile",
          "pathlib.Path",
          "typing.Optional",
          "typing.Tuple",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "dataclasses.dataclass",
          "dataclasses.field",
          "enum.Enum"
        ],
        "tokens": 56
      },
      "globals": {
        "lines": "27-27",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Syntax validation and auto-correction engine for Python and JSON code, integrating with autopep8 and Black for formatting.",
      "classes": [
        {
          "name": "SyntaxIssueType",
          "lines": "30-36",
          "tokens": 70,
          "content_hash": "3b32e7c417d6489815546ca568b387e5",
          "analyzed_by": "qwen",
          "description": "Defines an enumeration of syntax issue types for categorizing code or file syntax problems. Used in syntax validation and error reporting.",
          "references": [],
          "methods": []
        },
        {
          "name": "SyntaxIssue",
          "lines": "40-47",
          "tokens": 86,
          "content_hash": "0b24fe69baaa2372a7d1100b7d9d32da",
          "analyzed_by": "qwen",
          "description": "Represents a syntax issue with attributes for type, message, location, suggestion, and criticality. Used in syntax checking to report problems in code structure.",
          "references": [],
          "methods": []
        },
        {
          "name": "SyntaxCheckResult",
          "lines": "51-79",
          "tokens": 249,
          "content_hash": "b6fce5e618ae8fffab500107b9d71dd1",
          "analyzed_by": "qwen",
          "description": "Stores the result of a syntax check, including validity status, issues, and optional auto-fixed content. Provides summaries for critical issues and overall errors/warnings.",
          "references": [
            "field",
            "i.is_critical",
            "issue.is_critical",
            "parts.append"
          ],
          "methods": [
            "has_critical_issues",
            "error_summary"
          ]
        },
        {
          "name": "SyntaxChecker",
          "lines": "82-625",
          "tokens": 4513,
          "content_hash": "c1f16a84a365d27426297d9e6637cd0d",
          "analyzed_by": "qwen",
          "description": "Проверяет синтаксис Python и JSON кода, применяет минимальные автоматические исправления, интегрируется с autopep8 и Black для коррекции отступов.",
          "references": [
            "Path",
            "SyntaxCheckResult",
            "SyntaxIssue",
            "SyntaxIssueType.INDENTATION_ERROR",
            "SyntaxIssueType.JSON_ERROR",
            "SyntaxIssueType.SYNTAX_ERROR",
            "SyntaxIssueType.TAB_SPACE_MIX",
            "ast.parse",
            "code.split",
            "e.colno",
            "e.lineno",
            "e.msg",
            "e.offset",
            "f.name",
            "f.write",
            "fixed_lines.append",
            "i.is_critical",
            "i.issue_type",
            "i.line",
            "i.message",
            "import_line.lstrip",
            "json.JSONDecodeError",
            "json.loads",
            "leading.replace",
            "line.lstrip",
            "line.strip",
            "logger.debug",
            "logger.info",
            "logger.warning",
            "next_stripped.startswith",
            "reduce",
            "result.fixed_content",
            "result.is_valid",
            "result.issues",
            "result.returncode",
            "result.stdout",
            "result.was_auto_fixed",
            "result_lines.append",
            "space_indents.append",
            "stripped.count",
            "stripped.startswith",
            "subprocess.TimeoutExpired",
            "subprocess.run",
            "tempfile.NamedTemporaryFile"
          ],
          "methods": [
            "__init__",
            "check_python",
            "check_json",
            "check_by_extension",
            "validate_and_fix",
            "_check_tab_space_mix",
            "_fix_tab_space_mix",
            "_fix_import_brackets",
            "_try_fix_indentation",
            "_run_autopep8_indent_only",
            "_run_black_check_only",
            "_simple_indent_fix",
            "_check_tool_available",
            "get_line_at",
            "detect_indent_style",
            "__repr__"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-06T13:26:42.026001+00:00"
    },
    "app/services/virtual_fs.py": {
      "name": "virtual_fs.py",
      "path": "app/services/virtual_fs.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\virtual_fs.py",
      "file_hash": "51777306643810028ae888f2c2a781f9",
      "tokens_total": 13685,
      "lines_total": 1798,
      "imports": {
        "lines": "17-32",
        "modules": [
          "__future__.annotations",
          "ast",
          "re",
          "logging",
          "asyncio",
          "pathlib.Path",
          "typing.Dict",
          "typing.Set",
          "typing.Optional",
          "typing.List",
          "typing.Any",
          "typing.TYPE_CHECKING",
          "dataclasses.dataclass",
          "dataclasses.field",
          "datetime.datetime",
          "enum.Enum"
        ],
        "tokens": 59
      },
      "globals": {
        "lines": "34-34",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Virtual file system manager for staging, analyzing, and committing file changes with dependency tracking and integrated backup/history for rollback support.",
      "classes": [
        {
          "name": "ChangeType",
          "lines": "41-45",
          "tokens": 31,
          "content_hash": "73368d375cd6de184218d788a625fecc",
          "analyzed_by": "qwen",
          "description": "Enumerates the types of file changes (create, modify, delete) for tracking modifications in a virtual file system.",
          "references": [],
          "methods": []
        },
        {
          "name": "PendingChange",
          "lines": "49-106",
          "tokens": 493,
          "content_hash": "70d686b00e61283b8f463f07c8fd43d3",
          "analyzed_by": "qwen",
          "description": "Представляет ожидающее применение изменение файла в виртуальной файловой системе, включая тип изменений, содержимое до и после, а также метрики изменений (добавленные/удаленные строки).",
          "references": [
            "ChangeType.CREATE",
            "ChangeType.DELETE",
            "ChangeType.MODIFY",
            "datetime.now",
            "field"
          ],
          "methods": [
            "is_new_file",
            "is_modification",
            "is_deletion",
            "has_changes",
            "lines_added",
            "lines_removed"
          ]
        },
        {
          "name": "AffectedFiles",
          "lines": "110-144",
          "tokens": 415,
          "content_hash": "a1b3e423cf33983e37c45125a5045db8",
          "analyzed_by": "qwen",
          "description": "Represents the result of analyzing affected files in a virtual file system, categorizing them by modification status and relationships, with helper properties and a method to convert data to a dictionary.",
          "references": [
            "field"
          ],
          "methods": [
            "all_modified",
            "all_affected",
            "all_files",
            "to_dict"
          ]
        },
        {
          "name": "CommitResult",
          "lines": "148-172",
          "tokens": 184,
          "content_hash": "d679564941e7327e70678576c12a8c68",
          "analyzed_by": "qwen",
          "description": "Represents the result of applying changes in a virtual file system, tracking file operations and errors. Includes methods for summarizing and serializing the result.",
          "references": [],
          "methods": [
            "total_files",
            "to_dict"
          ]
        },
        {
          "name": "VirtualFileSystem",
          "lines": "178-1798",
          "tokens": 12239,
          "content_hash": "660fa9ab78a1721fb149281310281656",
          "analyzed_by": "qwen",
          "description": "Manages a virtual file system with staging of file changes, dependency analysis, and commit capabilities. Integrates with backup and history managers for change tracking and rollback.",
          "references": [
            "AffectedFiles",
            "ChangeType.CREATE",
            "ChangeType.DELETE",
            "ChangeType.MODIFY",
            "CommitResult",
            "Path",
            "PendingChange",
            "ValueError",
            "affected.changed_files",
            "affected.deleted_files",
            "affected.new_files",
            "affected.to_dict",
            "alias.name",
            "alt_path.exists",
            "ast.Import",
            "ast.ImportFrom",
            "ast.parse",
            "ast.walk",
            "atexit.register",
            "backup_manager.create_backup",
            "backup_manager.end_session",
            "backup_manager.start_session",
            "c.lines_added",
            "c.lines_removed",
            "change.change_type",
            "change.is_deletion",
            "change.is_new_file",
            "change.lines_added",
            "change.lines_removed",
            "change.new_content",
            "change.original_content",
            "change_record.id",
            "change_type.value",
            "changed_file.endswith",
            "content.splitlines",
            "datetime.now",
            "dependencies.add",
            "dependents.add",
            "dest_path.parent",
            "dest_path.write_text",
            "difflib.unified_diff",
            "existing.change_type",
            "existing.original_content",
            "existing_change.original_content",
            "f.endswith",
            "f.write",
            "file_path.endswith",
            "file_path.replace",
            "files.append",
            "formatted_parts.append",
            "found.append",
            "full_path.exists",
            "full_path.parent",
            "full_path.read_text",
            "full_path.relative_to",
            "full_path.unlink",
            "full_path.write_text",
            "history_manager.mark_changes_applied",
            "history_manager.record_file_change",
            "ignored.add",
            "item.is_dir",
            "item.name",
            "json.loads",
            "lines.append",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "logging.getLogger",
            "match.group",
            "module.endswith",
            "module.replace",
            "module.split",
            "module.strip",
            "module_name.replace",
            "module_name.split",
            "modules.add",
            "modules.discard",
            "modules.update",
            "name.lower",
            "name_lower.replace",
            "new_content.strip",
            "new_files.items",
            "new_files.values",
            "node.module",
            "node.names",
            "os.environ",
            "os.getpid",
            "os.name",
            "os.path",
            "os.remove",
            "p.startswith",
            "packages.add",
            "part.startswith",
            "path.is_absolute",
            "path.relative_to",
            "patterns.append",
            "pkg.get",
            "py_file.relative_to",
            "python_exe.exists",
            "python_files.append",
            "re.MULTILINE",
            "re.escape",
            "re.finditer",
            "re.search",
            "rel_path.parts",
            "rel_path.replace",
            "relevant_lines.update",
            "result.applied_files",
            "result.backups",
            "result.change_record_ids",
            "result.changed_files",
            "result.created_files",
            "result.deleted_files",
            "result.dependency_files",
            "result.dependent_files",
            "result.errors",
            "result.new_files",
            "result.returncode",
            "result.stderr",
            "result.stdout",
            "result.success",
            "result.test_files",
            "shutil.copy2",
            "shutil.copytree",
            "staged_files.items",
            "staged_files.values",
            "subprocess.CalledProcessError",
            "subprocess.run",
            "sys.executable",
            "target_path.mkdir",
            "to_preserve.append",
            "to_remove.append",
            "type_emoji.get",
            "venv_dir.is_dir",
            "written_files.append"
          ],
          "methods": [
            "__init__",
            "stage_change",
            "stage_deletion",
            "unstage",
            "discard_all",
            "discard_modifications_only",
            "get_staged_files",
            "get_change",
            "get_staged_modules",
            "get_all_available_modules",
            "get_new_files_content",
            "get_new_files_with_token_limit",
            "get_all_staged_content_with_token_limit",
            "update_staged_file",
            "get_change",
            "has_pending_changes",
            "read_file_original",
            "find_test_files",
            "get_all_python_files",
            "get_project_python",
            "get_project_pip_packages",
            "ensure_project_venv",
            "materialize_to_directory",
            "read_file",
            "read_file_safe",
            "file_exists",
            "file_exists_in_staged",
            "get_affected_files",
            "_find_dependents",
            "_find_dependencies",
            "_find_dependencies_regex",
            "_imports_module",
            "commit_all",
            "commit_all_sync",
            "_normalize_path",
            "_path_to_module",
            "_module_to_path",
            "_iter_python_files",
            "invalidate_cache",
            "get_diff",
            "get_all_diffs",
            "get_status",
            "format_status_message",
            "__repr__"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-07T21:54:25.568207+00:00"
    },
    "scripts/test_agent_foundation.py": {
      "name": "test_agent_foundation.py",
      "path": "scripts/test_agent_foundation.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_agent_foundation.py",
      "file_hash": "c9af79eed774c418f83968bc2926182c",
      "tokens_total": 17710,
      "lines_total": 2429,
      "imports": {
        "lines": "20-35",
        "modules": [
          "asyncio",
          "tempfile",
          "shutil",
          "logging",
          "traceback",
          "os",
          "sys",
          "stat",
          "threading",
          "time",
          "pathlib.Path",
          "datetime.datetime",
          "typing.List",
          "typing.Tuple",
          "typing.Callable",
          "typing.Any",
          "typing.Optional",
          "dataclasses.dataclass",
          "dataclasses.field",
          "concurrent.futures.ThreadPoolExecutor",
          "argparse"
        ],
        "tokens": 72
      },
      "globals": {
        "lines": "38-72",
        "names": [
          "PROJECT_ROOT",
          "ARGS",
          "log_level",
          "logger"
        ],
        "tokens": 36
      },
      "description": "Unit test suite for a Virtual File System (VFS) component, integrating test fixtures, runners, and statistics for staging and reading operations.",
      "classes": [
        {
          "name": "TestResult",
          "lines": "80-88",
          "tokens": 56,
          "content_hash": "8eb7c742466ddff1b7053746ca783399",
          "analyzed_by": "qwen",
          "description": "Represents the result of a single test, including its name, status, duration, error message, details, and skip information.",
          "references": [],
          "methods": []
        },
        {
          "name": "TestStats",
          "lines": "92-99",
          "tokens": 72,
          "content_hash": "4ab39b3bc35c1b3c3d33a2ad6191e25b",
          "analyzed_by": "qwen",
          "description": "Tracks test statistics by category, including total, passed, failed, skipped counts and total execution time.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "TestRunner",
          "lines": "102-278",
          "tokens": 1586,
          "content_hash": "7c706f3c2768f42f31ac82318abd2fbf",
          "analyzed_by": "qwen",
          "description": "Runs and collects results for test cases, supporting async execution, test grouping, skipping, and detailed reporting with statistics and error logging.",
          "references": [
            "ARGS.filter",
            "ARGS.skip_slow",
            "TestResult",
            "TestStats",
            "asyncio.iscoroutinefunction",
            "datetime.now",
            "full_name.lower",
            "logger.debug",
            "logger.error",
            "logger.info",
            "r.error",
            "r.name",
            "r.passed",
            "r.skipped",
            "test_func",
            "traceback.format_exc"
          ],
          "methods": [
            "__init__",
            "group",
            "skip_test",
            "run_test",
            "summary"
          ]
        },
        {
          "name": "TestFixture",
          "lines": "285-447",
          "tokens": 1377,
          "content_hash": "443cdcddd66d485f86804eb112118021",
          "analyzed_by": "qwen",
          "description": "Создаёт и управляет временными тестовыми проектами с заданной структурой, включая генерацию файлов, проверку существования, чтение/запись и управление правами, интегрируется с tempfile, shutil, os, stat.",
          "references": [
            "ARGS.no_cleanup",
            "Path",
            "dir_path.chmod",
            "file_path.chmod",
            "logger.info",
            "os.walk",
            "path.chmod",
            "path.parent",
            "path.write_text",
            "shutil.rmtree",
            "stat.S_IRGRP",
            "stat.S_IROTH",
            "stat.S_IRUSR",
            "stat.S_IRWXU",
            "tempfile.mkdtemp"
          ],
          "methods": [
            "__init__",
            "setup",
            "_create_project_structure",
            "cleanup",
            "_restore_permissions",
            "read_file",
            "write_file",
            "file_exists",
            "make_readonly",
            "make_writable"
          ]
        }
      ],
      "functions": [
        {
          "name": "parse_args",
          "lines": "46-53",
          "tokens": 129,
          "content_hash": "fba5e2f08b4ef9bf148643323fb2d240",
          "analyzed_by": "qwen",
          "description": "Parses command-line arguments for test configuration, including verbosity, skipping slow tests, test filtering, and temp file cleanup control.",
          "references": [
            "argparse.ArgumentParser",
            "parser.add_argument",
            "parser.parse_args"
          ]
        },
        {
          "name": "test_vfs_initialization",
          "lines": "454-464",
          "tokens": 88,
          "content_hash": "442f7aa48857c57e837899ede2aa264d",
          "analyzed_by": "qwen",
          "description": "Tests the initialization of the VirtualFileSystem, verifying root path and initial state of pending changes.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "vfs._pending_changes",
            "vfs.has_pending_changes",
            "vfs.project_root"
          ]
        },
        {
          "name": "test_vfs_staging_new_file",
          "lines": "467-483",
          "tokens": 154,
          "content_hash": "ceee054661585775bdeda4e66382f600",
          "analyzed_by": "qwen",
          "description": "Tests staging of a new file in the virtual file system, verifying creation metadata and pending change status. Uses VirtualFileSystem to stage and validate a new Python file.",
          "references": [
            "ChangeType.CREATE",
            "VirtualFileSystem",
            "change.change_type",
            "change.file_path",
            "change.is_new_file",
            "change.new_content",
            "change.original_content",
            "fixture.project_root",
            "vfs.has_pending_changes",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_staging_modification",
          "lines": "486-503",
          "tokens": 167,
          "content_hash": "d5b2806004f2e877d0921537779bab6b",
          "analyzed_by": "qwen",
          "description": "Tests the staging of modifications to an existing file in a virtual file system, verifying change type, content comparison, and line differences. Integrates with VirtualFileSystem and TestFixture for file operations.",
          "references": [
            "ChangeType.MODIFY",
            "VirtualFileSystem",
            "change.change_type",
            "change.is_new_file",
            "change.lines_added",
            "change.lines_removed",
            "change.new_content",
            "change.original_content",
            "fixture.project_root",
            "fixture.read_file",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_staging_deletion",
          "lines": "506-520",
          "tokens": 125,
          "content_hash": "70441f806c5515b0232f0c5fcecf0d34",
          "analyzed_by": "deepseek",
          "description": "Unit test verifying VFS deletion staging behavior, validates change metadata and virtual file existence state.",
          "references": [
            "ChangeType.DELETE",
            "VirtualFileSystem",
            "change.change_type",
            "change.new_content",
            "fixture.project_root",
            "vfs.file_exists",
            "vfs.stage_deletion"
          ]
        },
        {
          "name": "test_vfs_read_staged",
          "lines": "523-543",
          "tokens": 179,
          "content_hash": "b665fd5119ef6078c07ef029d74ed4aa",
          "analyzed_by": "qwen",
          "description": "Tests reading a file with pending changes in a virtual file system, ensuring staged content is returned instead of the original. Uses VirtualFileSystem to read, stage, and verify file content.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "vfs.read_file",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_read_original",
          "lines": "546-562",
          "tokens": 147,
          "content_hash": "7f760edd6dcefc190fbea062a252b982",
          "analyzed_by": "qwen",
          "description": "Tests reading the original content of a file from the Virtual File System without pending changes, ensuring read_file_original returns the unmodified version. Uses file staging to verify original content retrieval.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "fixture.read_file",
            "vfs.read_file_original",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_unstage",
          "lines": "565-586",
          "tokens": 181,
          "content_hash": "903e51936f3c2652544b8026510a70f8",
          "analyzed_by": "qwen",
          "description": "Tests the unstage functionality of a Virtual File System, verifying removal of staged changes and handling of invalid unstages.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "vfs._pending_changes",
            "vfs.stage_change",
            "vfs.unstage"
          ]
        },
        {
          "name": "test_vfs_discard_all",
          "lines": "589-605",
          "tokens": 137,
          "content_hash": "9af4cd1b3557f4336c0d8e48c6f0e2d3",
          "analyzed_by": "qwen",
          "description": "Tests discarding all staged changes in a virtual file system, verifying the count and state of pending changes. Integrates with VirtualFileSystem for file staging and cleanup.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "vfs._pending_changes",
            "vfs.discard_all",
            "vfs.has_pending_changes",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_affected_files_dependents",
          "lines": "608-625",
          "tokens": 193,
          "content_hash": "0e563a1983b8270a0ad7d5c3fc84b7a6",
          "analyzed_by": "qwen",
          "description": "Tests identification of dependent files affected by changes in a virtual file system, using staged modifications and import relationships. Integrates with VirtualFileSystem for file tracking and analysis.",
          "references": [
            "VirtualFileSystem",
            "affected.changed_files",
            "affected.dependent_files",
            "fixture.project_root",
            "fixture.read_file",
            "vfs.get_affected_files",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_affected_files_dependencies",
          "lines": "628-644",
          "tokens": 179,
          "content_hash": "d4b0a6699e686a085ec668d49ea37034",
          "analyzed_by": "qwen",
          "description": "Tests detection of file dependencies in a virtual file system, using staged changes to identify affected and dependent files. Integrates with VirtualFileSystem for file tracking and dependency analysis.",
          "references": [
            "VirtualFileSystem",
            "affected.dependency_files",
            "fixture.project_root",
            "fixture.read_file",
            "vfs.get_affected_files",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_diff_generation",
          "lines": "647-664",
          "tokens": 158,
          "content_hash": "e0b6c30fe0c5f6c4455d4f6299cd1e8e",
          "analyzed_by": "qwen",
          "description": "Тестирует генерацию diff-файла в виртуальной файловой системе, проверяя наличие изменений и корректность формата. Использует VirtualFileSystem и утверждения для валидации результата.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "fixture.read_file",
            "original.replace",
            "vfs.get_diff",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_get_all_diffs",
          "lines": "667-682",
          "tokens": 134,
          "content_hash": "100d5fc0a51d660c7a18d84b3d193c89",
          "analyzed_by": "qwen",
          "description": "Tests retrieving diffs for all staged files in a virtual file system, verifies correct file count and presence.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "vfs.get_all_diffs",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_status",
          "lines": "685-705",
          "tokens": 186,
          "content_hash": "f10e81d139daa0813770552b73817604",
          "analyzed_by": "qwen",
          "description": "Tests the status retrieval of a virtual file system by staging changes and verifying the expected status output, including change types and counts. Integrates with VirtualFileSystem and file staging logic.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "fixture.read_file",
            "vfs.get_status",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_format_status_message",
          "lines": "708-721",
          "tokens": 111,
          "content_hash": "b0efcb072f53d998f3a6488bd37c3b0c",
          "analyzed_by": "qwen",
          "description": "Tests the formatting of a status message for a virtual file system, using staged changes and asserting expected content in the output.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "vfs.format_status_message",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_commit_sync",
          "lines": "724-753",
          "tokens": 278,
          "content_hash": "f05d04cba48224263c4c0a691cf1db72",
          "analyzed_by": "qwen",
          "description": "Тестирует синхронный коммит изменений в виртуальной файловой системе, проверяя создание, модификацию и сохранение файлов, а также состояние staging-области. Использует VirtualFileSystem и утверждения для проверки результатов.",
          "references": [
            "VirtualFileSystem",
            "fixture.file_exists",
            "fixture.project_root",
            "fixture.read_file",
            "result.applied_files",
            "result.created_files",
            "result.errors",
            "result.success",
            "result.total_files",
            "vfs.commit_all_sync",
            "vfs.has_pending_changes",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_commit_with_backup",
          "lines": "756-788",
          "tokens": 300,
          "content_hash": "013b58b74e85af9b8d125a4b6ea64a9a",
          "analyzed_by": "qwen",
          "description": "Tests the commit process with backup functionality using a virtual file system and backup manager, ensuring file modifications are committed, backed up, and restorable. Integrates with VirtualFileSystem and BackupManager.",
          "references": [
            "BackupManager",
            "VirtualFileSystem",
            "backup.list_sessions",
            "backup.restore_file",
            "fixture.project_root",
            "fixture.read_file",
            "original.replace",
            "result.backups",
            "result.success",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_multiple_modifications_same_file",
          "lines": "791-808",
          "tokens": 176,
          "content_hash": "832b3374de8b0e00eca9315ed46eb2e8",
          "analyzed_by": "qwen",
          "description": "Tests handling of multiple modifications to the same file in a virtual file system, ensuring that the latest change overwrites previous ones and only one pending change is tracked. Integrates with VirtualFileSystem for file staging and reading.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "vfs._pending_changes",
            "vfs.read_file",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_empty_file",
          "lines": "811-833",
          "tokens": 174,
          "content_hash": "f7358747497410690b093a0b50983900",
          "analyzed_by": "qwen",
          "description": "Tests handling of empty files in the Virtual File System, verifies staging, committing, and file creation with empty content. Integrates with TestFixture for file operations and assertions.",
          "references": [
            "VirtualFileSystem",
            "change.lines_added",
            "change.new_content",
            "fixture.file_exists",
            "fixture.project_root",
            "fixture.read_file",
            "result.success",
            "vfs._pending_changes",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_get_all_python_files",
          "lines": "836-848",
          "tokens": 112,
          "content_hash": "d99f58d5f63a63d7015c20e708530178",
          "analyzed_by": "qwen",
          "description": "Tests the retrieval of all Python files in a virtual file system, verifying the presence of specific files like \"auth.py\" and \"helpers.py\". Integrates with VirtualFileSystem and test fixtures for project root setup.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "vfs.get_all_python_files"
          ]
        },
        {
          "name": "test_vfs_find_test_files",
          "lines": "851-865",
          "tokens": 128,
          "content_hash": "b15a034fca43e2d32f76adaf7a992602",
          "analyzed_by": "qwen",
          "description": "Tests the ability of the VirtualFileSystem to locate corresponding test files, integrates with the file system and test fixture setup.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "fixture.write_file",
            "vfs.find_test_files"
          ]
        },
        {
          "name": "test_vfs_invalidate_cache",
          "lines": "868-886",
          "tokens": 139,
          "content_hash": "6a06777950ea3b409f34386276d32b8f",
          "analyzed_by": "qwen",
          "description": "Tests the cache invalidation functionality of the VirtualFileSystem, ensuring cached data is properly cleared.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "vfs._affected_cache",
            "vfs._iter_python_files",
            "vfs._python_files_cache",
            "vfs.get_affected_files",
            "vfs.invalidate_cache"
          ]
        },
        {
          "name": "test_vfs_pending_changes_property",
          "lines": "889-902",
          "tokens": 110,
          "content_hash": "66f6e8797fb3013de58787cae63b8318",
          "analyzed_by": "qwen",
          "description": "Tests the pending_changes property of the VirtualFileSystem, verifying that staged changes are correctly stored and accessible.",
          "references": [
            "VirtualFileSystem",
            "change.new_content",
            "fixture.project_root",
            "vfs._pending_changes",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_backup_initialization",
          "lines": "909-918",
          "tokens": 74,
          "content_hash": "f7d7138aeb4504a4ecfba9a228d61346",
          "analyzed_by": "qwen",
          "description": "Tests the initialization of BackupManager, verifying project root and backup directory creation.",
          "references": [
            "BackupManager",
            "backup.backup_root",
            "backup.project_root",
            "fixture.project_root"
          ]
        },
        {
          "name": "test_backup_session_lifecycle",
          "lines": "921-948",
          "tokens": 225,
          "content_hash": "6c152b3e7d4ac11093296870832902b1",
          "analyzed_by": "qwen",
          "description": "Tests the full lifecycle of a backup session, including session creation, backup creation, and session termination, using the BackupManager service.",
          "references": [
            "BackupManager",
            "backup.create_backup",
            "backup.end_session",
            "backup.get_current_session",
            "backup.start_session",
            "ended.session_id",
            "fixture.project_root",
            "session.backups",
            "session.description",
            "session.session_id"
          ]
        },
        {
          "name": "test_backup_restore_file",
          "lines": "951-975",
          "tokens": 207,
          "content_hash": "0def7e3599a9c62196d3000082c06152",
          "analyzed_by": "qwen",
          "description": "Tests the backup and restoration of a single file using the BackupManager, verifies file corruption and successful restoration. Integrates with TestFixture for file manipulation and BackupManager for backup operations.",
          "references": [
            "BackupManager",
            "backup.create_backup",
            "backup.end_session",
            "backup.restore_file",
            "backup.start_session",
            "fixture.project_root",
            "fixture.read_file",
            "fixture.write_file",
            "session.session_id"
          ]
        },
        {
          "name": "test_backup_restore_session",
          "lines": "978-1010",
          "tokens": 265,
          "content_hash": "52bdb1be9a5e6ab5506e2d5d949e3a6c",
          "analyzed_by": "qwen",
          "description": "Tests the full session restoration functionality using a BackupManager, including creating backups, corrupting files, and verifying successful restoration. Integrates with file operations via a TestFixture.",
          "references": [
            "BackupManager",
            "backup.create_backup",
            "backup.end_session",
            "backup.restore_session",
            "backup.start_session",
            "fixture.project_root",
            "fixture.read_file",
            "fixture.write_file",
            "originals.items",
            "results.values",
            "session.session_id"
          ]
        },
        {
          "name": "test_backup_list_sessions",
          "lines": "1013-1030",
          "tokens": 145,
          "content_hash": "b408b0eaf7b107eb6e6707a619251579",
          "analyzed_by": "qwen",
          "description": "Tests listing backup sessions by creating and verifying multiple sessions in reverse order, using the BackupManager service.",
          "references": [
            "BackupManager",
            "backup.create_backup",
            "backup.end_session",
            "backup.list_sessions",
            "backup.start_session",
            "fixture.project_root"
          ]
        },
        {
          "name": "test_backup_nonexistent_file",
          "lines": "1033-1045",
          "tokens": 91,
          "content_hash": "5fa528a956488fc82564d02f2ad9ca98",
          "analyzed_by": "qwen",
          "description": "Tests the backup process for a nonexistent file, ensuring the BackupManager correctly returns None without errors. Uses BackupManager and assertion for validation.",
          "references": [
            "BackupManager",
            "backup.create_backup",
            "backup.end_session",
            "backup.start_session",
            "fixture.project_root"
          ]
        },
        {
          "name": "test_backup_duplicate_file_in_session",
          "lines": "1048-1068",
          "tokens": 185,
          "content_hash": "8aac905428b2677e977c651db2200a6a",
          "analyzed_by": "qwen",
          "description": "Tests handling of duplicate file backups within the same session by attempting to back up the same file twice and ensuring no errors occur. Integrates with BackupManager for session and backup operations.",
          "references": [
            "BackupManager",
            "backup.create_backup",
            "backup.end_session",
            "backup.start_session",
            "fixture.project_root"
          ]
        },
        {
          "name": "test_backup_empty_session",
          "lines": "1071-1083",
          "tokens": 96,
          "content_hash": "f1c5696d34c12e8feee655eb940d7855",
          "analyzed_by": "qwen",
          "description": "Tests handling of an empty backup session with no backups created, using the BackupManager service. Verifies that ending the session returns a non-None result with an empty backups list.",
          "references": [
            "BackupManager",
            "backup.end_session",
            "backup.start_session",
            "ended.backups",
            "fixture.project_root"
          ]
        },
        {
          "name": "test_modifier_replace_file",
          "lines": "1090-1108",
          "tokens": 133,
          "content_hash": "b082cb873073b9d2417542b7b93dffba",
          "analyzed_by": "qwen",
          "description": "Tests replacing an entire file's content using the FileModifier, verifies success status and new content.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.REPLACE_FILE",
            "modifier.apply",
            "result.message",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_insert_into_class",
          "lines": "1111-1148",
          "tokens": 276,
          "content_hash": "4823bc5419cdb05ade000786a52d4e47",
          "analyzed_by": "qwen",
          "description": "Tests inserting a new method into a Python class using FileModifier, verifying correct placement, indentation, and structure. Integrates with ModifyInstruction and ModifyMode for class modification logic.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "method_line.lstrip",
            "modifier.apply",
            "result.lines_added",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_replace_method",
          "lines": "1151-1185",
          "tokens": 227,
          "content_hash": "0c6733a5811fb3714db67384a27ee89f",
          "analyzed_by": "qwen",
          "description": "Tests replacing a method in a class using the FileModifier, ensuring the new method is applied correctly without affecting other methods. Integrates with ModifyInstruction and ModifyMode for precise code modification.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.REPLACE_METHOD",
            "modifier.apply",
            "result.message",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_replace_function",
          "lines": "1188-1219",
          "tokens": 202,
          "content_hash": "cba08271401e0d2b772946f2dec59c7d",
          "analyzed_by": "qwen",
          "description": "Tests replacing a specific function in a module-level code string using FileModifier, ensuring the replacement preserves other functions and updates the target function's content.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.REPLACE_FUNCTION",
            "modifier.apply",
            "result.message",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_replace_class",
          "lines": "1222-1258",
          "tokens": 187,
          "content_hash": "4b0384755f540e32f0872fc501e55779",
          "analyzed_by": "qwen",
          "description": "Tests replacing a class in source code using FileModifier, verifies content preservation and replacement accuracy.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.REPLACE_CLASS",
            "modifier.apply",
            "result.message",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_insert_import",
          "lines": "1261-1297",
          "tokens": 204,
          "content_hash": "edfaf85ef10eabcb70715bb9099feb08",
          "analyzed_by": "qwen",
          "description": "Tests inserting an import statement into a Python file using FileModifier, ensuring the import is added correctly and not duplicated.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.INSERT_IMPORT",
            "modifier.apply",
            "result.lines_added",
            "result.new_content",
            "result.success",
            "result2.message"
          ]
        },
        {
          "name": "test_modifier_append_to_file",
          "lines": "1300-1325",
          "tokens": 154,
          "content_hash": "f81a857eafcdbef774cd53747c825bbe",
          "analyzed_by": "qwen",
          "description": "Tests appending code to the end of a file using FileModifier, verifies content order and success status.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.APPEND_TO_FILE",
            "modifier.apply",
            "result.message",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_smart_apply",
          "lines": "1328-1352",
          "tokens": 139,
          "content_hash": "11bb76b47553305d59442b78cab0ef93",
          "analyzed_by": "qwen",
          "description": "Tests the smart application of code modifications by adding a method to an existing class using FileModifier, ensuring correct integration and syntax.",
          "references": [
            "FileModifier",
            "modifier.smart_apply",
            "result.message",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_class_not_found",
          "lines": "1355-1377",
          "tokens": 141,
          "content_hash": "3117b3741acf4ca9d41738e63865c243",
          "analyzed_by": "qwen",
          "description": "Tests error handling when a non-existent class is referenced in a modification instruction, using the FileModifier service to verify failure messages.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "modifier.apply",
            "result.message",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_syntax_error_handling",
          "lines": "1380-1403",
          "tokens": 166,
          "content_hash": "fb56620a5fb1655964254ea5d36090f9",
          "analyzed_by": "qwen",
          "description": "Tests handling of syntax errors in code modification, uses FileModifier to apply changes and verifies error detection.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "modifier.apply",
            "result.message",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_indent_detection",
          "lines": "1406-1428",
          "tokens": 147,
          "content_hash": "e71677180b4354c07a8bc75e20d5129d",
          "analyzed_by": "qwen",
          "description": "Tests the detection of indentation style (spaces or tabs) in code using the FileModifier class. Verifies correct identification of 2-space and tab-based indentation.",
          "references": [
            "FileModifier",
            "modifier.detect_indent_style"
          ]
        },
        {
          "name": "test_modifier_apply_to_vfs",
          "lines": "1431-1454",
          "tokens": 177,
          "content_hash": "1c55bf42f5cd70e593b9a2d1d1543c68",
          "analyzed_by": "qwen",
          "description": "Tests integration between FileModifier and VirtualFileSystem by applying code modifications to a virtual file, verifying success status, pending changes, and content insertion. Uses VFS for file operations and assertions.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "VirtualFileSystem",
            "fixture.project_root",
            "modifier.apply_to_vfs",
            "result.success",
            "vfs.has_pending_changes",
            "vfs.read_file"
          ]
        },
        {
          "name": "test_modifier_preserve_trailing_newline",
          "lines": "1457-1474",
          "tokens": 131,
          "content_hash": "1a2ff0000e2c7514a77d6a5e2bb0760d",
          "analyzed_by": "qwen",
          "description": "Tests that a trailing newline is preserved after applying a file modification, using the FileModifier service to replace content.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.REPLACE_FILE",
            "modifier.apply",
            "result.new_content"
          ]
        },
        {
          "name": "test_modifier_method_with_decorators",
          "lines": "1477-1512",
          "tokens": 206,
          "content_hash": "c32d585c66043373b5a83aa936519bfd",
          "analyzed_by": "qwen",
          "description": "Tests replacing a method with decorators in a Python class using the FileModifier, ensuring other methods and structure remain intact.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.REPLACE_METHOD",
            "modifier.apply",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_nested_class",
          "lines": "1515-1547",
          "tokens": 190,
          "content_hash": "a7718a940e6896cabbbc8621f30e91b6",
          "analyzed_by": "qwen",
          "description": "Tests adding a method to an outer class while preserving its nested class structure using the FileModifier, ensuring code insertion maintains existing inner classes.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "modifier.apply",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_mode_mapping",
          "lines": "1550-1570",
          "tokens": 197,
          "content_hash": "cd4d95b3b91040e1b6bbae79df58528d",
          "analyzed_by": "qwen",
          "description": "Tests the MODE_MAPPING dictionary in FileModifier for correct key presence and value assignments, ensuring proper mapping of modification modes.",
          "references": [
            "FileModifier",
            "ModifyMode.INSERT_INTO_CLASS",
            "ModifyMode.REPLACE_FILE",
            "modifier.MODE_MAPPING"
          ]
        },
        {
          "name": "test_modifier_parsed_code_block",
          "lines": "1573-1597",
          "tokens": 170,
          "content_hash": "b04c26b347f7bedd5f4654c9462534fc",
          "analyzed_by": "qwen",
          "description": "Tests the ParsedCodeBlock and apply_code_block functionality by inserting a method into a class, verifying the modification was successful and logged correctly. Uses FileModifier and assertion checks for validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "modifier.apply_code_block",
            "result.changes_made",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_modifier_apply_code_block_to_vfs",
          "lines": "1600-1621",
          "tokens": 170,
          "content_hash": "e4641df0a6cfe562faf296faad5a6bc2",
          "analyzed_by": "qwen",
          "description": "Tests the apply_code_block_to_vfs method by applying a code block to a virtual file system and verifying the changes. Integrates with VirtualFileSystem and FileModifier to simulate code insertion into a file.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "VirtualFileSystem",
            "fixture.project_root",
            "modifier.apply_code_block_to_vfs",
            "result.success",
            "vfs.has_pending_changes",
            "vfs.read_file"
          ]
        },
        {
          "name": "test_modifier_invalid_mode",
          "lines": "1624-1643",
          "tokens": 123,
          "content_hash": "b263485b18e1e984e5896da74bf9f291",
          "analyzed_by": "qwen",
          "description": "Tests handling of an unknown MODE in FileModifier, verifies failure response and error message.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "modifier.apply_code_block",
            "result.message",
            "result.success"
          ]
        },
        {
          "name": "test_large_file_handling",
          "lines": "1650-1683",
          "tokens": 291,
          "content_hash": "cb400c1626d9f9f03b3f3315cb6657cb",
          "analyzed_by": "qwen",
          "description": "Tests handling of large files (1MB+) using a virtual file system, measuring staging and commit performance. Integrates with VirtualFileSystem for file operations and TestFixture for environment setup.",
          "references": [
            "VirtualFileSystem",
            "change.lines_added",
            "fixture.file_exists",
            "fixture.project_root",
            "lines.append",
            "result.success",
            "time.time",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_unicode_content",
          "lines": "1686-1725",
          "tokens": 382,
          "content_hash": "3089945da3254775335b4558bd092344",
          "analyzed_by": "qwen",
          "description": "Тестирует обработку Unicode-содержимого в виртуальной файловой системе, включая сохранение, коммит и чтение файлов с кириллицей, иероглифами, эмодзи и другими символами. Использует VirtualFileSystem и утверждения для проверки корректности содержимого.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "fixture.read_file",
            "result.success",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_unicode_file_path",
          "lines": "1728-1749",
          "tokens": 187,
          "content_hash": "af8eb47360aa95a41b85b041cc3076a0",
          "analyzed_by": "qwen",
          "description": "Tests handling of Unicode file paths in a virtual file system, including directory creation, file staging, and content verification. Integrates with VirtualFileSystem and test fixtures for file operations.",
          "references": [
            "VirtualFileSystem",
            "fixture.file_exists",
            "fixture.project_root",
            "fixture.read_file",
            "result.success",
            "unicode_dir.mkdir",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_concurrent_staging",
          "lines": "1752-1783",
          "tokens": 258,
          "content_hash": "4a0b8ed8aeceeadcef6b1dd74f1b7c2e",
          "analyzed_by": "qwen",
          "description": "Tests concurrent file staging using a thread pool, integrates with VirtualFileSystem to verify atomic commits and error handling.",
          "references": [
            "ThreadPoolExecutor",
            "VirtualFileSystem",
            "errors.append",
            "executor.submit",
            "f.result",
            "fixture.project_root",
            "result.success",
            "result.total_files",
            "results.append",
            "vfs._pending_changes",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_readonly_file_handling",
          "lines": "1786-1816",
          "tokens": 285,
          "content_hash": "063f8c5182b8344126796442abb29db1",
          "analyzed_by": "qwen",
          "description": "Tests handling of read-only files in a virtual file system, integrates with VirtualFileSystem and TestFixture for file permission manipulation and validation. Skips execution on Windows due to different file permission models.",
          "references": [
            "VirtualFileSystem",
            "fixture.make_readonly",
            "fixture.make_writable",
            "fixture.project_root",
            "result.errors",
            "result.success",
            "sys.platform",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_deeply_nested_path",
          "lines": "1819-1835",
          "tokens": 147,
          "content_hash": "8e078a4088b485eb1fb5bf26acce6ca1",
          "analyzed_by": "qwen",
          "description": "Tests the handling of deeply nested file paths in a virtual file system, using staged changes and commit operations to verify file creation and existence. Integrates with VirtualFileSystem and test fixtures for file system validation.",
          "references": [
            "VirtualFileSystem",
            "fixture.file_exists",
            "fixture.project_root",
            "result.success",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_special_characters_in_content",
          "lines": "1838-1871",
          "tokens": 235,
          "content_hash": "4c69ddf721240c03112594a12874754f",
          "analyzed_by": "qwen",
          "description": "Tests handling of special characters in file content using a virtual file system, ensuring proper preservation of escape sequences and formatting in committed files. Integrates with VirtualFileSystem for staging and committing changes.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "fixture.read_file",
            "result.success",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_empty_directory_structure",
          "lines": "1874-1891",
          "tokens": 150,
          "content_hash": "72592d93d1f33ea7155d2a50fb6ed2e1",
          "analyzed_by": "qwen",
          "description": "Tests the creation of a file in a non-existent directory structure using the VirtualFileSystem, ensuring directories are created and the file is saved correctly.",
          "references": [
            "VirtualFileSystem",
            "fixture.file_exists",
            "fixture.project_root",
            "result.success",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_binary_like_content",
          "lines": "1894-1915",
          "tokens": 188,
          "content_hash": "71c3b86fa974c9c4b6edb60ae44c6d77",
          "analyzed_by": "qwen",
          "description": "Tests handling of binary-like content in a virtual file system, verifies file staging, committing, and content integrity. Integrates with VirtualFileSystem and file-reading utilities.",
          "references": [
            "VirtualFileSystem",
            "fixture.project_root",
            "fixture.read_file",
            "result.success",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_full_workflow",
          "lines": "1922-1973",
          "tokens": 458,
          "content_hash": "6fb8b6d1891f6c2548d30b348a8d5a9e",
          "analyzed_by": "qwen",
          "description": "Tests the full workflow of file modification, versioning, backup, and restoration using VirtualFileSystem, BackupManager, and FileModifier. Integrates with test fixtures for file validation and rollback verification.",
          "references": [
            "BackupManager",
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "VirtualFileSystem",
            "affected.changed_files",
            "backup.list_sessions",
            "backup.restore_file",
            "commit_result.backups",
            "commit_result.success",
            "fixture.project_root",
            "fixture.read_file",
            "modifier.apply_to_vfs",
            "result.success",
            "vfs.commit_all_sync",
            "vfs.get_affected_files",
            "vfs.get_diff",
            "vfs.get_status"
          ]
        },
        {
          "name": "test_multiple_files_workflow",
          "lines": "1976-2013",
          "tokens": 307,
          "content_hash": "3dce63e4dc404ae8a0378d2938c6603e",
          "analyzed_by": "qwen",
          "description": "Tests a workflow for modifying multiple files using VirtualFileSystem and BackupManager, applying code changes to classes and verifying the modifications and commit process. Integrates with FileModifier for code insertion and assertion checks.",
          "references": [
            "BackupManager",
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "VirtualFileSystem",
            "commit_result.applied_files",
            "commit_result.success",
            "fixture.project_root",
            "modifier.apply_to_vfs",
            "result.success",
            "vfs.commit_all_sync",
            "vfs.get_status"
          ]
        },
        {
          "name": "test_rollback_on_partial_failure",
          "lines": "2016-2044",
          "tokens": 281,
          "content_hash": "3ea763623ffac9ca7313b24d8686ee81",
          "analyzed_by": "qwen",
          "description": "Тестирует откат изменений в виртуальной файловой системе при частичной ошибке, используя бэкап-менеджер для восстановления предыдущего состояния. Интегрирует VirtualFileSystem и BackupManager.",
          "references": [
            "BackupManager",
            "VirtualFileSystem",
            "backup.list_sessions",
            "backup.restore_session",
            "fixture.file_exists",
            "fixture.project_root",
            "fixture.read_file",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_chain_modifications",
          "lines": "2047-2091",
          "tokens": 350,
          "content_hash": "0974f7ecda88f7f4010af0102ed8d7e2",
          "analyzed_by": "qwen",
          "description": "Tests applying a chain of file modifications to a single file using VirtualFileSystem and FileModifier, verifying insertion of methods and imports. Integrates with TestFixture for file handling and assertions.",
          "references": [
            "FileModifier",
            "ModifyInstruction",
            "ModifyMode.INSERT_IMPORT",
            "ModifyMode.INSERT_INTO_CLASS",
            "VirtualFileSystem",
            "commit_result.success",
            "fixture.project_root",
            "fixture.read_file",
            "modifier.apply_to_vfs",
            "result.message",
            "result.success",
            "vfs.commit_all_sync"
          ]
        },
        {
          "name": "test_vfs_with_change_type_enum",
          "lines": "2094-2111",
          "tokens": 154,
          "content_hash": "c1ed3f42a6ec7b11b38ded0730ed1111",
          "analyzed_by": "qwen",
          "description": "Tests the usage of the ChangeType enum in VirtualFileSystem for staging file changes, ensuring correct assignment of CREATE and MODIFY types.",
          "references": [
            "ChangeType.CREATE",
            "ChangeType.MODIFY",
            "VirtualFileSystem",
            "change.change_type",
            "change2.change_type",
            "fixture.project_root",
            "fixture.read_file",
            "vfs.stage_change"
          ]
        },
        {
          "name": "main",
          "lines": "2118-2424",
          "tokens": 2078,
          "content_hash": "c0ae0a5579d60a22b5a64eeacacddcdf",
          "analyzed_by": "qwen",
          "description": "Runs a comprehensive test suite for agent foundation components including VirtualFileSystem, BackupManager, and FileModifier, using asyncio with test setup/teardown and logging.",
          "references": [
            "ARGS.filter",
            "ARGS.no_cleanup",
            "ARGS.skip_slow",
            "TestFixture",
            "TestRunner",
            "datetime.now",
            "fixture.cleanup",
            "fixture.setup",
            "fixture.temp_dir",
            "runner.group",
            "runner.run_test",
            "runner.summary"
          ]
        }
      ],
      "last_indexed": "2025-12-22T12:27:36.153286+00:00"
    },
    "scripts/test_agent_stage2.py": {
      "name": "test_agent_stage2.py",
      "path": "scripts/test_agent_stage2.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_agent_stage2.py",
      "file_hash": "d2b6e844332093d7f897ea688df66142",
      "tokens_total": 17273,
      "lines_total": 2395,
      "imports": {
        "lines": "26-39",
        "modules": [
          "asyncio",
          "logging",
          "sys",
          "os",
          "tempfile",
          "shutil",
          "time",
          "argparse",
          "traceback",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Any",
          "typing.Optional",
          "typing.Callable",
          "dataclasses.dataclass",
          "dataclasses.field",
          "datetime.datetime",
          "concurrent.futures.ThreadPoolExecutor"
        ],
        "tokens": 66
      },
      "globals": {
        "lines": "42-490",
        "names": [
          "PROJECT_ROOT",
          "ARGS",
          "log_level",
          "logger",
          "TEST_PROJECT_FILES",
          "TEST_CHANGES",
          "TEST_INVALID_FILES",
          "TEST_UNICODE_FILES"
        ],
        "tokens": 2187
      },
      "description": "Unit test suite for VirtualFileSystem operations, integrating command-line configuration, isolated test fixtures, and result reporting.",
      "classes": [
        {
          "name": "TestResult",
          "lines": "89-107",
          "tokens": 178,
          "content_hash": "b8384f524b7d531420623d9ea0ca2a3c",
          "analyzed_by": "qwen",
          "description": "Stores the result of a single test, including status, duration, error, and metadata, with a formatted string representation for logging or output.",
          "references": [
            "field"
          ],
          "methods": [
            "__str__"
          ]
        },
        {
          "name": "TestSuite",
          "lines": "111-152",
          "tokens": 378,
          "content_hash": "8889e270461e37bed210cfd588f9f160",
          "analyzed_by": "qwen",
          "description": "Manages a collection of test results with statistics tracking and reporting, integrates with logging and output formatting for test execution summaries.",
          "references": [
            "TestResult",
            "field",
            "logger.info",
            "r.duration_ms",
            "r.passed",
            "r.skipped",
            "result.name",
            "result.passed"
          ],
          "methods": [
            "passed",
            "failed",
            "skipped",
            "total_time_ms",
            "add",
            "skip",
            "summary"
          ]
        },
        {
          "name": "TestFixture",
          "lines": "497-540",
          "tokens": 407,
          "content_hash": "ec0004b3a2c000043bdd7d67a29bb29a",
          "analyzed_by": "qwen",
          "description": "Manages isolated test environments with temporary directories and file operations, integrates with logging and shutil for cleanup.",
          "references": [
            "ARGS.no_cleanup",
            "Path",
            "full_path.parent",
            "full_path.write_text",
            "logger.debug",
            "logger.info",
            "path.parent",
            "path.write_text",
            "shutil.rmtree",
            "tempfile.mkdtemp"
          ],
          "methods": [
            "__init__",
            "setup",
            "cleanup",
            "path",
            "read_file",
            "write_file",
            "file_exists"
          ]
        }
      ],
      "functions": [
        {
          "name": "parse_args",
          "lines": "50-57",
          "tokens": 122,
          "content_hash": "f766f882ae531c49f09b05b1b5bf1a5b",
          "analyzed_by": "qwen",
          "description": "Parses command-line arguments for test configuration, including verbosity, skipping slow tests, test filtering, and temp file cleanup control.",
          "references": [
            "argparse.ArgumentParser",
            "parser.add_argument",
            "parser.parse_args"
          ]
        },
        {
          "name": "run_test",
          "lines": "547-585",
          "tokens": 275,
          "content_hash": "542b6cb66f147552070f3244b867e3dd",
          "analyzed_by": "qwen",
          "description": "Runs a single test with error handling and filtering, supports both async and sync test functions. Integrates with command-line arguments for test filtering and skipping slow tests.",
          "references": [
            "ARGS.filter",
            "ARGS.skip_slow",
            "TestResult",
            "logger.debug",
            "logger.error",
            "name.lower",
            "test_func",
            "time.time",
            "traceback.format_exc"
          ]
        },
        {
          "name": "test_vfs_initialization",
          "lines": "592-620",
          "tokens": 211,
          "content_hash": "d1950ff7fbbce039efb22a7f3a2f6a17",
          "analyzed_by": "deepseek",
          "description": "Unit test for VirtualFileSystem initialization, validates root path and empty state with fixture lifecycle management.",
          "references": [
            "Path",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "time.time",
            "vfs.get_staged_files",
            "vfs.has_pending_changes",
            "vfs.project_root"
          ]
        },
        {
          "name": "test_vfs_read_file",
          "lines": "623-663",
          "tokens": 309,
          "content_hash": "eae1b160b906e74c2d43fa006cd0ccf2",
          "analyzed_by": "qwen",
          "description": "Tests the file reading functionality of the VirtualFileSystem class, including reading existing and non-existing files, checking file existence, and using a safe read method with a default value. Uses a test fixture for setup and cleanup.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "time.time",
            "vfs.file_exists",
            "vfs.read_file",
            "vfs.read_file_safe"
          ]
        },
        {
          "name": "test_vfs_stage_modify",
          "lines": "666-714",
          "tokens": 410,
          "content_hash": "a135ce103d42f59da89754db58e9379d",
          "analyzed_by": "deepseek",
          "description": "Unit test for VirtualFileSystem's staging of file modifications, validating change metadata and content persistence.",
          "references": [
            "ChangeType.MODIFY",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "change.change_type",
            "change.has_changes",
            "change.is_deletion",
            "change.is_modification",
            "change.is_new_file",
            "change.lines_added",
            "change.lines_removed",
            "fixture.cleanup",
            "fixture.path",
            "time.time",
            "vfs.read_file",
            "vfs.read_file_original",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_stage_create",
          "lines": "717-757",
          "tokens": 356,
          "content_hash": "412557f18719e9f448060d57554aaab2",
          "analyzed_by": "qwen",
          "description": "Tests staging a new file in the Virtual File System, verifying creation flags and in-memory existence without affecting the actual disk. Integrates with TestFixture for environment setup and cleanup.",
          "references": [
            "ChangeType.CREATE",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "change.change_type",
            "change.is_modification",
            "change.is_new_file",
            "change.original_content",
            "fixture.cleanup",
            "fixture.file_exists",
            "fixture.path",
            "time.time",
            "vfs.file_exists",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_stage_delete",
          "lines": "760-796",
          "tokens": 300,
          "content_hash": "4eda0a3b783c3d755dae0df52bc5152e",
          "analyzed_by": "qwen",
          "description": "Tests the staging of a file deletion in a virtual file system, verifying the change type, existence in VFS, and actual file presence on disk. Uses a test fixture for setup and cleanup.",
          "references": [
            "ChangeType.DELETE",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "change.change_type",
            "change.is_deletion",
            "fixture.cleanup",
            "fixture.file_exists",
            "fixture.path",
            "time.time",
            "vfs.file_exists",
            "vfs.stage_deletion"
          ]
        },
        {
          "name": "test_vfs_stage_with_change_type",
          "lines": "799-831",
          "tokens": 263,
          "content_hash": "bbc23b17fe3ee68c4e1cb6d94acb9400",
          "analyzed_by": "qwen",
          "description": "Tests staging functionality in VirtualFileSystem with explicit ChangeType (CREATE/MODIFY), integrates with TestFixture for setup and cleanup.",
          "references": [
            "ChangeType.CREATE",
            "ChangeType.MODIFY",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "change1.change_type",
            "change2.change_type",
            "fixture.cleanup",
            "fixture.path",
            "fixture.read_file",
            "time.time",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_affected_files",
          "lines": "834-883",
          "tokens": 392,
          "content_hash": "0e1de3ee316ae9d8941b1e2de62fa8c0",
          "analyzed_by": "qwen",
          "description": "Tests the detection of affected files in a virtual file system, including staging changes, retrieving affected files, and validating their categorization and serialization.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "affected.all_affected",
            "affected.all_modified",
            "affected.changed_files",
            "affected.dependent_files",
            "affected.new_files",
            "affected.to_dict",
            "fixture.cleanup",
            "fixture.path",
            "time.time",
            "vfs.get_affected_files",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_find_tests",
          "lines": "886-915",
          "tokens": 205,
          "content_hash": "d63883944cd3ea4d0604be8476b90cb5",
          "analyzed_by": "qwen",
          "description": "Tests the ability of the VirtualFileSystem to locate corresponding test files for a given module, specifically checking for \"tests/test_models.py\" when provided with \"app/models.py\". Integrates with TestFixture for setup and cleanup.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "time.time",
            "vfs.find_test_files"
          ]
        },
        {
          "name": "test_vfs_unstage",
          "lines": "918-957",
          "tokens": 295,
          "content_hash": "b85e6ae5685dc8c0d28876f2d86dd5df",
          "analyzed_by": "qwen",
          "description": "Tests the unstaging functionality of a Virtual File System, including unstaging individual files and discarding all staged changes. Integrates with VirtualFileSystem and uses a test fixture for setup and cleanup.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "time.time",
            "vfs.discard_all",
            "vfs.has_pending_changes",
            "vfs.stage_change",
            "vfs.unstage"
          ]
        },
        {
          "name": "test_vfs_diff",
          "lines": "960-998",
          "tokens": 295,
          "content_hash": "8d6079b0047437685e33806cb5200250",
          "analyzed_by": "qwen",
          "description": "Tests the generation of diffs in a virtual file system, including staging changes and retrieving both individual and all staged diffs. Integrates with TestFixture for setup and cleanup.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "fixture.read_file",
            "original.replace",
            "time.time",
            "vfs.get_all_diffs",
            "vfs.get_diff",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_status",
          "lines": "1001-1039",
          "tokens": 293,
          "content_hash": "73adc20d1828f1a6c77e700e0f857059",
          "analyzed_by": "qwen",
          "description": "Tests the VirtualFileSystem status functionality by staging changes and verifying the returned status and formatted message. Integrates with TestFixture for setup and cleanup.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "fixture.read_file",
            "time.time",
            "vfs.format_status_message",
            "vfs.get_status",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_commit",
          "lines": "1042-1088",
          "tokens": 386,
          "content_hash": "a7f662d3128e9a7f46b1f6719ddf9650",
          "analyzed_by": "qwen",
          "description": "Tests the commit functionality of the VirtualFileSystem, verifying file staging, committing, and disk synchronization. Integrates with TestFixture for environment setup and cleanup.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.file_exists",
            "fixture.path",
            "fixture.read_file",
            "result.applied_files",
            "result.created_files",
            "result.errors",
            "result.success",
            "result.to_dict",
            "result.total_files",
            "time.time",
            "vfs.commit_all_sync",
            "vfs.has_pending_changes",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_commit_delete",
          "lines": "1091-1126",
          "tokens": 253,
          "content_hash": "d47628d555fa0a5034c89bcf64cf0c66",
          "analyzed_by": "qwen",
          "description": "Tests the deletion commit functionality of a Virtual File System, ensuring staged files are properly deleted and tracked in the commit result. Integrates with TestFixture for environment setup and cleanup.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.file_exists",
            "fixture.path",
            "result.deleted_files",
            "result.errors",
            "result.success",
            "time.time",
            "vfs.commit_all_sync",
            "vfs.stage_deletion"
          ]
        },
        {
          "name": "test_vfs_unicode_content",
          "lines": "1129-1169",
          "tokens": 316,
          "content_hash": "3cff92522c934c00db25898ad72e29bc",
          "analyzed_by": "qwen",
          "description": "Tests handling of Unicode content in a virtual file system, including staging, reading, committing, and verifying files with Russian, Japanese, emoji, and special characters. Integrates with VirtualFileSystem and TestFixture for setup and cleanup.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "fixture.read_file",
            "result.success",
            "time.time",
            "vfs.commit_all_sync",
            "vfs.read_file",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_unicode_path",
          "lines": "1172-1210",
          "tokens": 296,
          "content_hash": "c71bd89068d58f7e231e1e4fc352ae41",
          "analyzed_by": "qwen",
          "description": "Тестирует работу виртуальной файловой системы с Unicode-путями, включая создание, чтение и коммит файлов на диске. Использует TestFixture для подготовки и очистки окружения.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.file_exists",
            "fixture.path",
            "result.success",
            "time.time",
            "vfs.commit_all_sync",
            "vfs.file_exists",
            "vfs.read_file",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_vfs_all_python_files",
          "lines": "1213-1243",
          "tokens": 230,
          "content_hash": "8fe31d8ae0690fceb44140b07bd504b4",
          "analyzed_by": "qwen",
          "description": "Tests the retrieval of all Python files using the VirtualFileSystem, verifying presence of expected files like models.py and user_service.py. Integrates with TestFixture for setup and cleanup.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "time.time",
            "vfs.get_all_python_files"
          ]
        },
        {
          "name": "test_vfs_cache_invalidation",
          "lines": "1246-1279",
          "tokens": 233,
          "content_hash": "c8a04f977da5e36e102972982b243b4f",
          "analyzed_by": "qwen",
          "description": "Tests the cache invalidation functionality of the VirtualFileSystem, ensuring cached data is properly reset after invalidation.",
          "references": [
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "time.time",
            "vfs._affected_cache",
            "vfs._python_files_cache",
            "vfs.get_affected_files",
            "vfs.get_all_python_files",
            "vfs.invalidate_cache"
          ]
        },
        {
          "name": "test_syntax_checker_valid",
          "lines": "1286-1322",
          "tokens": 239,
          "content_hash": "4e92e8c59b7e7248a56f6abb1dba64d2",
          "analyzed_by": "qwen",
          "description": "Tests valid Python syntax using the SyntaxChecker class, ensuring no critical issues or auto-fixes are needed for properly formatted code.",
          "references": [
            "SyntaxChecker",
            "TestResult",
            "checker.check_python",
            "result.has_critical_issues",
            "result.is_valid",
            "result.issues",
            "result.was_auto_fixed",
            "time.time"
          ]
        },
        {
          "name": "test_syntax_checker_syntax_error",
          "lines": "1325-1359",
          "tokens": 281,
          "content_hash": "4be7fcee8eebf6b018e3d1b592765001",
          "analyzed_by": "qwen",
          "description": "Tests the detection of syntax errors in Python code using the SyntaxChecker, verifies invalid status, critical issues, and presence of syntax-related errors.",
          "references": [
            "SyntaxChecker",
            "SyntaxIssueType.INDENTATION_ERROR",
            "SyntaxIssueType.SYNTAX_ERROR",
            "TestResult",
            "checker.check_python",
            "i.issue_type",
            "i.message",
            "result.has_critical_issues",
            "result.is_valid",
            "result.issues",
            "time.time"
          ]
        },
        {
          "name": "test_syntax_checker_indent_error",
          "lines": "1362-1387",
          "tokens": 179,
          "content_hash": "f16dc2387bc815abb1c8813c8f69a726",
          "analyzed_by": "qwen",
          "description": "Tests detection of Python indentation errors using the SyntaxChecker service, validating that invalid files are correctly flagged.",
          "references": [
            "SyntaxChecker",
            "TestResult",
            "checker.check_python",
            "i.message",
            "result.is_valid",
            "result.issues",
            "time.time"
          ]
        },
        {
          "name": "test_syntax_checker_tab_space_mix",
          "lines": "1390-1419",
          "tokens": 219,
          "content_hash": "20d433e382a661738d8b6ca2cf444e22",
          "analyzed_by": "qwen",
          "description": "Tests detection of mixed tabs and spaces in Python code using SyntaxChecker, integrates with test files and TestResult for reporting.",
          "references": [
            "SyntaxChecker",
            "SyntaxIssueType.TAB_SPACE_MIX",
            "TestResult",
            "checker.check_python",
            "i.issue_type",
            "result.issues",
            "time.time"
          ]
        },
        {
          "name": "test_syntax_checker_auto_fix",
          "lines": "1422-1455",
          "tokens": 239,
          "content_hash": "a220757271d60e341389bd0bf0200628",
          "analyzed_by": "qwen",
          "description": "Tests the auto-fix functionality of the SyntaxChecker, ensuring it converts tab characters to spaces in Python code.",
          "references": [
            "SyntaxChecker",
            "TestResult",
            "checker.check_python",
            "result.fixed_content",
            "result.was_auto_fixed",
            "time.time"
          ]
        },
        {
          "name": "test_syntax_checker_json",
          "lines": "1458-1492",
          "tokens": 246,
          "content_hash": "79176b878a0c3f17fa01b81e843517cd",
          "analyzed_by": "qwen",
          "description": "Tests the JSON validation functionality of the SyntaxChecker class, verifying valid, invalid, and empty JSON cases.",
          "references": [
            "SyntaxChecker",
            "TestResult",
            "checker.check_json",
            "empty_result.is_valid",
            "result.is_valid",
            "time.time"
          ]
        },
        {
          "name": "test_syntax_checker_unicode",
          "lines": "1495-1520",
          "tokens": 174,
          "content_hash": "277b4ebc9f9a4476b15862d161faf63f",
          "analyzed_by": "qwen",
          "description": "Tests the syntax checker's handling of Unicode Python code by validating a predefined Unicode code sample. Uses the SyntaxChecker class and returns a TestResult indicating success or failure.",
          "references": [
            "SyntaxChecker",
            "TestResult",
            "checker.check_python",
            "result.is_valid",
            "result.issues",
            "time.time"
          ]
        },
        {
          "name": "test_validator_syntax_level",
          "lines": "1527-1564",
          "tokens": 288,
          "content_hash": "114886932064f7cbd7e80c3bbef6705f",
          "analyzed_by": "qwen",
          "description": "Tests syntax-level validation of staged code changes using a virtual file system and ChangeValidator, returning a TestResult with validation outcome and metrics. Integrates with VirtualFileSystem and ValidationLevel.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "result.checked_files",
            "result.issues",
            "result.levels_passed",
            "result.success",
            "time.time",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validator_syntax_error",
          "lines": "1567-1602",
          "tokens": 281,
          "content_hash": "693ae6be27e1c244b6b4fe233ce81148",
          "analyzed_by": "qwen",
          "description": "Tests detection of syntax errors by the ChangeValidator during code validation, integrates with VirtualFileSystem for staged file changes.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "result.error_count",
            "result.levels_failed",
            "result.success",
            "time.time",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validator_imports_level",
          "lines": "1605-1644",
          "tokens": 318,
          "content_hash": "7be9438b06234446fe678b2107bc0e5a",
          "analyzed_by": "qwen",
          "description": "Tests import validation level by staging a file and checking if syntax and import validations pass using the ChangeValidator. Integrates with VirtualFileSystem and TestFixture for setup and cleanup.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "l.value",
            "result.error_count",
            "result.levels_failed",
            "result.levels_passed",
            "time.time",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validator_import_error",
          "lines": "1647-1688",
          "tokens": 322,
          "content_hash": "c6a2153333d0be963a9e775342a685f8",
          "analyzed_by": "qwen",
          "description": "Тестирует обнаружение ошибок импорта в изменённых файлах с помощью ChangeValidator, проверяя наличие ошибок после стейджа с неверными импортами. Использует VirtualFileSystem и асинхронную валидацию.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "i.level",
            "result.issues",
            "time.time",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validator_types_level",
          "lines": "1691-1732",
          "tokens": 301,
          "content_hash": "af215bffcf1a422306007059b1cb62cc",
          "analyzed_by": "qwen",
          "description": "Tests type validation (using mypy) for staged code changes in a virtual file system. Integrates with VirtualFileSystem and ChangeValidator.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.TYPES",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "result.error_count",
            "result.levels_passed",
            "result.levels_skipped",
            "time.time",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validator_integration_level",
          "lines": "1735-1772",
          "tokens": 283,
          "content_hash": "5fdaa07ecfcbb65696434396c232aae0",
          "analyzed_by": "qwen",
          "description": "Tests integration-level validation of file changes using a virtual file system and ChangeValidator, checking syntax and integration issues. Integrates with VirtualFileSystem and ValidationLevel enums.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.INTEGRATION",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "i.level",
            "result.issues",
            "result.levels_passed",
            "time.time",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validator_new_files",
          "lines": "1775-1820",
          "tokens": 334,
          "content_hash": "7d417632b959f0411c5ca6e613f03cb9",
          "analyzed_by": "qwen",
          "description": "Tests validation of newly staged files in a virtual file system, checking detection and validation results for syntax, imports, and integration. Integrates with VirtualFileSystem and ChangeValidator.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.INTEGRATION",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "result.new_files",
            "result.success",
            "time.time",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validator_quick_methods",
          "lines": "1823-1863",
          "tokens": 277,
          "content_hash": "d09c9cb3aa35fdd1331311e25e12d9b0",
          "analyzed_by": "qwen",
          "description": "Tests the quick validation methods (syntax-only and syntax + imports) of the ChangeValidator, using a VirtualFileSystem to stage and validate code changes. Integrates with TestFixture for setup and cleanup, and returns a structured TestResult.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "result1.success",
            "result2.success",
            "time.time",
            "validator.validate_quick",
            "validator.validate_syntax_only",
            "vfs.discard_all",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validator_test_discovery",
          "lines": "1866-1903",
          "tokens": 299,
          "content_hash": "27df4597bdc0c6d122c0cdd2f1584fed",
          "analyzed_by": "qwen",
          "description": "Тестирует обнаружение тестовых файлов валидатором изменений в виртуальной файловой системе, проверяя заполнение списка найденных тестов без их запуска. Использует VirtualFileSystem и ChangeValidator.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "result.test_files_found",
            "t.path",
            "time.time",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validator_result_summary",
          "lines": "1906-1944",
          "tokens": 273,
          "content_hash": "76a00f176291c11d563b2a32da6f03ef",
          "analyzed_by": "qwen",
          "description": "Tests the summary and serialization methods of ValidationResult by validating staged file changes with a syntax check, using VirtualFileSystem and ChangeValidator.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "result.summary",
            "result.to_dict",
            "time.time",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_full_workflow",
          "lines": "1951-2008",
          "tokens": 463,
          "content_hash": "57bf7d8bce8eb07fa0936cb8cb697a04",
          "analyzed_by": "qwen",
          "description": "Tests the full workflow of staging, validating, and committing file changes using a virtual file system, integrating with ChangeValidator for syntax and import checks.",
          "references": [
            "ChangeValidator",
            "TestFixture",
            "TestResult",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "commit_result.created_files",
            "commit_result.errors",
            "commit_result.success",
            "fixture.cleanup",
            "fixture.file_exists",
            "fixture.path",
            "time.time",
            "validation_result.success",
            "validator.validate",
            "vfs.commit_all_sync",
            "vfs.get_status",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_workflow_with_backup",
          "lines": "2011-2061",
          "tokens": 372,
          "content_hash": "08cd3a0d24e48a8970d2ce1ce6230df3",
          "analyzed_by": "qwen",
          "description": "Tests a file modification workflow with backup and restore functionality using VirtualFileSystem and BackupManager. Validates changes, backups, and restoration of file content.",
          "references": [
            "BackupManager",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "backup.list_sessions",
            "backup.restore_file",
            "fixture.cleanup",
            "fixture.path",
            "fixture.read_file",
            "result.backups",
            "result.success",
            "time.time",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_concurrent_staging",
          "lines": "2064-2113",
          "tokens": 353,
          "content_hash": "075be26e823359e020f70e1149b7b873",
          "analyzed_by": "qwen",
          "description": "Tests concurrent file staging using a thread pool, verifies no errors occur and all staged files are committed successfully. Integrates with VirtualFileSystem for file operations.",
          "references": [
            "TestFixture",
            "TestResult",
            "ThreadPoolExecutor",
            "VirtualFileSystem",
            "errors.append",
            "executor.submit",
            "f.result",
            "fixture.cleanup",
            "fixture.path",
            "result.success",
            "result.total_files",
            "results.append",
            "time.time",
            "vfs._pending_changes",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_large_file",
          "lines": "2116-2177",
          "tokens": 460,
          "content_hash": "8f1d18784a10c9495e3904f7235d6e71",
          "analyzed_by": "qwen",
          "description": "Tests handling of large files by generating a ~500KB Python file, checking syntax, staging, and committing it using VirtualFileSystem and SyntaxChecker. Measures performance metrics for each step.",
          "references": [
            "SyntaxChecker",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "checker.check_python",
            "fixture.cleanup",
            "fixture.path",
            "lines.append",
            "result.success",
            "syntax_result.is_valid",
            "time.time",
            "vfs.commit_all_sync",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_performance",
          "lines": "2180-2247",
          "tokens": 526,
          "content_hash": "676db895072d923d28504902e3c1abaf",
          "analyzed_by": "qwen",
          "description": "Measures the performance of virtual file system operations and validation stages, including initialization, staging changes, syntax checks, and validation, ensuring total execution stays under 30 seconds. Integrates with VirtualFileSystem, SyntaxChecker, and ChangeValidator.",
          "references": [
            "ChangeValidator",
            "SyntaxChecker",
            "TEST_CHANGES.items",
            "TEST_CHANGES.values",
            "TestFixture",
            "TestResult",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.SYNTAX",
            "VirtualFileSystem",
            "checker.check_python",
            "fixture.cleanup",
            "fixture.path",
            "time.time",
            "timings.values",
            "validator.validate",
            "vfs.get_affected_files",
            "vfs.stage_change"
          ]
        },
        {
          "name": "run_all_tests",
          "lines": "2254-2390",
          "tokens": 1237,
          "content_hash": "df45427d5ee3782e1bf66c34ae013891",
          "analyzed_by": "qwen",
          "description": "Runs integration tests for an agent system, including virtual file system, syntax checking, change validation, and workflow integration tests, with support for skipping slow tests and filtering.",
          "references": [
            "ARGS.filter",
            "ARGS.skip_slow",
            "TestSuite",
            "all_suites.append",
            "datetime.now",
            "integration_suite.add",
            "integration_suite.skip",
            "integration_suite.summary",
            "logger.info",
            "result.error",
            "result.name",
            "result.passed",
            "result.skipped",
            "s.failed",
            "s.passed",
            "s.skipped",
            "s.total_time_ms",
            "suite.failed",
            "suite.name",
            "suite.passed",
            "suite.results",
            "suite.skipped",
            "suite.total_time_ms",
            "syntax_suite.add",
            "syntax_suite.summary",
            "test_concurrent_staging",
            "test_full_workflow",
            "test_large_file",
            "test_performance",
            "test_syntax_checker_auto_fix",
            "test_syntax_checker_indent_error",
            "test_syntax_checker_json",
            "test_syntax_checker_syntax_error",
            "test_syntax_checker_tab_space_mix",
            "test_syntax_checker_unicode",
            "test_syntax_checker_valid",
            "test_validator_import_error",
            "test_validator_imports_level",
            "test_validator_integration_level",
            "test_validator_new_files",
            "test_validator_quick_methods",
            "test_validator_result_summary",
            "test_validator_syntax_error",
            "test_validator_syntax_level",
            "test_validator_test_discovery",
            "test_validator_types_level",
            "test_vfs_affected_files",
            "test_vfs_all_python_files",
            "test_vfs_cache_invalidation",
            "test_vfs_commit",
            "test_vfs_commit_delete",
            "test_vfs_diff",
            "test_vfs_find_tests",
            "test_vfs_initialization",
            "test_vfs_read_file",
            "test_vfs_stage_create",
            "test_vfs_stage_delete",
            "test_vfs_stage_modify",
            "test_vfs_stage_with_change_type",
            "test_vfs_status",
            "test_vfs_unicode_content",
            "test_vfs_unicode_path",
            "test_vfs_unstage",
            "test_workflow_with_backup",
            "validator_suite.add",
            "validator_suite.summary",
            "vfs_suite.add",
            "vfs_suite.summary"
          ]
        }
      ],
      "last_indexed": "2025-12-22T12:27:01.220604+00:00"
    },
    "scripts/test_agent_stage3.py": {
      "name": "test_agent_stage3.py",
      "path": "scripts/test_agent_stage3.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_agent_stage3.py",
      "file_hash": "b5b2538cc2a75ce102fc027dc7a39fc9",
      "tokens_total": 8181,
      "lines_total": 1031,
      "imports": {
        "lines": "22-32",
        "modules": [
          "sys",
          "os",
          "asyncio",
          "logging",
          "tempfile",
          "shutil",
          "argparse",
          "pathlib.Path",
          "datetime.datetime",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "dataclasses.dataclass"
        ],
        "tokens": 48
      },
      "globals": {
        "lines": "35-369",
        "names": [
          "PROJECT_ROOT",
          "SAMPLE_AUTH_SERVICE",
          "MOCK_GENERATOR_RESPONSE_SINGLE",
          "MOCK_GENERATOR_RESPONSE_MULTIPLE",
          "MOCK_ORCHESTRATOR_INSTRUCTION"
        ],
        "tokens": 818
      },
      "description": "Unit test suite for validating code generation agent components, including file modification, code block parsing, and import verification.",
      "classes": [
        {
          "name": "TestResult",
          "lines": "80-87",
          "tokens": 57,
          "content_hash": "3cf2eb5f11d82ae0ad08a590d7d1e42a",
          "analyzed_by": "qwen",
          "description": "Represents the result of a single test, including its name, status, duration, message, additional details, and error information if applicable.",
          "references": [],
          "methods": []
        },
        {
          "name": "TestRunner",
          "lines": "90-213",
          "tokens": 1089,
          "content_hash": "066a7c62c90f03d47584f0709f074d75",
          "analyzed_by": "qwen",
          "description": "Запускает синхронные и асинхронные тесты, собирает результаты и выводит отчет, использует логирование и форматирует вывод тестовой информации.",
          "references": [
            "TestResult",
            "datetime.now",
            "logging.Logger",
            "r.duration_ms",
            "r.message",
            "r.name",
            "r.passed",
            "test_func",
            "test_result.error",
            "test_result.message",
            "test_result.passed",
            "traceback.format_exc"
          ],
          "methods": [
            "__init__",
            "run_test",
            "run_test_async",
            "print_summary"
          ]
        }
      ],
      "functions": [
        {
          "name": "setup_logging",
          "lines": "42-72",
          "tokens": 270,
          "content_hash": "8f3522ebee07111e1aba557fe26b212f",
          "analyzed_by": "qwen",
          "description": "Configures colored console logging with customizable verbosity, using ANSI escape codes for different log levels.",
          "references": [
            "ColorFormatter",
            "handler.setFormatter",
            "logger.addHandler",
            "logger.setLevel",
            "logging.DEBUG",
            "logging.Formatter",
            "logging.INFO",
            "logging.Logger",
            "logging.StreamHandler",
            "logging.getLogger",
            "record.levelname"
          ]
        },
        {
          "name": "test_imports",
          "lines": "376-427",
          "tokens": 361,
          "content_hash": "9aa75c14b4061477deac9d45959f7240",
          "analyzed_by": "qwen",
          "description": "Verifies that all required modules and components are importable for the code generation and validation system, including file handling, virtual file system, agents, and prompt templates.",
          "references": [
            "errors.append"
          ]
        },
        {
          "name": "test_mode_mapping",
          "lines": "430-467",
          "tokens": 278,
          "content_hash": "9f8fa823814110188106893872a95731",
          "analyzed_by": "qwen",
          "description": "Tests the MODE_MAPPING attribute in FileModifier to ensure all required modification modes are present and correctly mapped to ModifyMode instances.",
          "references": [
            "FileModifier",
            "invalid.append",
            "mapping.items",
            "mapping.keys",
            "modifier.MODE_MAPPING"
          ]
        },
        {
          "name": "test_parse_code_blocks_single",
          "lines": "470-494",
          "tokens": 239,
          "content_hash": "aa737a8f380d0401d1bc7a5a6625740a",
          "analyzed_by": "qwen",
          "description": "Tests the parsing of a single CODE_BLOCK from a mock response, verifying correct extraction of file path, mode, class, method, and code content.",
          "references": [
            "block.code",
            "block.file_path",
            "block.mode",
            "block.target_class",
            "block.target_method",
            "block.to_dict",
            "checks.append",
            "parse_agent_code_blocks"
          ]
        },
        {
          "name": "test_parse_code_blocks_multiple",
          "lines": "497-517",
          "tokens": 215,
          "content_hash": "4ac915db24f034a5e274487927d95046",
          "analyzed_by": "qwen",
          "description": "Tests the parsing of multiple code blocks from a generator response, verifying correct count, modes, and insertion context. Integrates with parse_agent_code_blocks from the code generator module.",
          "references": [
            "b.mode",
            "parse_agent_code_blocks"
          ]
        },
        {
          "name": "test_apply_code_block_replace_method",
          "lines": "520-563",
          "tokens": 415,
          "content_hash": "7b595e510e3b841ad5f180bfe7a14f26",
          "analyzed_by": "deepseek",
          "description": "Unit test for method replacement functionality in a file modifier service, validating signature updates and content preservation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "modifier.apply_code_block",
            "result.lines_added",
            "result.lines_removed",
            "result.message",
            "result.new_content",
            "result.success",
            "result.warnings"
          ]
        },
        {
          "name": "test_apply_code_block_insert_class",
          "lines": "566-600",
          "tokens": 294,
          "content_hash": "55fa16a43796abae93fa8ddc812e60b5",
          "analyzed_by": "qwen",
          "description": "Tests inserting a method into a class using a CODE_BLOCK, verifying correct placement and content in the modified file. Integrates with FileModifier and ParsedCodeBlock.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "modifier.apply_code_block",
            "result.lines_added",
            "result.message",
            "result.new_content",
            "result.success",
            "result.warnings"
          ]
        },
        {
          "name": "test_apply_code_block_insert_import",
          "lines": "603-631",
          "tokens": 245,
          "content_hash": "0f1ca15a42dacec0ce33949ed4ed4132",
          "analyzed_by": "qwen",
          "description": "Tests the insertion of an import statement into a Python file using the FileModifier, ensuring the import is correctly added and positioned before the class definition.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "result.warnings"
          ]
        },
        {
          "name": "test_apply_code_block_replace_file",
          "lines": "634-678",
          "tokens": 345,
          "content_hash": "e3b9b5a46afb43c02ed4d8db80aaf230",
          "analyzed_by": "qwen",
          "description": "Tests creating a new file by applying a CODE_BLOCK with REPLACE_FILE mode, verifying the generated content includes expected functions. Integrates with FileModifier and ParsedCodeBlock.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "modifier.apply_code_block",
            "result.lines_added",
            "result.message",
            "result.new_content",
            "result.success"
          ]
        },
        {
          "name": "test_vfs_integration",
          "lines": "681-734",
          "tokens": 487,
          "content_hash": "8e2854076288f802f1b627194fc45fb6",
          "analyzed_by": "qwen",
          "description": "Тестирует интеграцию FileModifier с VirtualFileSystem, проверяя применение изменений к виртуальному файлу без модификации реального файла. Использует ParsedCodeBlock для замены метода в виртуальной файловой системе и проверяет статус изменений, содержимое и изоляцию от реальной файловой системы.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "VirtualFileSystem",
            "app_dir.mkdir",
            "auth_file.read_text",
            "auth_file.write_text",
            "modifier.apply_code_block_to_vfs",
            "result.message",
            "result.success",
            "vfs.get_staged_files",
            "vfs.has_pending_changes",
            "vfs.read_file"
          ]
        },
        {
          "name": "test_prompt_templates_agent_mode",
          "lines": "737-774",
          "tokens": 298,
          "content_hash": "2d8399203121426a9c146a9e342db671",
          "analyzed_by": "qwen",
          "description": "Tests the configuration and formatting of prompt templates for Agent Mode, ensuring system/user prompts are correctly structured and contain required elements.",
          "references": [
            "errors.append",
            "format_code_generator_prompt_agent",
            "prompts.get"
          ]
        },
        {
          "name": "test_prompt_templates_validator",
          "lines": "777-812",
          "tokens": 274,
          "content_hash": "3016cd4eb5e422204308a1e19ff1b598",
          "analyzed_by": "qwen",
          "description": "Validates AI Validator prompt templates by checking for required keywords, non-empty system prompts, and correct formatting output structure. Integrates with format_ai_validator_prompt and AI_VALIDATOR_SYSTEM_PROMPT from the LLM module.",
          "references": [
            "AI_VALIDATOR_SYSTEM_PROMPT.lower",
            "errors.append",
            "format_ai_validator_prompt",
            "kw.lower"
          ]
        },
        {
          "name": "test_full_parsing_and_apply_cycle",
          "lines": "815-870",
          "tokens": 533,
          "content_hash": "aa5250cbb11c6499f205098147302349",
          "analyzed_by": "qwen",
          "description": "Tests the full cycle of parsing code blocks, applying them to a virtual file system, and verifying the results, integrating with VirtualFileSystem, FileModifier, and code parsing logic.",
          "references": [
            "FileModifier",
            "VirtualFileSystem",
            "app_dir.mkdir",
            "auth_file.write_text",
            "block.mode",
            "checks.append",
            "modifier.apply_code_block_to_vfs",
            "parse_agent_code_blocks",
            "result.message",
            "result.success",
            "results.append",
            "vfs.get_status",
            "vfs.read_file"
          ]
        },
        {
          "name": "test_ai_validator_basic",
          "lines": "873-898",
          "tokens": 239,
          "content_hash": "83fbb1af3dd41e01ccab69f2da5657cc",
          "analyzed_by": "qwen",
          "description": "Tests the basic structure and method functionality of AIValidator, including validation of the _parse_response method's output.",
          "references": [
            "AIValidator",
            "result.approved",
            "result.confidence",
            "validator._parse_response"
          ]
        },
        {
          "name": "test_ai_validator_with_api",
          "lines": "902-938",
          "tokens": 321,
          "content_hash": "e7e21ed79169e0655d4f420d697021b7",
          "analyzed_by": "qwen",
          "description": "Тестирует AI Validator через реальный API вызов, проверяя валидацию предложенного кода для метода проверки email. Интегрируется с классом AIValidator и возвращает структурированный результат теста.",
          "references": [
            "AIValidator",
            "result.approved",
            "result.confidence",
            "result.verdict",
            "validator.validate"
          ]
        },
        {
          "name": "main",
          "lines": "945-1027",
          "tokens": 1002,
          "content_hash": "b2c7c76449db985f2e42c3e1ecaf4a54",
          "analyzed_by": "qwen",
          "description": "Conducts a comprehensive test suite for Agent Mode code generation functionality, including imports, configuration, code block parsing and application, VFS integration, prompt validation, and full workflow cycles. Integrates with a TestRunner for logging and directory management.",
          "references": [
            "Path",
            "TestRunner",
            "argparse.ArgumentParser",
            "args.skip_api",
            "args.test_dir",
            "args.verbose",
            "full_cycle_dir.exists",
            "full_cycle_dir.mkdir",
            "logger.debug",
            "logger.info",
            "parser.add_argument",
            "parser.parse_args",
            "runner.print_summary",
            "runner.run_test",
            "runner.run_test_async",
            "setup_logging",
            "shutil.rmtree",
            "sys.exit",
            "tempfile.mkdtemp",
            "test_dir.exists",
            "test_dir.mkdir",
            "vfs_test_dir.exists",
            "vfs_test_dir.mkdir"
          ]
        }
      ],
      "last_indexed": "2025-12-22T12:26:04.498837+00:00"
    },
    "scripts/test_context_compression.py": {
      "name": "test_context_compression.py",
      "path": "scripts/test_context_compression.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_context_compression.py",
      "file_hash": "bbe67bb69915f96d41e2251a65fbdc96",
      "tokens_total": 6064,
      "lines_total": 728,
      "imports": {
        "lines": "11-32",
        "modules": [
          "asyncio",
          "sys",
          "os",
          "logging",
          "json",
          "pathlib.Path",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "typing.Optional",
          "datetime.datetime",
          "config.settings.cfg",
          "app.llm.api_client.call_llm_with_tools",
          "app.utils.token_counter.TokenCounter",
          "app.history.context_manager.IntraSessionCompressor",
          "app.history.context_manager.get_compressor",
          "app.history.context_manager.is_context_overflow_error",
          "app.history.context_manager.CompressionResult",
          "app.history.context_manager.CompressionMode"
        ],
        "tokens": 98
      },
      "globals": {
        "lines": "43-115",
        "names": [
          "logger",
          "_token_counter",
          "TEST_MODELS",
          "TEST_LIMITS",
          "TEST_TOOLS"
        ],
        "tokens": 295
      },
      "description": "Unit test suite for proactive and non-proactive LLM context compression, integrating with token counting, logging, and real API calls to validate compression behavior and message integrity.",
      "classes": [
        {
          "name": "TestCompressor",
          "lines": "121-129",
          "tokens": 114,
          "content_hash": "f99657fef9bdf49cb338c0303eb6a16d",
          "analyzed_by": "qwen",
          "description": "Компрессор с настраиваемыми порогами для тестирования, использует модель и параметры threshold и target для сжатия.",
          "references": [
            "logger.info"
          ],
          "methods": [
            "__init__"
          ]
        }
      ],
      "functions": [
        {
          "name": "count_tokens",
          "lines": "51-53",
          "tokens": 34,
          "content_hash": "9b837451357e265a8247df5e9bd5bfda",
          "analyzed_by": "qwen",
          "description": "Counts the number of tokens in a given text string using a predefined token counter.",
          "references": [
            "_token_counter.count"
          ]
        },
        {
          "name": "count_messages_tokens",
          "lines": "55-66",
          "tokens": 106,
          "content_hash": "38347c0913256363bbad66823bd27e79",
          "analyzed_by": "qwen",
          "description": "Counts the number of tokens in message content, supporting both string and list-based content formats.",
          "references": [
            "count_tokens",
            "msg.get"
          ]
        },
        {
          "name": "get_test_compressor",
          "lines": "132-137",
          "tokens": 74,
          "content_hash": "2aa828dbf009fcc130557684ca2eb1cf",
          "analyzed_by": "qwen",
          "description": "Returns a configured TestCompressor or default IntraSessionCompressor based on model-specific test limits.",
          "references": [
            "TestCompressor",
            "get_compressor"
          ]
        },
        {
          "name": "create_tool_result",
          "lines": "143-180",
          "tokens": 272,
          "content_hash": "b9feb4be7842500ff65d1b6d41be4ff8",
          "analyzed_by": "qwen",
          "description": "Generates a tool result string containing Python code with iteration-specific classes, functions, and constants, simulating a module's structure and logic for testing or demonstration purposes.",
          "references": []
        },
        {
          "name": "log_messages_summary",
          "lines": "183-199",
          "tokens": 201,
          "content_hash": "3ceaab48453350eda12d3f734259d9d4",
          "analyzed_by": "deepseek",
          "description": "Logs token counts and role distribution for message lists, returning total tokens for integration with token-aware processing systems.",
          "references": [
            "count_messages_tokens",
            "logger.info",
            "m.get"
          ]
        },
        {
          "name": "extract_assistant_fields",
          "lines": "202-225",
          "tokens": 201,
          "content_hash": "049725509e3bbbf1e22a38b2c8e76f6f",
          "analyzed_by": "deepseek",
          "description": "Extracts and formats assistant response fields for LLM API compatibility, handling optional content, tool calls, and reasoning metadata.",
          "references": [
            "response.get"
          ]
        },
        {
          "name": "build_real_context",
          "lines": "231-329",
          "tokens": 856,
          "content_hash": "506d5be8961e2e3468e23f8a305981a4",
          "analyzed_by": "qwen",
          "description": "Constructs a conversational context by making real API calls to a language model, integrating with tools to simulate analysis of code modules. It dynamically builds and extends the message history until a target token size or iteration limit is reached.",
          "references": [
            "asyncio.sleep",
            "call_llm_with_tools",
            "count_messages_tokens",
            "create_tool_result",
            "extract_assistant_fields",
            "is_context_overflow_error",
            "logger.error",
            "logger.info",
            "logger.warning",
            "messages.append",
            "model.lower",
            "response.get",
            "tc.get"
          ]
        },
        {
          "name": "test_no_proactive_compression",
          "lines": "336-388",
          "tokens": 501,
          "content_hash": "21a75b5c51c36f9ab5b297cc6b03113e",
          "analyzed_by": "qwen",
          "description": "Tests that a specified model (e.g., GPT-5.1) does not perform proactive context compression, even with a large context, by building real API calls and verifying message integrity and API response success. Integrates with logging, compression logic, and LLM API tools.",
          "references": [
            "build_real_context",
            "call_llm_with_tools",
            "compressor.check_and_compress",
            "compressor.needs_proactive_compression",
            "get_compressor",
            "log_messages_summary",
            "logger.error",
            "logger.info",
            "logger.warning",
            "response.get",
            "result.compressed_tokens",
            "result.original_tokens"
          ]
        },
        {
          "name": "test_proactive_compression",
          "lines": "391-511",
          "tokens": 1225,
          "content_hash": "3717cfcfeb476188588c3548dce1ac40",
          "analyzed_by": "qwen",
          "description": "Tests proactive context compression for specific models using real API calls, verifies compression effectiveness, and ensures API functionality is preserved after compression. Integrates with logging, context building, compression utilities, and LLM API calls.",
          "references": [
            "build_real_context",
            "call_llm_with_tools",
            "compressed_messages.append",
            "compressor.check_and_compress",
            "compressor.target_tokens",
            "compressor.threshold_tokens",
            "extract_assistant_fields",
            "get_test_compressor",
            "is_context_overflow_error",
            "log_messages_summary",
            "logger.error",
            "logger.info",
            "logger.warning",
            "msg.get",
            "response.get",
            "response2.get",
            "result.compressed_tokens",
            "result.compression_ratio",
            "result.messages_after",
            "result.messages_before",
            "result.original_tokens",
            "result.tokens_saved",
            "tc.get"
          ]
        },
        {
          "name": "test_emergency_compression",
          "lines": "514-554",
          "tokens": 343,
          "content_hash": "bb81aa419d687cd7802acf5c2f2abb37",
          "analyzed_by": "qwen",
          "description": "Tests emergency context compression for a specified model by building a large context, compressing it, and verifying API functionality with the compressed data. Uses logging and integrates with LLM tools for validation.",
          "references": [
            "build_real_context",
            "call_llm_with_tools",
            "compressor.emergency_compress",
            "get_test_compressor",
            "log_messages_summary",
            "logger.error",
            "logger.info",
            "result.compressed_tokens",
            "result.original_tokens",
            "result.tokens_saved"
          ]
        },
        {
          "name": "run_all_tests",
          "lines": "560-672",
          "tokens": 948,
          "content_hash": "bdeb57ad416d30eadc9850b27cfc8b45",
          "analyzed_by": "qwen",
          "description": "Runs a test suite for context compression functionality with real API calls, testing different models (GPT-5.1 Codex Max, DeepSeek, Gemini) for proactive and emergency compression behavior.",
          "references": [
            "asyncio.sleep",
            "datetime.now",
            "logger.error",
            "results.items",
            "results.values",
            "test_emergency_compression",
            "test_no_proactive_compression",
            "test_proactive_compression",
            "traceback.print_exc"
          ]
        }
      ],
      "last_indexed": "2025-12-22T12:25:56.383006+00:00"
    },
    "scripts/test_general_chat_with_history.py": {
      "name": "test_general_chat_with_history.py",
      "path": "scripts/test_general_chat_with_history.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_general_chat_with_history.py",
      "file_hash": "e5073ccc1fbd34cd5c914996df4aa6fa",
      "tokens_total": 8280,
      "lines_total": 829,
      "imports": {
        "lines": "1-9",
        "modules": [
          "asyncio",
          "logging",
          "os",
          "sys",
          "json",
          "sqlite3",
          "datetime.datetime",
          "datetime.timedelta",
          "typing.List",
          "typing.Optional",
          "typing.Tuple",
          "textwrap"
        ],
        "tokens": 38
      },
      "globals": {
        "lines": "24-24",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Unit test suite for a chat system's history management and interactive viewing features, integrating HistoryManager and ChatViewer for data retrieval, pagination, search, export, and display.",
      "classes": [
        {
          "name": "ChatViewer",
          "lines": "43-122",
          "tokens": 879,
          "content_hash": "9a87c06c0f83f296c98bc82e4cb33920",
          "analyzed_by": "qwen",
          "description": "Форматирует и отображает сообщения чата с учетом времени, роли участника и статистики, используя ANSI-коды для цвета и структуры.",
          "references": [
            "ChatViewer.format_timestamp",
            "datetime.fromisoformat",
            "datetime.now",
            "dt.date",
            "dt.strftime",
            "line.ljust",
            "lines.append",
            "message.get",
            "now.date",
            "textwrap.fill",
            "thread.created_at",
            "thread.is_archived",
            "thread.message_count",
            "thread.project_name",
            "thread.title",
            "thread.total_tokens",
            "thread.updated_at",
            "timedelta",
            "timestamp.replace",
            "wrapped.split"
          ],
          "methods": [
            "format_timestamp",
            "format_message",
            "format_stats"
          ]
        }
      ],
      "functions": [
        {
          "name": "get_thread_history",
          "lines": "125-135",
          "tokens": 93,
          "content_hash": "9e3a1dcbb0e2fa005a3930d49fcc073a",
          "analyzed_by": "qwen",
          "description": "Retrieves the entire message history for a given thread using the history manager's storage, with error logging.",
          "references": [
            "asyncio.to_thread",
            "history_manager.storage",
            "logger.error"
          ]
        },
        {
          "name": "get_thread_history_with_pagination",
          "lines": "137-166",
          "tokens": 258,
          "content_hash": "648b643cfa0855259065b263ac137aa9",
          "analyzed_by": "qwen",
          "description": "Retrieves paginated message history for a given thread, calculating total pages and adjusting the page number if out of bounds. Integrates with HistoryManager and logging for error handling.",
          "references": [
            "get_thread_history",
            "logger.error"
          ]
        },
        {
          "name": "display_history_page",
          "lines": "168-205",
          "tokens": 446,
          "content_hash": "bffab1799b85a2676069e8fa45eefd12",
          "analyzed_by": "qwen",
          "description": "Отображает страницу истории диалога с навигацией и командами, форматируя сообщения и их метаданные. Использует ChatViewer для форматирования и поддерживает постраничный вывод.",
          "references": [
            "ChatViewer",
            "json.dumps",
            "msg.content",
            "msg.created_at",
            "msg.metadata",
            "msg.role",
            "viewer.format_message"
          ]
        },
        {
          "name": "interactive_history_viewer",
          "lines": "207-295",
          "tokens": 807,
          "content_hash": "b144d1aef995992fff068f4684ad7920",
          "analyzed_by": "qwen",
          "description": "Позволяет интерактивно просматривать историю чата с поддержкой пагинации, поиска, экспорта и отображения статистики, используя HistoryManager и ChatViewer.",
          "references": [
            "ChatViewer",
            "command.isdigit",
            "command.startswith",
            "display_history_page",
            "export_thread_history",
            "get_thread_history_with_pagination",
            "history_manager.get_thread",
            "input",
            "search_in_history",
            "thread.title",
            "viewer.format_stats"
          ]
        },
        {
          "name": "search_in_history",
          "lines": "297-348",
          "tokens": 430,
          "content_hash": "e9f4b53a80e1ceed37ef947b1160a68e",
          "analyzed_by": "qwen",
          "description": "Выполняет поиск заданного термина в истории диалога по указанному thread_id, выводит результаты с контекстом и подсветкой совпадений. Интегрируется с HistoryManager и ChatViewer для получения и отображения сообщений.",
          "references": [
            "ChatViewer",
            "content_lower.find",
            "get_thread_history",
            "msg.content",
            "msg.created_at",
            "msg.role",
            "preview.replace",
            "results.append",
            "search_term.lower",
            "viewer.format_message"
          ]
        },
        {
          "name": "export_thread_history",
          "lines": "350-394",
          "tokens": 552,
          "content_hash": "f11d178debee6331e904893bba09b603",
          "analyzed_by": "qwen",
          "description": "Exports a chat thread's history to a Markdown file, including message content, metadata, and thread statistics. Integrates with HistoryManager and uses asyncio for asynchronous file operations.",
          "references": [
            "asyncio.to_thread",
            "c.isalnum",
            "datetime.now",
            "f.write",
            "history_manager.storage",
            "json.dumps",
            "msg.get",
            "os.path"
          ]
        },
        {
          "name": "main",
          "lines": "397-700",
          "tokens": 3076,
          "content_hash": "d067a23315eef28e7ef44407a078c85d",
          "analyzed_by": "qwen",
          "description": "Тестирует общую систему чата с поддержкой истории, позволяет создавать, продолжать и просматривать диалоги, интегрируется с HistoryManager и GeneralChatOrchestrator.",
          "references": [
            "ChatViewer",
            "ChatViewer.format_timestamp",
            "GeneralChatOrchestrator",
            "HistoryManager",
            "assistant_message.thread_id",
            "cfg.MODEL_NORMAL",
            "cfg.get_model_display_name",
            "datetime.now",
            "export_thread_history",
            "get_thread_history",
            "handle_clear_command",
            "handle_exit_command",
            "handle_history_command",
            "handle_model_command",
            "handle_stats_command",
            "history_manager.add_message",
            "history_manager.create_thread",
            "history_manager.get_session_history",
            "history_manager.get_thread",
            "history_manager.list_user_threads",
            "input",
            "interactive_history_viewer",
            "msg.content",
            "msg.created_at",
            "msg.role",
            "orchestrator.model",
            "orchestrator.orchestrate_general",
            "query.lower",
            "result.response",
            "result.tool_calls",
            "run_database_tests",
            "search_in_history",
            "temp_history.append",
            "temp_history.copy",
            "thread.id",
            "thread.is_archived",
            "thread.message_count",
            "thread.project_name",
            "thread.title",
            "thread.total_tokens",
            "thread.updated_at",
            "threads_by_project.items",
            "viewer.format_message"
          ]
        },
        {
          "name": "handle_exit_command",
          "lines": "703-723",
          "tokens": 249,
          "content_hash": "615675b133f0960ed2bd93f68bc0d02b",
          "analyzed_by": "qwen",
          "description": "Сохраняет данные диалога при выходе, используя либо постоянное хранилище, либо временный JSON-файл. Интегрируется с history_manager для управления потоками и сохраняет метрики диалога.",
          "references": [
            "datetime.now",
            "history_manager.get_thread",
            "json.dump",
            "thread.message_count",
            "thread.title",
            "thread.total_tokens"
          ]
        },
        {
          "name": "handle_history_command",
          "lines": "725-740",
          "tokens": 181,
          "content_hash": "28454242ac45e823b1fa74beaa42d2d2",
          "analyzed_by": "qwen",
          "description": "Displays chat history either from persistent storage or a temporary list, formatting messages for readability. Integrates with ChatViewer for message rendering.",
          "references": [
            "ChatViewer",
            "datetime.now",
            "interactive_history_viewer",
            "viewer.format_message"
          ]
        },
        {
          "name": "handle_stats_command",
          "lines": "742-750",
          "tokens": 72,
          "content_hash": "65449e86e3e56aa61a081a7a3e7d0367",
          "analyzed_by": "qwen",
          "description": "Retrieves and displays chat statistics for a specific thread using the history manager and ChatViewer, if the thread exists.",
          "references": [
            "ChatViewer",
            "history_manager.get_thread",
            "viewer.format_stats"
          ]
        },
        {
          "name": "handle_clear_command",
          "lines": "752-764",
          "tokens": 151,
          "content_hash": "ea917eb69ca159f36e6e244de5ac1626",
          "analyzed_by": "qwen",
          "description": "Очищает историю сообщений для указанного потока или временной истории, в зависимости от настроек, с подтверждением при использовании постоянного хранилища.",
          "references": [
            "asyncio.to_thread",
            "history_manager.storage",
            "input",
            "temp_history.clear"
          ]
        },
        {
          "name": "handle_model_command",
          "lines": "766-771",
          "tokens": 120,
          "content_hash": "d0b86a33ff42bf7368ae6c7fb6bef750",
          "analyzed_by": "qwen",
          "description": "Displays available models and shows the current model, with a note that real-time model switching is not supported.",
          "references": [
            "cfg.get_model_display_name",
            "orchestrator.model"
          ]
        },
        {
          "name": "run_database_tests",
          "lines": "773-824",
          "tokens": 567,
          "content_hash": "4e5c868855a4e20eb3a4c050736f5ec1",
          "analyzed_by": "qwen",
          "description": "Runs a series of database tests for a history manager, including thread creation, message addition, database verification, history retrieval, and export functionality. Integrates with SQLite for data validation.",
          "references": [
            "conn.close",
            "conn.cursor",
            "cursor.execute",
            "cursor.fetchone",
            "export_thread_history",
            "get_thread_history",
            "history_manager.add_message",
            "history_manager.create_thread",
            "history_manager.db_path",
            "sqlite3.connect",
            "test_thread.id",
            "test_thread.title"
          ]
        }
      ],
      "last_indexed": "2025-12-28T02:53:03.380912+00:00"
    },
    "app/advice/__init__.py": {
      "name": "__init__.py",
      "path": "app/advice/__init__.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\advice\\__init__.py",
      "file_hash": "f1dd36239d2fd4e06abfbfc27b1df910",
      "tokens_total": 213,
      "lines_total": 36,
      "imports": {
        "lines": "18-26",
        "modules": [
          "app.advice.advice_loader.AdviceSystem",
          "app.advice.advice_loader.AdviceSummary",
          "app.advice.advice_loader.AdviceCategory",
          "app.advice.advice_loader.init_advice_system",
          "app.advice.advice_loader.get_advice_system",
          "app.advice.advice_loader.get_catalog_for_prompt",
          "app.advice.advice_loader.execute_get_advice"
        ],
        "tokens": 46
      },
      "globals": {
        "lines": "28-36",
        "names": [
          "__all__"
        ],
        "tokens": 49
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2025-12-28T04:24:25.322061+00:00"
    },
    "app/advice/advice_loader.py": {
      "name": "advice_loader.py",
      "path": "app/advice/advice_loader.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\advice\\advice_loader.py",
      "file_hash": "15140ad9572ace9cea8280a6ca5e3d9c",
      "tokens_total": 4216,
      "lines_total": 543,
      "imports": {
        "lines": "16-22",
        "modules": [
          "__future__.annotations",
          "json",
          "logging",
          "re",
          "pathlib.Path",
          "dataclasses.dataclass",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Any",
          "typing.Tuple"
        ],
        "tokens": 40
      },
      "globals": {
        "lines": "24-335",
        "names": [
          "logger",
          "_ADVICE_SYSTEM"
        ],
        "tokens": 18
      },
      "description": "Advice data management system for loading, caching, and querying structured advice from JSON files, providing formatted catalogs for prompt generation and on-demand content retrieval.",
      "classes": [
        {
          "name": "AdviceSummary",
          "lines": "32-38",
          "tokens": 45,
          "content_hash": "f8da3c704ffd9111661aa053f876d9b9",
          "analyzed_by": "qwen",
          "description": "Represents a summary of advice for use in a catalog, containing metadata like ID, name, category, description, and usage context. Used in prompt generation or display.",
          "references": [],
          "methods": []
        },
        {
          "name": "AdviceCategory",
          "lines": "42-46",
          "tokens": 35,
          "content_hash": "da0fecca02e3cc20ba80386fbd3173d5",
          "analyzed_by": "qwen",
          "description": "Represents metadata for an advice category, including its name, description, and the types of scenarios it applies to.",
          "references": [],
          "methods": []
        },
        {
          "name": "AdviceSystem",
          "lines": "53-328",
          "tokens": 2228,
          "content_hash": "6a830cfa0dc7cb5e080e93379e96818a",
          "analyzed_by": "qwen",
          "description": "Manages loading and retrieval of advice data from JSON files, supporting search, lazy content loading, and caching. Integrates with file-based catalogs and content storage for efficient on-demand access.",
          "references": [
            "AdviceCategory",
            "AdviceSummary",
            "Path",
            "advice.description",
            "advice.id",
            "advice.name",
            "advice_data.get",
            "advice_id.lower",
            "advice_id_or_query.strip",
            "advice_id_or_query.upper",
            "cat_data.get",
            "catalog_path.exists",
            "content_path.exists",
            "data.get",
            "desc.split",
            "json.JSONDecodeError",
            "json.load",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "name.split",
            "query.split",
            "query.strip",
            "query.upper",
            "re.sub",
            "results.append",
            "results.sort",
            "text.lower",
            "when_to_use_norm.split"
          ],
          "methods": [
            "__init__",
            "_load_catalog",
            "_normalize_text",
            "_load_content",
            "find_advice",
            "get_advice",
            "_get_advice_by_id",
            "get_multiple_advices",
            "is_available"
          ]
        }
      ],
      "functions": [
        {
          "name": "init_advice_system",
          "lines": "338-345",
          "tokens": 62,
          "content_hash": "e948ad7a62e664e0998ad3e048d19fe9",
          "analyzed_by": "qwen",
          "description": "Initializes and returns a global AdviceSystem instance, loading advice data from a specified base path.",
          "references": [
            "AdviceSystem"
          ]
        },
        {
          "name": "get_advice_system",
          "lines": "348-355",
          "tokens": 53,
          "content_hash": "489378c5c3269d5650e9f3646048aeb9",
          "analyzed_by": "qwen",
          "description": "Provides a global instance of the AdviceSystem, initializing it if it doesn't already exist.",
          "references": [
            "AdviceSystem"
          ]
        },
        {
          "name": "get_catalog_for_prompt",
          "lines": "358-423",
          "tokens": 549,
          "content_hash": "a294387fb585899c74ff049c746bb9e0",
          "analyzed_by": "qwen",
          "description": "Generates a formatted catalog of advice entries for inclusion in the Orchestrator's system prompt, grouped by category and filtered by mode (ask or new_project). Integrates with the advice system to retrieve and display advice summaries.",
          "references": [
            "adv.description",
            "adv.id",
            "adv.name",
            "adv.when_to_use",
            "advice.category",
            "cat_id.replace",
            "cat_info.name",
            "get_advice_system",
            "lines.append",
            "logger.error",
            "system.catalog",
            "system.categories",
            "x.id"
          ]
        },
        {
          "name": "execute_get_advice",
          "lines": "430-543",
          "tokens": 1016,
          "content_hash": "8d7e0c85e87c70ac920de505344fb9ec",
          "analyzed_by": "qwen",
          "description": "Executes the get_advice tool with support for searching by ID, name, or keyword, returning XML-formatted advice content or error messages; integrates with an advice system for query resolution and suggestions.",
          "references": [
            "advice_queries.split",
            "get_advice_system",
            "not_found.append",
            "output_parts.append",
            "output_parts.extend",
            "q.strip",
            "results.append",
            "search_results_info.append",
            "suggestions.append",
            "summary.name",
            "system.catalog",
            "system.find_advice",
            "system.get_advice",
            "system.is_available"
          ]
        }
      ],
      "last_indexed": "2026-01-09T04:11:51.473871+00:00"
    },
    "scripts/test_advice_system — копия.py": {
      "name": "test_advice_system — копия.py",
      "path": "scripts/test_advice_system — копия.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_advice_system — копия.py",
      "file_hash": "412081432a2e8a3d4b3eb875e1f164be",
      "tokens_total": 5612,
      "lines_total": 650,
      "imports": {
        "lines": "17-25",
        "modules": [
          "sys",
          "os",
          "json",
          "logging",
          "traceback",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Tuple",
          "typing.Any",
          "typing.Optional",
          "dataclasses.dataclass",
          "datetime.datetime"
        ],
        "tokens": 44
      },
      "globals": {
        "lines": "28-136",
        "names": [
          "PROJECT_ROOT",
          "logger",
          "runner"
        ],
        "tokens": 24
      },
      "description": "Unit test suite for validating the file structure, data integrity, and consistency of an advice system module, integrating with JSON data files and a custom test runner for execution and reporting.",
      "classes": [
        {
          "name": "TestResult",
          "lines": "45-51",
          "tokens": 44,
          "content_hash": "77e6cf91e6558b872d94ce7d7c5d9d77",
          "analyzed_by": "qwen",
          "description": "Represents the result of an individual test, including its name, pass status, message, optional details, and execution duration.",
          "references": [],
          "methods": []
        },
        {
          "name": "TestRunner",
          "lines": "54-129",
          "tokens": 571,
          "content_hash": "a5268286bd83c10d1e33e6119ee83544",
          "analyzed_by": "qwen",
          "description": "Executes and tracks test results with colored output and detailed summaries, integrates with traceback for error logging and environment variables for verbosity.",
          "references": [
            "TestResult",
            "datetime.now",
            "os.environ",
            "r.message",
            "r.name",
            "r.passed",
            "result.details",
            "result.duration_ms",
            "result.message",
            "result.name",
            "result.passed",
            "test_func",
            "time.perf_counter",
            "traceback.format_exc"
          ],
          "methods": [
            "__init__",
            "run_test",
            "_print_result",
            "summary"
          ]
        }
      ],
      "functions": [
        {
          "name": "test_advice_directory_exists",
          "lines": "143-147",
          "tokens": 66,
          "content_hash": "c89635e0aa60525abf25e69203f07ca5",
          "analyzed_by": "qwen",
          "description": "Verifies the existence and validity of the \"app/advice\" directory within the project structure.",
          "references": [
            "advice_dir.exists",
            "advice_dir.is_dir"
          ]
        },
        {
          "name": "test_advice_catalog_file_exists",
          "lines": "149-152",
          "tokens": 55,
          "content_hash": "8aff258ed7fa0db482783b5db03b6fc6",
          "analyzed_by": "qwen",
          "description": "Verifies the existence of the advice_catalog.json file in the specified project directory.",
          "references": [
            "catalog_path.exists"
          ]
        },
        {
          "name": "test_advice_content_file_exists",
          "lines": "154-157",
          "tokens": 55,
          "content_hash": "0ec4aa18f2a8d6a0366b761139b68346",
          "analyzed_by": "qwen",
          "description": "Verifies the existence of the advice_content.json file in the specified project directory. Used to ensure the advice system has access to its required data file.",
          "references": [
            "content_path.exists"
          ]
        },
        {
          "name": "test_advice_loader_file_exists",
          "lines": "159-162",
          "tokens": 55,
          "content_hash": "ffc5d4ab645cd6b8bf0bfd10672fa87e",
          "analyzed_by": "qwen",
          "description": "Verifies the existence of the advice_loader.py file within the specified project directory structure.",
          "references": [
            "loader_path.exists"
          ]
        },
        {
          "name": "test_advice_init_file_exists",
          "lines": "164-167",
          "tokens": 55,
          "content_hash": "186439254b9f95c3fe87c5a281ba0180",
          "analyzed_by": "qwen",
          "description": "Verifies the existence of the __init__.py file in the app/advice directory to ensure the module is properly initialized.",
          "references": [
            "init_path.exists"
          ]
        },
        {
          "name": "test_catalog_json_valid",
          "lines": "174-184",
          "tokens": 151,
          "content_hash": "1153b061c41dc8fbfb6dbc803887b81f",
          "analyzed_by": "qwen",
          "description": "Validates the structure and content of the advice_catalog.json file, ensuring required fields exist and data types are correct.",
          "references": [
            "json.load"
          ]
        },
        {
          "name": "test_content_json_valid",
          "lines": "186-195",
          "tokens": 133,
          "content_hash": "e4e4b076c12d108dc2181b2f039d60ea",
          "analyzed_by": "qwen",
          "description": "Validates the structure and content of the advice_content.json file, ensuring required fields exist and are of the correct type.",
          "references": [
            "json.load"
          ]
        },
        {
          "name": "test_catalog_content_consistency",
          "lines": "197-215",
          "tokens": 205,
          "content_hash": "056153534b3d839a4ac55690aa081a74",
          "analyzed_by": "qwen",
          "description": "Verifies that all advice IDs in the catalog have matching entries in the content file and logs warnings for unused content entries. Integrates with JSON files for catalog and content data.",
          "references": [
            "json.load",
            "logger.warning"
          ]
        },
        {
          "name": "test_import_advice_loader",
          "lines": "222-229",
          "tokens": 104,
          "content_hash": "f19d796277f77cf51d31a0ee9175e648",
          "analyzed_by": "qwen",
          "description": "Verifies the correct import and presence of key components in the advice_loader module, ensuring the AdviceSystem and related functions are available.",
          "references": []
        },
        {
          "name": "test_import_advice_init",
          "lines": "231-243",
          "tokens": 82,
          "content_hash": "cabdb81b916503ca696f11489c788c06",
          "analyzed_by": "qwen",
          "description": "Tests the import and availability of core components from the app.advice module, ensuring classes and functions are properly initialized and callable.",
          "references": []
        },
        {
          "name": "test_import_tool_definitions",
          "lines": "245-266",
          "tokens": 260,
          "content_hash": "7b6ae6dde14ec61ca30c1aa98e7a8caa",
          "analyzed_by": "qwen",
          "description": "Verifies that the get_advice tool is correctly defined and included in the orchestrator's tool list.",
          "references": [
            "get_tool_by_name",
            "get_tool_names"
          ]
        },
        {
          "name": "test_import_tool_executor",
          "lines": "268-284",
          "tokens": 184,
          "content_hash": "c6c76730c774cf4a9236b798ee58ea10",
          "analyzed_by": "qwen",
          "description": "Tests the ToolExecutor's ability to handle the get_advice command, including validation of method existence and error handling for invalid advice IDs.",
          "references": [
            "ToolExecutor",
            "executor.execute",
            "result.lower"
          ]
        },
        {
          "name": "test_advice_system_initialization",
          "lines": "291-301",
          "tokens": 103,
          "content_hash": "8dbf0281c883c84f15d369a2dbbe3286",
          "analyzed_by": "qwen",
          "description": "Tests the correct initialization of the AdviceSystem, verifying availability, loaded advices, and categories, with logging of results. Integrates with logging and the AdviceSystem class.",
          "references": [
            "AdviceSystem",
            "logger.info",
            "system.catalog",
            "system.categories",
            "system.is_available"
          ]
        },
        {
          "name": "test_get_catalog_for_prompt_ask_mode",
          "lines": "303-320",
          "tokens": 209,
          "content_hash": "89f81952f757889f7a9d4629a2c775e9",
          "analyzed_by": "qwen",
          "description": "Tests the generation of a catalog for the 'ask' mode by verifying its content, structure, and inclusion of specific advice codes, using assertions and logging. Integrates with get_catalog_for_prompt from the advice loader.",
          "references": [
            "catalog.lower",
            "get_catalog_for_prompt",
            "logger.info"
          ]
        },
        {
          "name": "test_get_catalog_for_prompt_new_project_mode",
          "lines": "322-337",
          "tokens": 185,
          "content_hash": "8572a9a2963310960846be822d460d57",
          "analyzed_by": "qwen",
          "description": "Tests the catalog generation for the 'new_project' mode by verifying its content includes relevant advices and excludes advices meant for existing projects. Integrates with get_catalog_for_prompt from the advice loader.",
          "references": [
            "get_catalog_for_prompt",
            "logger.info"
          ]
        },
        {
          "name": "test_get_single_advice",
          "lines": "339-355",
          "tokens": 181,
          "content_hash": "a03fdfb55189b0812de71d97a026d1fa",
          "analyzed_by": "qwen",
          "description": "Tests retrieval and content of a specific advice (ADV-G01) from the advice system, validating its structure and content using assertions and logging.",
          "references": [
            "advice.lower",
            "get_advice_system",
            "logger.info",
            "system.get_advice"
          ]
        },
        {
          "name": "test_get_multiple_advices",
          "lines": "357-370",
          "tokens": 155,
          "content_hash": "5bb97c890d4cda8b7e17b50d12cb9eaf",
          "analyzed_by": "qwen",
          "description": "Tests the retrieval of multiple advices from the advice system, verifying correct handling of valid and invalid IDs. Integrates with the get_advice_system and logging modules.",
          "references": [
            "get_advice_system",
            "logger.info",
            "system.get_multiple_advices"
          ]
        },
        {
          "name": "test_execute_get_advice_tool",
          "lines": "372-392",
          "tokens": 236,
          "content_hash": "90436a59c9aa16cb86390a396afe3805",
          "analyzed_by": "qwen",
          "description": "Tests the execute_get_advice function for correct handling of single and multiple advice requests, invalid IDs, and empty input, ensuring proper XML formatting and error responses. Integrates with the advice_loader module.",
          "references": [
            "execute_get_advice",
            "result.lower"
          ]
        },
        {
          "name": "test_prompt_template_has_placeholder",
          "lines": "399-410",
          "tokens": 126,
          "content_hash": "b8b57dd527003784df55444af92402b3",
          "analyzed_by": "qwen",
          "description": "Verifies that specified prompt templates contain the {advice_catalog} placeholder, ensuring compatibility with the advice catalog integration.",
          "references": []
        },
        {
          "name": "test_prompt_template_has_methodology",
          "lines": "412-434",
          "tokens": 188,
          "content_hash": "684f812caaf67b3fee6922ee04e05ed3",
          "analyzed_by": "qwen",
          "description": "Tests that orchestrator prompt templates contain required methodology markers for the advice system. Checks for presence of keywords like \"ADVICE SYSTEM\", \"get_advice\", and classification codes in system prompts.",
          "references": []
        },
        {
          "name": "test_format_prompt_ask_agent",
          "lines": "436-463",
          "tokens": 250,
          "content_hash": "326ca8cce17df2a6289706901439c800",
          "analyzed_by": "qwen",
          "description": "Tests the format_orchestrator_prompt_ask_agent function ensures the catalog and methodology are included in the system prompt, and verifies placeholder replacement. Integrates with logging and assertion checks for validation.",
          "references": [
            "format_orchestrator_prompt_ask_agent",
            "logger.info"
          ]
        },
        {
          "name": "test_format_prompt_new_project_agent",
          "lines": "465-487",
          "tokens": 212,
          "content_hash": "3d647d6cf26f1f2abe8cd37e1f01ed39",
          "analyzed_by": "qwen",
          "description": "Tests the formatting of a new project agent prompt to ensure it includes the correct advice catalog and excludes existing project advice. Integrates with logging and assertion checks for validation.",
          "references": [
            "format_orchestrator_prompt_new_project_agent",
            "logger.info"
          ]
        },
        {
          "name": "test_tool_executor_get_advice_e2e",
          "lines": "494-511",
          "tokens": 193,
          "content_hash": "fcaf908536a451b1bdaee77ce54ad447",
          "analyzed_by": "qwen",
          "description": "Performs an end-to-end test of the get_advice tool execution via ToolExecutor, verifying the response structure and content for a specific advice ID. Integrates with logging and assertion checks for validation.",
          "references": [
            "ToolExecutor",
            "executor.execute",
            "logger.info",
            "result.lower"
          ]
        },
        {
          "name": "test_all_advices_have_required_sections",
          "lines": "518-550",
          "tokens": 262,
          "content_hash": "abe1334ba97312de55cd57c56f93df8e",
          "analyzed_by": "qwen",
          "description": "Verifies that all advice entries have the required sections (Phase/Step and Goal/Purpose), logs missing sections as warnings, and asserts that the majority of advices follow the expected structure. Integrates with the advice_loader module.",
          "references": [
            "get_advice_system",
            "logger.warning",
            "missing_sections.append",
            "system.catalog",
            "system.get_advice"
          ]
        },
        {
          "name": "test_advice_content_not_too_long",
          "lines": "552-572",
          "tokens": 175,
          "content_hash": "04d2d62ff0bfefcb949107d441ef38d6",
          "analyzed_by": "qwen",
          "description": "Tests that advice content does not exceed a character limit, logging warnings for any advice that is too long. Integrates with the advice_loader module to retrieve advice content.",
          "references": [
            "get_advice_system",
            "logger.warning",
            "system.catalog",
            "system.get_advice",
            "too_long.append"
          ]
        },
        {
          "name": "main",
          "lines": "579-646",
          "tokens": 740,
          "content_hash": "3ed13e7533cea5edf5de3f018e85791c",
          "analyzed_by": "qwen",
          "description": "Runs an integration test suite for an advice system, verifying file existence, JSON validity, module imports, functionality, prompt templates, and end-to-end execution.",
          "references": [
            "runner.run_test",
            "runner.summary",
            "sys.exit",
            "sys.version"
          ]
        }
      ],
      "last_indexed": "2025-12-28T04:59:39.748289+00:00"
    },
    "scripts/test_advice_system.py": {
      "name": "test_advice_system.py",
      "path": "scripts/test_advice_system.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_advice_system.py",
      "file_hash": "75f4bf9e7ac120509acfb42d7508de53",
      "tokens_total": 6150,
      "lines_total": 703,
      "imports": {
        "lines": "7-9",
        "modules": [
          "sys",
          "os",
          "json"
        ],
        "tokens": 8
      },
      "globals": null,
      "description": "Unit test suite for an advice system, validating JSON file integrity, lazy loading, content retrieval, catalog generation, mode filtering, singleton behavior, and LLM prompt integration.",
      "classes": [],
      "functions": [
        {
          "name": "test_json_files_exist_and_valid",
          "lines": "15-116",
          "tokens": 1086,
          "content_hash": "786bfd07e8a3bdaf089c913dc87c77de",
          "analyzed_by": "qwen",
          "description": "Validates the existence and structure of JSON files used by an advice system, ensuring catalog and content files are correctly formatted and consistent with each other. Integrates with file system and JSON parsing.",
          "references": [
            "adv.get",
            "adv_data.get",
            "content_data.items",
            "empty_content.append",
            "json.JSONDecodeError",
            "json.load",
            "missing_content.append",
            "os.path",
            "raw_data.get",
            "results.append"
          ]
        },
        {
          "name": "test_advice_system_initialization",
          "lines": "118-163",
          "tokens": 411,
          "content_hash": "e1681254de56eff9432d8e11fb68c03c",
          "analyzed_by": "qwen",
          "description": "Tests the initialization of the AdviceSystem, verifying catalog and category loading, presence of required advice items, and correct lazy loading behavior.",
          "references": [
            "AdviceSystem",
            "advice.category",
            "advice.description",
            "advice.id",
            "advice.name",
            "system._content_data",
            "system.catalog",
            "system.categories",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_lazy_loading_content",
          "lines": "166-205",
          "tokens": 339,
          "content_hash": "59e0a8c37eb2920b0a411ac623b4c77c",
          "analyzed_by": "qwen",
          "description": "Tests lazy loading of content in the AdviceSystem, verifying content is loaded only when needed and cached for subsequent calls.",
          "references": [
            "AdviceSystem",
            "system._content_data",
            "system.get_advice",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_get_advice_content",
          "lines": "208-258",
          "tokens": 450,
          "content_hash": "806b57002ffa75a7f491c04ce753d6e4",
          "analyzed_by": "qwen",
          "description": "Tests the get_advice function for correct content retrieval, structure validation, and error handling of invalid inputs. Integrates with the advice_loader module and assertion checks.",
          "references": [
            "get_advice_system",
            "system.catalog",
            "system.get_advice",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_catalog_for_prompt_ask_mode",
          "lines": "261-303",
          "tokens": 397,
          "content_hash": "bf46c564c28d895967c4aed88662ca2a",
          "analyzed_by": "qwen",
          "description": "Tests the generation of an advice catalog for 'ask' mode, verifying content length, headers, advice IDs, descriptions, and readability. Integrates with get_catalog_for_prompt from advice_loader.",
          "references": [
            "get_catalog_for_prompt",
            "result.count",
            "result.split",
            "result.upper",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_catalog_for_prompt_new_project_mode",
          "lines": "306-337",
          "tokens": 271,
          "content_hash": "caf386d76881b6f9c79e28976ebc167b",
          "analyzed_by": "qwen",
          "description": "Tests the generation of an advice catalog for the 'new_project' mode, validating content length, presence of required elements, and structure. Integrates with get_catalog_for_prompt from advice_loader.",
          "references": [
            "get_catalog_for_prompt",
            "result.upper",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_mode_filtering",
          "lines": "340-407",
          "tokens": 605,
          "content_hash": "77cc53137971924190fb08994215d597",
          "analyzed_by": "qwen",
          "description": "Tests that the advice system correctly filters categories based on mode (ask vs. new_project), ensuring advices appear only in the appropriate catalogs. Integrates with get_advice_system and get_catalog_for_prompt from the advice module.",
          "references": [
            "a.category",
            "adv.id",
            "ask_only_cats.append",
            "both_cats.append",
            "cat.applies_to",
            "get_advice_system",
            "get_catalog_for_prompt",
            "new_only_cats.append",
            "system.catalog",
            "system.categories",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_execute_get_advice_tool",
          "lines": "410-460",
          "tokens": 534,
          "content_hash": "5714be149bb5be9adef370fca9b1440d",
          "analyzed_by": "qwen",
          "description": "Tests the execute_get_advice function for correct handling of valid and invalid inputs, including single and multiple advice requests, empty input, and whitespace. Integrates with the advice_loader module.",
          "references": [
            "bad_result.lower",
            "empty_result.lower",
            "execute_get_advice",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_singleton_pattern",
          "lines": "463-497",
          "tokens": 273,
          "content_hash": "117508a1241a350eb2d222d697b252e3",
          "analyzed_by": "qwen",
          "description": "Tests the singleton pattern implementation of the advice system to ensure get_advice_system always returns the same instance. Uses module-level instance reset and assertion checks for verification.",
          "references": [
            "get_advice_system",
            "loader_module._advice_system_instance",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_prompt_template_integration",
          "lines": "500-558",
          "tokens": 536,
          "content_hash": "89467dcb568a050b3415e650bbc5a517",
          "analyzed_by": "qwen",
          "description": "Tests integration with prompt templates for LLM orchestration, verifying correct formatting and inclusion of the advice catalog in system prompts for both \"ask\" and \"new project\" scenarios.",
          "references": [
            "format_orchestrator_prompt_ask_agent",
            "format_orchestrator_prompt_new_project_agent",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_error_handling",
          "lines": "561-598",
          "tokens": 362,
          "content_hash": "f7e71cdd5d908801385f78ccb0cec3c8",
          "analyzed_by": "qwen",
          "description": "Tests error handling in the advice system, focusing on malicious input, long input, and Unicode characters in advice IDs.",
          "references": [
            "execute_get_advice",
            "result.lower",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_catalog_content_quality",
          "lines": "601-642",
          "tokens": 351,
          "content_hash": "d97ef82c32b6da3cf57b6ccabd15ee41",
          "analyzed_by": "qwen",
          "description": "Tests the quality of catalog content in the advice system by validating ID format, name and description lengths, and category validity. Integrates with advice_loader and the system's catalog and categories.",
          "references": [
            "advice.category",
            "advice.description",
            "advice.name",
            "advice_id.startswith",
            "get_advice_system",
            "issues.append",
            "system.catalog",
            "system.categories"
          ]
        },
        {
          "name": "main",
          "lines": "645-699",
          "tokens": 451,
          "content_hash": "960f106f82d9011f45830f4031486e56",
          "analyzed_by": "qwen",
          "description": "Runs a comprehensive suite of integration tests for an advice system, validating JSON files, initialization, lazy loading, advice retrieval, catalog functionality, mode filtering, error handling, and design patterns.",
          "references": [
            "results.append",
            "test_func"
          ]
        }
      ],
      "last_indexed": "2025-12-28T04:59:09.915954+00:00"
    },
    "app/tools/run_project_tests.py": {
      "name": "run_project_tests.py",
      "path": "app/tools/run_project_tests.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\run_project_tests.py",
      "file_hash": "950dc840b1ff3029166000d0eb8aa8b1",
      "tokens_total": 9124,
      "lines_total": 1288,
      "imports": {
        "lines": "39-50",
        "modules": [
          "__future__.annotations",
          "subprocess",
          "tempfile",
          "shutil",
          "logging",
          "os",
          "re",
          "sys",
          "pathlib.Path",
          "typing.Optional",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "typing.Set",
          "typing.TYPE_CHECKING",
          "dataclasses.dataclass"
        ],
        "tokens": 56
      },
      "globals": {
        "lines": "55-106",
        "names": [
          "logger",
          "MAX_TEST_RUNS_PER_SESSION",
          "DEFAULT_TIMEOUT_SEC",
          "MAX_TIMEOUT_SEC",
          "MAX_OUTPUT_CHARS",
          "SKIP_DIRS"
        ],
        "tokens": 163
      },
      "description": "Isolated unit test runner with virtual filesystem integration, supporting chunked execution and XML result generation via subprocess.",
      "classes": [
        {
          "name": "TestResult",
          "lines": "114-142",
          "tokens": 247,
          "content_hash": "97f38413b64a162339ea2f37fcce30c4",
          "analyzed_by": "qwen",
          "description": "Represents the structured result of a test run, including test counts, success status, output, and failure details. Used to capture and report test execution outcomes.",
          "references": [],
          "methods": []
        },
        {
          "name": "_TestEnvironmentContext",
          "lines": "272-311",
          "tokens": 258,
          "content_hash": "72fa49060cf766f4b203ae2c9a25bc8c",
          "analyzed_by": "qwen",
          "description": "Manages a temporary test environment directory, ensuring it is cleaned up after use, even if an error occurs. Integrates with shutil for directory removal and logging for error reporting.",
          "references": [
            "logger.warning",
            "shutil.rmtree"
          ],
          "methods": [
            "__init__",
            "__enter__",
            "__exit__"
          ]
        }
      ],
      "functions": [
        {
          "name": "run_project_tests",
          "lines": "149-266",
          "tokens": 919,
          "content_hash": "a5be6f5c00a431d60e1f491ad5973e90",
          "analyzed_by": "qwen",
          "description": "Runs project unit tests in an isolated environment using a virtual or real filesystem, supports test chunking, and returns results in XML format. Integrates with VirtualFileSystem for staged testing and executes tests via subprocess with project-specific Python interpreters.",
          "references": [
            "Path",
            "_copy_project_files",
            "_execute_unittest",
            "_format_error",
            "_format_result",
            "logger.error",
            "logger.info",
            "logger.warning",
            "result.chunk_name",
            "result.execution_time_ms",
            "result.success",
            "result.tests_errors",
            "result.tests_failed",
            "result.tests_passed",
            "result.tests_run",
            "sys.executable",
            "tempfile.TemporaryDirectory",
            "test_file_path.exists",
            "test_path.endswith",
            "time.time",
            "virtual_fs.get_project_python",
            "virtual_fs.materialize_to_directory"
          ]
        },
        {
          "name": "_create_test_environment",
          "lines": "314-357",
          "tokens": 339,
          "content_hash": "229323fba66400e9949369e10c9d4403",
          "analyzed_by": "qwen",
          "description": "Creates an isolated test environment by copying project files into a temporary directory, optionally overlaying staged changes from a VirtualFileSystem; integrates with file copying utilities and cleanup via a context manager.",
          "references": [
            "RuntimeError",
            "_TestEnvironmentContext",
            "_copy_from_vfs",
            "_copy_project_files",
            "shutil.rmtree",
            "tempfile.mkdtemp"
          ]
        },
        {
          "name": "_copy_from_vfs",
          "lines": "360-469",
          "tokens": 933,
          "content_hash": "aac9f2ac51e739419001b8d697318bcf",
          "analyzed_by": "qwen",
          "description": "Copies files from a VirtualFileSystem to a temporary directory, applying staged changes and handling deletions, integrating with VFS methods for overlay logic.",
          "references": [
            "Path",
            "_scan_python_files",
            "change.is_deletion",
            "dest_file.parent",
            "dest_file.write_text",
            "files_to_copy.update",
            "logger.debug",
            "logger.info",
            "logger.warning",
            "virtual_fs.get_all_python_files",
            "virtual_fs.get_change",
            "virtual_fs.get_staged_files",
            "virtual_fs.read_file"
          ]
        },
        {
          "name": "_scan_python_files",
          "lines": "472-502",
          "tokens": 192,
          "content_hash": "a45437972d7265707314b0676a78fc04",
          "analyzed_by": "qwen",
          "description": "Recursively scans a project directory for Python files while excluding specified directories, returning a set of normalized relative file paths.",
          "references": [
            "_should_skip_path",
            "files.add",
            "project_path.rglob",
            "py_file.relative_to"
          ]
        },
        {
          "name": "_should_skip_path",
          "lines": "505-538",
          "tokens": 210,
          "content_hash": "0aab4aa5ac8eec05b177fc587f998c6e",
          "analyzed_by": "qwen",
          "description": "Determines whether a given relative file path should be skipped based on hidden files, exact directory matches, or wildcard patterns in SKIP_DIRS.",
          "references": [
            "fnmatch.fnmatch",
            "part.startswith",
            "rel_path.parts"
          ]
        },
        {
          "name": "_copy_project_files",
          "lines": "541-574",
          "tokens": 251,
          "content_hash": "504844dcc67491c7705e2eb262075c2b",
          "analyzed_by": "qwen",
          "description": "Copies all Python files from a project directory to a temporary directory for testing when VirtualFileSystem is unavailable, skipping excluded paths and logging the number of files copied.",
          "references": [
            "Path",
            "_should_skip_path",
            "dest_file.parent",
            "logger.debug",
            "logger.info",
            "project_path.rglob",
            "shutil.copy2",
            "src_file.relative_to"
          ]
        },
        {
          "name": "_path_to_module",
          "lines": "581-603",
          "tokens": 147,
          "content_hash": "f78135e4b767f2a83814a189fa876e6a",
          "analyzed_by": "qwen",
          "description": "Converts a file path to a Python module path by replacing separators with dots and removing the .py extension, used for unittest discovery.",
          "references": [
            "module.endswith",
            "test_path.replace"
          ]
        },
        {
          "name": "_execute_unittest",
          "lines": "606-712",
          "tokens": 714,
          "content_hash": "201d3630b8b4708994ca8bcad8c25bdd",
          "analyzed_by": "qwen",
          "description": "Executes Python unittests in a subprocess within a temporary directory, with timeout handling, output capture, and environment configuration for isolated test runs. Integrates with subprocess, logging, and a custom TestResult parser.",
          "references": [
            "TestResult",
            "_parse_unittest_output",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "os.environ",
            "result.returncode",
            "result.stderr",
            "result.stdout",
            "subprocess.TimeoutExpired",
            "subprocess.run",
            "sys.executable"
          ]
        },
        {
          "name": "_parse_unittest_output",
          "lines": "715-851",
          "tokens": 1039,
          "content_hash": "ac7399d2973c653aa1fba8368af179b4",
          "analyzed_by": "qwen",
          "description": "Parses the verbose output of Python unittest into a structured TestResult object, extracting test counts, failures, errors, and system-level issues like import or syntax errors.",
          "references": [
            "TestResult",
            "_extract_failed_tests",
            "error_match.group",
            "fail_match.group",
            "match.group",
            "ran_match.group",
            "re.search"
          ]
        },
        {
          "name": "_extract_failed_tests",
          "lines": "854-930",
          "tokens": 666,
          "content_hash": "cbace0b5e4a26fef6ac02d081e3e60e4",
          "analyzed_by": "qwen",
          "description": "Parses unittest output to extract failed or errored tests, returning a structured list with test names and truncated tracebacks. Uses regex to handle different output formats across Python versions.",
          "references": [
            "fail_pattern.finditer",
            "failed_tests.append",
            "match.group",
            "re.DOTALL",
            "re.compile",
            "simple_pattern.finditer"
          ]
        },
        {
          "name": "_format_result_xml",
          "lines": "937-1014",
          "tokens": 682,
          "content_hash": "3c6fda631c9d26d8a28ce2137d5dd9ef",
          "analyzed_by": "qwen",
          "description": "Formats test results into an XML string for Orchestrator integration, including test status, failures, errors, and execution details.",
          "references": [
            "_escape_xml",
            "failed_items.append",
            "result.error_message",
            "result.execution_time_ms",
            "result.failed_tests",
            "result.success",
            "result.test_output",
            "result.tests_errors",
            "result.tests_failed",
            "result.tests_passed",
            "result.tests_run"
          ]
        },
        {
          "name": "_format_error",
          "lines": "1017-1036",
          "tokens": 123,
          "content_hash": "dd8971dfdebbb4e020f755f72a7f0a4a",
          "analyzed_by": "qwen",
          "description": "Formats system-level errors as XML for test output, used for issues occurring before test execution.",
          "references": []
        },
        {
          "name": "_escape_xml",
          "lines": "1039-1059",
          "tokens": 114,
          "content_hash": "1f6d806036fa5cbbc9682ec41802a683",
          "analyzed_by": "qwen",
          "description": "Escapes special XML characters in a string to make it safe for XML content. Replaces &, <, >, \", and ' with their corresponding XML entity references.",
          "references": [
            "text.replace"
          ]
        },
        {
          "name": "parse_test_result_xml",
          "lines": "1066-1202",
          "tokens": 1011,
          "content_hash": "2fa53756a59be5753757c78469c7ec08",
          "analyzed_by": "qwen",
          "description": "Parses XML test results into a TestResult object, used by feedback systems to process test outcomes. Integrates with test execution workflows and error handling.",
          "references": [
            "TestResult",
            "error_match.group",
            "extract_float",
            "extract_int",
            "failed_pattern.finditer",
            "failed_tests.append",
            "logger.error",
            "match.group",
            "output_match.group",
            "re.DOTALL",
            "re.compile",
            "re.search",
            "status_match.group"
          ]
        },
        {
          "name": "format_test_limit_error",
          "lines": "1208-1258",
          "tokens": 400,
          "content_hash": "dbc5940cdd57bf9b8c65718d420d7a93",
          "analyzed_by": "qwen",
          "description": "Formats an XML error message when the maximum number of test runs per session is exceeded, guiding the agent to use existing results and focus on fixing issues.",
          "references": []
        },
        {
          "name": "get_test_runs_remaining",
          "lines": "1261-1273",
          "tokens": 84,
          "content_hash": "1a875da3b9497beb9bd7c966f397fd6d",
          "analyzed_by": "qwen",
          "description": "Calculates the number of remaining test runs allowed in a session based on a predefined maximum and current usage.",
          "references": []
        },
        {
          "name": "can_run_more_tests",
          "lines": "1276-1288",
          "tokens": 82,
          "content_hash": "6683c0022c0494bcf12757677d381965",
          "analyzed_by": "qwen",
          "description": "Determines whether additional test runs can be executed based on a predefined session limit.",
          "references": []
        }
      ],
      "last_indexed": "2026-01-05T02:19:48.186443+00:00"
    },
    "app/agents/agent_pipeline.py": {
      "name": "agent_pipeline.py",
      "path": "app/agents/agent_pipeline.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\agents\\agent_pipeline.py",
      "file_hash": "d77f7265c880abf1eb288cc1036de380",
      "tokens_total": 37526,
      "lines_total": 4506,
      "imports": {
        "lines": "20-74",
        "modules": [
          "__future__.annotations",
          "asyncio",
          "logging",
          "uuid",
          "dataclasses.dataclass",
          "dataclasses.field",
          "datetime.datetime",
          "enum.Enum",
          "pathlib.Path",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Callable",
          "typing.TYPE_CHECKING",
          "config.settings.cfg",
          "app.services.virtual_fs.VirtualFileSystem",
          "app.services.virtual_fs.ChangeType",
          "app.services.virtual_fs.CommitResult",
          "app.services.backup_manager.BackupManager",
          "app.services.change_validator.ChangeValidator",
          "app.services.change_validator.ValidationResult",
          "app.services.change_validator.ValidationLevel",
          "app.agents.orchestrator.orchestrate_agent",
          "app.agents.orchestrator.OrchestratorResult",
          "app.agents.code_generator.generate_code_agent_mode",
          "app.agents.code_generator.CodeGeneratorResult",
          "app.agents.validator.AIValidator",
          "app.agents.validator.AIValidationResult",
          "app.agents.validator.AIValidationRequest",
          "app.agents.pre_filter.pre_filter_chunks",
          "app.agents.pre_filter.PreFilterResult",
          "app.agents.feedback_handler.FeedbackHandler",
          "app.agents.feedback_handler.FeedbackSource",
          "app.agents.feedback_handler.ValidatorFeedback",
          "app.agents.feedback_handler.TestRunFeedback",
          "app.agents.feedback_loop.FeedbackLoopState",
          "app.agents.feedback_loop.FeedbackAction",
          "app.agents.feedback_loop.create_feedback_loop",
          "app.services.file_modifier.FileModifier",
          "app.services.file_modifier.ParsedCodeBlock",
          "app.services.file_modifier.ModifyResult",
          "app.history.manager.HistoryManager",
          "app.tools.dependency_manager.DependencyManager",
          "app.agents.feedback_prompt_loader.reset_feedback_loader",
          "app.utils.token_counter.TokenCounter",
          "app.services.project_map_builder.get_project_map_for_prompt",
          "app.utils.validation_logger.get_validation_logger",
          "app.utils.validation_logger.log_validation_error",
          "app.services.change_validator.ChangeValidator",
          "app.services.change_validator.ValidationResult",
          "app.services.change_validator.ValidationLevel",
          "app.services.change_validator.IssueSeverity"
        ],
        "tokens": 315
      },
      "globals": {
        "lines": "78-504",
        "names": [
          "logger",
          "OnThinkingCallback",
          "OnToolCallCallback",
          "OnValidationCallback",
          "OnStatusCallback",
          "OnStageCallback",
          "OnUserDecisionCallback"
        ],
        "tokens": 96
      },
      "description": "Multi-stage AI code generation pipeline with orchestrator-driven feedback loops, integrating virtual filesystem staging and multi-level validation (syntax, AI, tests).",
      "classes": [
        {
          "name": "PipelineMode",
          "lines": "112-116",
          "tokens": 55,
          "content_hash": "ec8e2c9b312bb46af70fb3e702690c1c",
          "analyzed_by": "qwen",
          "description": "Defines execution modes for a pipeline, supporting autonomous agent actions, analysis-only operations, and new project creation.",
          "references": [],
          "methods": []
        },
        {
          "name": "OrchestratorFeedbackDecision",
          "lines": "120-125",
          "tokens": 63,
          "content_hash": "c37ce54e37757977ddfce00882e7ff51",
          "analyzed_by": "qwen",
          "description": "Represents the outcome of an Orchestrator's decision on validator feedback, including the decision type, reasoning, and optional updated instruction or analysis.",
          "references": [],
          "methods": []
        },
        {
          "name": "PipelineStatus",
          "lines": "127-137",
          "tokens": 84,
          "content_hash": "f7ec6f01ae28ab84ec7f4a495a555399",
          "analyzed_by": "qwen",
          "description": "Represents the current status of an agent pipeline, defining possible states from idle to completed or failed.",
          "references": [],
          "methods": []
        },
        {
          "name": "PendingDeletion",
          "lines": "141-147",
          "tokens": 57,
          "content_hash": "c2e976491477f6a78574dfddfca07d03",
          "analyzed_by": "qwen",
          "description": "Represents an entity scheduled for deletion after tests pass, tracking details like name, type, file path, and deletion reason.",
          "references": [],
          "methods": []
        },
        {
          "name": "PendingChange",
          "lines": "420-426",
          "tokens": 47,
          "content_hash": "3fff71a95c7d5f2ac83a0c58d832650a",
          "analyzed_by": "qwen",
          "description": "Represents a pending code change requiring user confirmation, containing details like file path, code block, modification result, and validation statuses.",
          "references": [],
          "methods": []
        },
        {
          "name": "PipelineResult",
          "lines": "430-478",
          "tokens": 337,
          "content_hash": "890ac3a0bfc5e2a152137832521a9274",
          "analyzed_by": "qwen",
          "description": "Tracks the result of a pipeline execution, including success status, analysis, code changes, validation, feedback decisions, and performance metrics. Integrates with OrchestratorFeedbackDecision and ParsedCodeBlock for structured pipeline output.",
          "references": [
            "field"
          ],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "ApplyResult",
          "lines": "483-489",
          "tokens": 46,
          "content_hash": "b1eca81ee6ce526df6e7966491750c91",
          "analyzed_by": "qwen",
          "description": "Represents the outcome of applying changes, tracking success status, modified/created files, errors, and an optional backup session ID.",
          "references": [],
          "methods": []
        },
        {
          "name": "AgentPipeline",
          "lines": "551-4504",
          "tokens": 32921,
          "content_hash": "8ed98e4d591b71204256a49919a6c3cf",
          "analyzed_by": "deepseek",
          "description": "Multi-stage AI code generation pipeline with orchestrator-driven feedback loops, integrating virtual filesystem staging and multi-level validation (syntax, AI, tests).",
          "references": [
            "AIValidator",
            "ApplyResult",
            "BackupManager",
            "ChangeType.DELETE",
            "ChangeType.MODIFY",
            "ChangeValidator",
            "DependencyManager",
            "FileModifier",
            "IssueSeverity.ERROR",
            "ModifyResult",
            "OrchestratorFeedbackDecision",
            "Path",
            "PendingChange",
            "PipelineMode.AGENT",
            "PipelineMode.ASK",
            "PipelineResult",
            "PipelineStatus.ANALYZING",
            "PipelineStatus.APPLYING",
            "PipelineStatus.AWAITING_CONFIRMATION",
            "PipelineStatus.CANCELLED",
            "PipelineStatus.COMPLETED",
            "PipelineStatus.FAILED",
            "PipelineStatus.GENERATING",
            "PipelineStatus.IDLE",
            "PipelineStatus.VALIDATING",
            "PipelineTraceLogger",
            "TokenCounter",
            "ToolExecutor",
            "ValidationLevel",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.INTEGRATION",
            "ValidationLevel.RUNTIME",
            "ValidationLevel.SYNTAX",
            "ValidationLevel.TESTS",
            "ValidationLevel.TYPES",
            "ValidationResult",
            "ValidatorConfig",
            "VirtualFileSystem",
            "_count_skipped_reasons",
            "_load_compact_index_md",
            "ai_result.approved",
            "ai_result.confidence",
            "ai_result.critical_issues",
            "ai_result.model_used",
            "ai_result.parse_error",
            "ai_result.raw_response",
            "ai_result.to_dict",
            "ai_result.verdict",
            "ai_validation_result.approved",
            "ai_validation_result.to_dict",
            "analysis_match.group",
            "applied_backups.append",
            "ast.AsyncFunctionDef",
            "ast.ClassDef",
            "ast.FunctionDef",
            "ast.iter_child_nodes",
            "ast.parse",
            "ast.walk",
            "b.code",
            "b.file_path",
            "b.mode",
            "block.code",
            "block.file_path",
            "block.insert_after",
            "block.insert_before",
            "block.mode",
            "block.target_class",
            "block.target_function",
            "block.target_method",
            "c.file_path",
            "cfg.get_model_display_name",
            "change.ai_validation_passed",
            "change.code_block",
            "change.file_path",
            "change.modify_result",
            "change.original_content",
            "change.validation_passed",
            "change_record.id",
            "change_record_ids.append",
            "code_preview.split",
            "code_preview_parts.append",
            "combined_code_parts.append",
            "commented.append",
            "commit_result.applied_files",
            "commit_result.backups",
            "commit_result.created_files",
            "commit_result.errors",
            "commit_result.success",
            "create_feedback_loop",
            "create_validation_error_feedback",
            "d.file_path",
            "d.target_name",
            "data.get",
            "decision.decision",
            "decision.lower",
            "decision.reasoning",
            "decision_history.append",
            "defaultdict",
            "deletion.file_path",
            "deletion.parent_class",
            "deletion.reason",
            "deletion.target_name",
            "deletion.target_type",
            "details.split",
            "e.file_path",
            "e.level",
            "e.line",
            "e.message",
            "e.to_dict",
            "enhanced_history.append",
            "err.file_path",
            "err.level",
            "err.line",
            "err.message",
            "err.suggestion",
            "err_item.get",
            "error_details.append",
            "errors.append",
            "errors_by_file.items",
            "executor.execute",
            "extract_deletions_from_instruction",
            "feedback.get",
            "feedback.to_prompt_format",
            "feedback_dump.get",
            "file_contents.keys",
            "file_path.endswith",
            "files.append",
            "files_to_read.append",
            "files_to_read.extend",
            "generate_code_agent_mode",
            "get_project_map_for_prompt",
            "get_validation_logger",
            "history.copy",
            "i.level",
            "i.message",
            "i.severity",
            "install_result.successful",
            "instruction_match.group",
            "issue.details",
            "issue.file_path",
            "issue.level",
            "issue.line",
            "issue.message",
            "issue.severity",
            "issue.to_dict",
            "item.name",
            "levels.append",
            "levels.extend",
            "line.strip",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "loop_result.get",
            "match.group",
            "mode.value",
            "modified_files.add",
            "new_ai_result.approved",
            "new_ai_result.confidence",
            "new_ai_result.to_dict",
            "new_files.add",
            "new_validation.error_count",
            "new_validation.success",
            "new_validation.to_dict",
            "node.body",
            "node.name",
            "numbered_lines.append",
            "orchestrate_agent",
            "orchestrator_decision.decision",
            "orchestrator_decision.new_instruction",
            "orchestrator_decision.reasoning",
            "orchestrator_result.analysis",
            "orchestrator_result.instruction",
            "orchestrator_result.raw_response",
            "orchestrator_result.target_file",
            "orchestrator_result.target_files",
            "orchestrator_result.tool_calls",
            "original_change.change_type",
            "original_change.new_content",
            "original_contents.get",
            "original_parts.append",
            "paragraph_match.group",
            "parse_response_type",
            "parts.append",
            "pending.append",
            "pre_filter_chunks",
            "pre_filter_result.selected_chunks",
            "r.get",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.finditer",
            "re.search",
            "re.sub",
            "reasoning.startswith",
            "reset_feedback_loader",
            "response.lower",
            "result.ai_validation_result",
            "result.analysis",
            "result.code_blocks",
            "result.diffs",
            "result.duration_ms",
            "result.errors",
            "result.feedback_iterations",
            "result.get",
            "result.instruction",
            "result.levels_failed",
            "result.levels_passed",
            "result.message",
            "result.new_content",
            "result.orchestrator_decision",
            "result.pending_changes",
            "result.startswith",
            "result.status",
            "result.success",
            "result.tool_calls",
            "result.validation_result",
            "results.append",
            "route_request",
            "routing.complexity_level",
            "routing.orchestrator_model",
            "runtime_failures.append",
            "seen.add",
            "session.backups",
            "session.session_id",
            "source.splitlines",
            "staged_content.items",
            "staged_content.keys",
            "status.value",
            "target_node.end_lineno",
            "target_node.lineno",
            "targets.append",
            "tc.arguments",
            "tc.name",
            "tc.success",
            "tc.thinking",
            "time.time",
            "trace.add_generated_code",
            "trace.add_tool_call",
            "trace.complete",
            "trace.set_ai_validation",
            "trace.set_error",
            "trace.set_instruction",
            "trace.set_orchestrator_decision",
            "trace.set_runtime_results",
            "trace.set_tech_validation",
            "trace.set_tests",
            "uuid.uuid4",
            "validation_result.error_count",
            "validation_result.issues",
            "validation_result.runtime_files_checked",
            "validation_result.runtime_files_failed",
            "validation_result.runtime_files_passed",
            "validation_result.runtime_test_summary",
            "validation_result.success",
            "validation_result.tests_failed",
            "validation_result.tests_passed",
            "validation_result.tests_run",
            "validation_result.to_dict",
            "validation_result.warning_count",
            "validation_with_tests.error_count",
            "validation_with_tests.issues",
            "validation_with_tests.runtime_files_checked",
            "validation_with_tests.runtime_files_failed",
            "validation_with_tests.runtime_files_passed",
            "validation_with_tests.runtime_test_summary",
            "validation_with_tests.success",
            "validation_with_tests.tests_failed",
            "validation_with_tests.tests_passed",
            "validation_with_tests.tests_run",
            "validation_with_tests.to_dict",
            "validator.validate_before_commit",
            "validator.validate_full",
            "vlog.log_ai_validation",
            "vlog.log_code_generation",
            "vlog.log_complete",
            "vlog.log_error",
            "vlog.log_orchestrator",
            "vlog.log_stage",
            "vlog.log_validation",
            "working_history.append",
            "working_history.copy"
          ],
          "methods": [
            "__init__",
            "set_orchestrator_model",
            "set_generator_model",
            "process_request",
            "_validation_loop",
            "run_feedback_cycle",
            "_request_instruction_fix",
            "_get_orchestrator_decision",
            "_notify_stage",
            "_dict_to_validation_result",
            "apply_pending_changes",
            "discard_pending_changes",
            "_run_orchestrator",
            "_run_code_generator",
            "_extract_files_from_instruction",
            "_stage_code_blocks",
            "_run_validation",
            "_run_ai_validation",
            "_get_orchestrator_decision_on_ai_feedback",
            "_format_validation_feedback",
            "_format_errors_for_orchestrator",
            "_format_test_errors_for_orchestrator",
            "_format_ai_validator_feedback",
            "_format_test_feedback",
            "_parse_orchestrator_feedback_decision",
            "handle_user_feedback",
            "_handle_ai_rejection",
            "_handle_validation_errors",
            "_handle_validation_errors_with_feedback",
            "_build_pending_changes",
            "_update_status",
            "has_pending_changes",
            "pending_files",
            "_apply_pending_deletions",
            "_delete_file",
            "_comment_out_code",
            "_format_generated_code_for_context",
            "_format_new_files_context",
            "get_stats"
          ]
        }
      ],
      "functions": [
        {
          "name": "_load_compact_index_md",
          "lines": "81-105",
          "tokens": 240,
          "content_hash": "531ebceca9a7e08ab2de8523833ad32f",
          "analyzed_by": "qwen",
          "description": "Loads the compact project index (compact_index.md) for the Orchestrator, returning its content or a fallback message if the file is missing or unreadable.",
          "references": [
            "Path",
            "compact_md_path.exists",
            "compact_md_path.read_text",
            "logger.info",
            "logger.warning"
          ]
        },
        {
          "name": "extract_deletions_from_instruction",
          "lines": "150-238",
          "tokens": 769,
          "content_hash": "13035b3b5531aad482c71746a21ed0fb",
          "analyzed_by": "qwen",
          "description": "Extracts DELETE instructions for code elements or files from an Orchestrator instruction text, returning a cleaned instruction and a list of PendingDeletion objects. Uses regex to parse two deletion formats and supports METHOD, FUNCTION, CLASS, and FILE types.",
          "references": [
            "PendingDeletion",
            "clean_instruction.strip",
            "deletions.append",
            "element_delete_pattern.finditer",
            "element_delete_pattern.sub",
            "file_delete_pattern.finditer",
            "file_delete_pattern.sub",
            "match.group",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.compile",
            "re.sub"
          ]
        },
        {
          "name": "parse_response_type",
          "lines": "241-415",
          "tokens": 1879,
          "content_hash": "58b57e0b489d9ac6ce3475b66baccb2a",
          "analyzed_by": "qwen",
          "description": "Analyzes an Orchestrator response to determine if it's a \"DIRECT_ANSWER\" or \"CODE_INSTRUCTION\", using multiple regex-based checks for markers, code blocks, and language patterns. Integrates with logging for debugging.",
          "references": [
            "answer_match.group",
            "block.strip",
            "found_directives.append",
            "line.strip",
            "logger.debug",
            "re.DOTALL",
            "re.IGNORECASE",
            "re.findall",
            "re.search",
            "response.strip",
            "stripped.startswith",
            "type_match.group"
          ]
        },
        {
          "name": "_count_skipped_reasons",
          "lines": "507-542",
          "tokens": 356,
          "content_hash": "5135235025084d5e9035f3c3941bb895",
          "analyzed_by": "qwen",
          "description": "Counts reasons for skipped runtime tests and categorizes them into simplified labels.",
          "references": [
            "msg.lower",
            "r.get",
            "reasons.get",
            "runtime_summary.get"
          ]
        }
      ],
      "last_indexed": "2026-01-12T12:24:48.588772+00:00"
    },
    "mainsertif.py": {
      "name": "mainsertif.py",
      "path": "mainsertif.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\mainsertif.py",
      "file_hash": "5b3777823d2a01847cdc922b423c69b5",
      "tokens_total": 2232,
      "lines_total": 206,
      "imports": {
        "lines": "1-10",
        "modules": [
          "uuid",
          "requests",
          "json",
          "logging",
          "os",
          "time",
          "rich.console.Console",
          "rich.table.Table",
          "rich.box",
          "config.settings.cfg"
        ],
        "tokens": 40
      },
      "globals": {
        "lines": "19-19",
        "names": [
          "console"
        ],
        "tokens": 4
      },
      "description": "Unified diagnostic script for testing connectivity and performance of multiple AI model APIs (OpenAI-compatible, GigaChat, OpenRouter, DeepSeek) with automated certificate management and error logging.",
      "classes": [],
      "functions": [
        {
          "name": "download_russia_cert",
          "lines": "21-46",
          "tokens": 327,
          "content_hash": "78010aa7d17bf10b54abed29b3f0dd02",
          "analyzed_by": "qwen",
          "description": "Автоматически загружает сертификат Минцифры по указанному URL, если он отсутствует или повреждён, использует requests для скачивания и сохраняет его в указанную директорию.",
          "references": [
            "console.print",
            "f.write",
            "logging.error",
            "os.makedirs",
            "os.path",
            "requests.get",
            "response.content",
            "response.status_code"
          ]
        },
        {
          "name": "test_openai_compatible",
          "lines": "48-95",
          "tokens": 525,
          "content_hash": "5b8a4fc28f722dc791721aed9924e430",
          "analyzed_by": "qwen",
          "description": "Tests OpenAI-compatible models (DeepSeek, OpenRouter, RouterAI) by sending a philosophical question, returns formatted results with status, latency, and response. Uses requests and logging, integrates with external APIs.",
          "references": [
            "logging.error",
            "requests.post",
            "resp.json",
            "resp.status_code",
            "resp.text",
            "time.time"
          ]
        },
        {
          "name": "test_gigachat_full",
          "lines": "97-162",
          "tokens": 672,
          "content_hash": "bba9247d415b21b09f4130941e534254",
          "analyzed_by": "qwen",
          "description": "Тестирует авторизацию и работу GigaChat API, включая получение токена и отправку сообщения, с проверкой SSL-сертификата. Использует requests, логирование и настройки из конфигурации.",
          "references": [
            "auth_resp.json",
            "auth_resp.status_code",
            "auth_resp.text",
            "cfg.GIGACHAT_AUTH_KEY",
            "cfg.GIGACHAT_CA_BUNDLE",
            "cfg.GIGACHAT_SCOPE",
            "chat_resp.json",
            "chat_resp.status_code",
            "chat_resp.text",
            "download_russia_cert",
            "logging.error",
            "os.path",
            "requests.exceptions",
            "requests.post",
            "time.time",
            "uuid.uuid4"
          ]
        },
        {
          "name": "run_checks",
          "lines": "164-203",
          "tokens": 600,
          "content_hash": "bfa32f7762c7e51081250f4c6a85e6e7",
          "analyzed_by": "qwen",
          "description": "Runs a connectivity diagnostic for multiple AI models, testing API responses and logging errors; integrates with OpenRouter, DeepSeek, and GigaChat via configured API keys and endpoints.",
          "references": [
            "Table",
            "box.ROUNDED",
            "cfg.DEEPSEEK_API_KEY",
            "cfg.DEEPSEEK_BASE_URL",
            "cfg.MODEL_GLM_4_7",
            "cfg.MODEL_HAIKU_4_5",
            "cfg.MODEL_NORMAL",
            "cfg.MODEL_QWEN",
            "cfg.OPENROUTER_API_KEY",
            "cfg.OPENROUTER_BASE_URL",
            "console.print",
            "console.status",
            "status.update",
            "table.add_column",
            "table.add_row",
            "test_gigachat_full",
            "test_openai_compatible"
          ]
        }
      ],
      "last_indexed": "2026-01-03T16:40:49.003430+00:00"
    },
    "scripts/test_run_project_tests.py": {
      "name": "test_run_project_tests.py",
      "path": "scripts/test_run_project_tests.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_run_project_tests.py",
      "file_hash": "96049772c993f09c37629e9a5d074d4d",
      "tokens_total": 11022,
      "lines_total": 1358,
      "imports": {
        "lines": "15-32",
        "modules": [
          "sys",
          "os",
          "tempfile",
          "shutil",
          "time",
          "pathlib.Path",
          "typing.Optional",
          "typing.List",
          "dataclasses.dataclass",
          "datetime.datetime",
          "rich.console.Console",
          "rich.panel.Panel",
          "rich.table.Table",
          "rich.box"
        ],
        "tokens": 61
      },
      "globals": {
        "lines": "26-313",
        "names": [
          "PROJECT_ROOT",
          "console",
          "SAMPLE_MODULE_CODE",
          "PASSING_TEST_CODE",
          "FAILING_TEST_CODE",
          "IMPORT_ERROR_TEST",
          "MODIFIED_MODULE_CODE",
          "MULTIPLY_TEST_CODE"
        ],
        "tokens": 1007
      },
      "description": "Unit test suite for validating the test execution framework, including result parsing, VirtualFileSystem integration, and targeted test runs.",
      "classes": [
        {
          "name": "TestResultRecord",
          "lines": "42-48",
          "tokens": 42,
          "content_hash": "cb227279139682a7784b3589a4ad815d",
          "analyzed_by": "qwen",
          "description": "Stores the outcome of an individual test, including its name, pass status, message, execution time, and optional details.",
          "references": [],
          "methods": []
        },
        {
          "name": "TestRunner",
          "lines": "51-123",
          "tokens": 490,
          "content_hash": "d6b703d75c8bcd05333f27d6537c787b",
          "analyzed_by": "qwen",
          "description": "Manages test execution, result recording, and cleanup of temporary test directories; integrates with file system operations and displays results in a formatted summary.",
          "references": [
            "Panel",
            "Table",
            "TestResultRecord",
            "box.ROUNDED",
            "console.print",
            "r.duration_ms",
            "r.message",
            "r.name",
            "r.passed",
            "shutil.rmtree",
            "table.add_column",
            "table.add_row",
            "tempfile.mkdtemp"
          ],
          "methods": [
            "__init__",
            "create_temp_project",
            "cleanup",
            "record",
            "print_summary"
          ]
        }
      ],
      "functions": [
        {
          "name": "create_project_structure",
          "lines": "316-334",
          "tokens": 212,
          "content_hash": "891842b272f8ae6c69f495af13e57295",
          "analyzed_by": "qwen",
          "description": "Generates a realistic project directory structure with sample modules and test files for testing purposes, using predefined code templates.",
          "references": [
            "Path"
          ]
        },
        {
          "name": "test_1_basic_passing_tests",
          "lines": "341-380",
          "tokens": 427,
          "content_hash": "7024bdb70ffd87c6f0df226781a28238",
          "analyzed_by": "qwen",
          "description": "Tests a scenario where all 8 tests in test_passing.py are expected to pass, verifying test execution, XML result parsing, and correct result reporting. Integrates with TestRunner, run_project_tests, and parse_test_result_xml.",
          "references": [
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.failed_tests",
            "result.success",
            "result.tests_failed",
            "result.tests_passed",
            "result.tests_run",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_2_failing_tests",
          "lines": "383-421",
          "tokens": 408,
          "content_hash": "ddae936670a38495f125eee89da669c2",
          "analyzed_by": "qwen",
          "description": "Tests detection of failing and error-prone tests by running a predefined test file and validating XML output for expected failures and errors. Integrates with TestRunner, run_project_tests, and XML parsing.",
          "references": [
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.failed_tests",
            "result.success",
            "result.tests_errors",
            "result.tests_failed",
            "result.tests_run",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_3_specific_test_class",
          "lines": "424-458",
          "tokens": 344,
          "content_hash": "61db0538f2e6ff57bd38a30b4a963003",
          "analyzed_by": "qwen",
          "description": "Tests running a specific test class using chunk_name filtering, verifies test execution and results parsing. Integrates with TestRunner, run_project_tests, and XML result validation.",
          "references": [
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.tests_passed",
            "result.tests_run",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_4_specific_test_method",
          "lines": "461-493",
          "tokens": 316,
          "content_hash": "66e95fc211877f4e272eacff94d8a47b",
          "analyzed_by": "qwen",
          "description": "Tests the execution of a specific test method in a test file, verifying that only one test runs and passes. Integrates with a test runner, project setup, and XML result parsing.",
          "references": [
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.success",
            "result.tests_run",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_5_vfs_staged_changes",
          "lines": "496-552",
          "tokens": 598,
          "content_hash": "576e571c6866595a7010e95260aff5e7",
          "analyzed_by": "qwen",
          "description": "Tests VirtualFileSystem staged changes by verifying original code passes tests and modified (broken) code fails, ensuring VFS overlay functionality. Integrates with test execution, VirtualFileSystem, and result parsing.",
          "references": [
            "VirtualFileSystem",
            "console.print",
            "create_project_structure",
            "original_result.success",
            "original_result.tests_passed",
            "original_result.tests_run",
            "parse_test_result_xml",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time",
            "vfs.stage_change",
            "vfs_result.success",
            "vfs_result.tests_failed"
          ]
        },
        {
          "name": "test_6_vfs_new_file",
          "lines": "555-624",
          "tokens": 582,
          "content_hash": "96427152faea4f7f53e6c9e2c9fd8dcf",
          "analyzed_by": "qwen",
          "description": "Tests the ability to run project tests on new files staged in a Virtual File System (VFS) without writing them to disk, using VirtualFileSystem and test execution tools.",
          "references": [
            "VirtualFileSystem",
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.success",
            "result.tests_run",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_7_vfs_deleted_file",
          "lines": "627-677",
          "tokens": 472,
          "content_hash": "73490f4d7fefc3246050a351f927770c",
          "analyzed_by": "qwen",
          "description": "Tests the behavior of a project when a file is marked as deleted in the Virtual File System (VFS), ensuring test failures occur due to the missing file. Integrates with VirtualFileSystem and test execution utilities.",
          "references": [
            "VirtualFileSystem",
            "console.print",
            "create_project_structure",
            "original_result.success",
            "original_result.tests_passed",
            "parse_test_result_xml",
            "result.success",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time",
            "vfs.stage_deletion"
          ]
        },
        {
          "name": "test_8_timeout_handling",
          "lines": "680-731",
          "tokens": 390,
          "content_hash": "05625ce188d891f0265682a7fbd758f1",
          "analyzed_by": "qwen",
          "description": "Tests timeout handling by running a slow test with a 2-second timeout and verifying that the system correctly detects and reports the timeout. Integrates with run_project_tests and test result parsing.",
          "references": [
            "Path",
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.error_message",
            "result.success",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_9_import_error_handling",
          "lines": "734-778",
          "tokens": 406,
          "content_hash": "2263e7e2e63bc83a9c5c62d577206743",
          "analyzed_by": "qwen",
          "description": "Tests how the system handles import errors during test execution, ensuring errors like ModuleNotFoundError are properly reported. Integrates with test runners and XML result parsing.",
          "references": [
            "Path",
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.error_message",
            "result.success",
            "result.test_output",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_10_nonexistent_test_file",
          "lines": "781-811",
          "tokens": 288,
          "content_hash": "db89fed11a59e120e73379551acf20f9",
          "analyzed_by": "qwen",
          "description": "Tests error handling when a non-existent test file is provided, verifying that the system returns an error status and handles the situation gracefully.",
          "references": [
            "console.print",
            "create_project_structure",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_11_feedback_handler_integration",
          "lines": "814-875",
          "tokens": 615,
          "content_hash": "3a487ec6e4703a88ee1e9479ab799a8c",
          "analyzed_by": "qwen",
          "description": "Tests the integration between FeedbackHandler and TestRunFeedback by running failing tests, generating feedback, and verifying handling and formatting. Integrates with test execution, XML parsing, and feedback orchestration.",
          "references": [
            "FeedbackHandler",
            "console.print",
            "create_project_structure",
            "create_test_run_feedback_from_xml",
            "feedback.success",
            "feedback.tests_failed",
            "handler._test_run_results",
            "handler.add_test_run_result",
            "handler.get_feedback_for_orchestrator",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_12_feedback_loop_integration",
          "lines": "878-957",
          "tokens": 837,
          "content_hash": "5816a1241331e8c4bb93c25e4b50d7c9",
          "analyzed_by": "qwen",
          "description": "Tests the integration of FeedbackLoopState with test runs, including state tracking, run limits, and feedback recording.",
          "references": [
            "console.print",
            "create_feedback_loop",
            "create_project_structure",
            "create_test_run_feedback_from_xml",
            "last_run.success",
            "loop_state.can_run_tests",
            "loop_state.get_last_test_run",
            "loop_state.get_test_run_summary",
            "loop_state.record_test_run",
            "loop_state.test_run_history",
            "loop_state.test_runs",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_13_tool_executor_integration",
          "lines": "959-1013",
          "tokens": 479,
          "content_hash": "fa248ddb6a5e378ce8f1d70e6d6e4100",
          "analyzed_by": "qwen",
          "description": "Tests the integration of ToolExecutor with VirtualFileSystem, ensuring tools like run_project_tests execute correctly and respond to staged file changes.",
          "references": [
            "ToolExecutor",
            "VirtualFileSystem",
            "console.print",
            "create_project_structure",
            "executor.execute",
            "runner.create_temp_project",
            "runner.record",
            "time.time",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_14_orchestrator_tool_usage_stats",
          "lines": "1016-1062",
          "tokens": 550,
          "content_hash": "21cf6ed2e74cde07a9e8c897041a3017",
          "analyzed_by": "qwen",
          "description": "Tests the ToolUsageStats class in the orchestrator, verifying test run tracking, quota enforcement, and independence of web search functionality.",
          "references": [
            "ToolUsageStats",
            "console.print",
            "runner.record",
            "stats.can_run_tests",
            "stats.can_use_web_search",
            "stats.get_remaining_test_runs",
            "stats.increment",
            "stats.test_run_count",
            "time.time"
          ]
        },
        {
          "name": "test_15_xml_parsing_edge_cases",
          "lines": "1066-1094",
          "tokens": 316,
          "content_hash": "92472dbe7641030f790f5bb1f78ceb3e",
          "analyzed_by": "qwen",
          "description": "Tests edge cases for XML parsing in test results, ensuring robust handling of empty, invalid, and incomplete XML inputs. Integrates with parse_test_result_xml and TestRunner for validation and reporting.",
          "references": [
            "console.print",
            "parse_test_result_xml",
            "result.success",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_16_vfs_multiple_changes",
          "lines": "1097-1155",
          "tokens": 449,
          "content_hash": "9cb5e2416371d6f1e699ec8c531bac07",
          "analyzed_by": "qwen",
          "description": "Tests the Virtual File System (VFS) handling of multiple simultaneous file changes by staging and running tests on newly added files, ensuring correct test execution and results parsing. Integrates with VirtualFileSystem, run_project_tests, and test assertion utilities.",
          "references": [
            "VirtualFileSystem",
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.success",
            "result.tests_run",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_17_empty_test_file",
          "lines": "1158-1202",
          "tokens": 368,
          "content_hash": "1ce4a3eec9fc225695f5a96e4d2fb40e",
          "analyzed_by": "qwen",
          "description": "Tests handling of a Python test file that contains no actual test methods, ensuring the test runner correctly reports 0 tests as a success. Integrates with run_project_tests and parse_test_result_xml for execution and result validation.",
          "references": [
            "Path",
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.success",
            "result.tests_run",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_18_syntax_error_in_test",
          "lines": "1205-1252",
          "tokens": 390,
          "content_hash": "0f5819da2e6c3548fcda6fc1faa274b5",
          "analyzed_by": "qwen",
          "description": "Tests handling of a syntax error in a test file by verifying that the test runner detects and reports the error correctly. Integrates with run_project_tests and test result parsing.",
          "references": [
            "Path",
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.error_message",
            "result.success",
            "result.test_output",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "test_19_fixture_setup_failure",
          "lines": "1255-1303",
          "tokens": 381,
          "content_hash": "0c8156382ed327d553de91041e629bc5",
          "analyzed_by": "qwen",
          "description": "Tests handling of test setup failures by verifying that test errors occur when setUp raises an exception, ensuring proper test result reporting. Integrates with test runners and XML result parsing.",
          "references": [
            "Path",
            "console.print",
            "create_project_structure",
            "parse_test_result_xml",
            "result.success",
            "result.tests_errors",
            "run_project_tests",
            "runner.create_temp_project",
            "runner.record",
            "time.time"
          ]
        },
        {
          "name": "main",
          "lines": "1309-1354",
          "tokens": 343,
          "content_hash": "143125c25f5a252ac05dd13e442ad701",
          "analyzed_by": "qwen",
          "description": "Runs a comprehensive test suite with real execution of tests, virtual file system operations, error handling, and integration checks, using a TestRunner and outputting results with rich console formatting.",
          "references": [
            "Panel",
            "TestRunner",
            "console.print",
            "runner.cleanup",
            "runner.print_summary",
            "test_10_nonexistent_test_file",
            "test_11_feedback_handler_integration",
            "test_12_feedback_loop_integration",
            "test_13_tool_executor_integration",
            "test_14_orchestrator_tool_usage_stats",
            "test_1_basic_passing_tests",
            "test_2_failing_tests",
            "test_3_specific_test_class",
            "test_4_specific_test_method",
            "test_5_vfs_staged_changes",
            "test_6_vfs_new_file",
            "test_7_vfs_deleted_file",
            "test_8_timeout_handling",
            "test_9_import_error_handling"
          ]
        }
      ],
      "last_indexed": "2025-12-28T15:34:16.259491+00:00"
    },
    "app/tools/dependency_manager.py": {
      "name": "dependency_manager.py",
      "path": "app/tools/dependency_manager.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\dependency_manager.py",
      "file_hash": "147a03a0eace930349ee32e7fe5c445a",
      "tokens_total": 6988,
      "lines_total": 887,
      "imports": {
        "lines": "11-20",
        "modules": [
          "subprocess",
          "sys",
          "json",
          "logging",
          "re",
          "pathlib.Path",
          "dataclasses.dataclass",
          "dataclasses.field",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Set",
          "typing.Tuple",
          "enum.Enum",
          "importlib.metadata.packages_distributions"
        ],
        "tokens": 55
      },
      "globals": {
        "lines": "23-174",
        "names": [
          "logger",
          "FALLBACK_IMPORT_TO_PACKAGE",
          "IMPORT_TO_PACKAGE",
          "_dynamic_import_mapping_cache",
          "BLOCKED_PACKAGES",
          "STDLIB_MODULES"
        ],
        "tokens": 1190
      },
      "description": "Dependency management system for Python AI agents, handling package installation, import mapping, and PyPI integration with virtual environment support and XML/JSON reporting.",
      "classes": [
        {
          "name": "InstallResult",
          "lines": "181-187",
          "tokens": 50,
          "content_hash": "93b6d6dbc4fa4af0ce67b7ec9752130c",
          "analyzed_by": "qwen",
          "description": "Represents the possible outcomes of a dependency installation process, such as success, failure, or if the package is already installed or part of the standard library.",
          "references": [],
          "methods": []
        },
        {
          "name": "PackageInfo",
          "lines": "191-195",
          "tokens": 38,
          "content_hash": "f77821951cd9b840f9e1e04898b54708",
          "analyzed_by": "qwen",
          "description": "Represents metadata for an installed package, including its name, version, and optional installation location.",
          "references": [],
          "methods": []
        },
        {
          "name": "InstallationResult",
          "lines": "199-212",
          "tokens": 84,
          "content_hash": "2add04f46e4c8fe4ab12fb814d4724a2",
          "analyzed_by": "qwen",
          "description": "Represents the result of a package installation, including status, message, and version; provides a method to convert the result to a dictionary.",
          "references": [],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "BulkInstallResult",
          "lines": "216-236",
          "tokens": 142,
          "content_hash": "e4d6c8f0f509dfcc21d581ab68d399fb",
          "analyzed_by": "qwen",
          "description": "Represents the result of a bulk package installation, tracking totals, successes, failures, and skips, with conversion to dictionary format for reporting or logging.",
          "references": [
            "field",
            "r.to_dict"
          ],
          "methods": [
            "all_success",
            "to_dict"
          ]
        },
        {
          "name": "DependencyManager",
          "lines": "243-669",
          "tokens": 3181,
          "content_hash": "3790942345a61823d9a24bf41f4631b5",
          "analyzed_by": "qwen",
          "description": "Manages Python dependencies for an AI agent, including listing installed packages, resolving import names to pip package names, and installing missing packages. Integrates with virtual environments, subprocess for pip commands, and logging for tracking operations.",
          "references": [
            "BulkInstallResult",
            "InstallResult.ALREADY_INSTALLED",
            "InstallResult.BLOCKED",
            "InstallResult.FAILED",
            "InstallResult.STDLIB",
            "InstallResult.SUCCESS",
            "InstallationResult",
            "PackageInfo",
            "Path",
            "Path.cwd",
            "cmd.append",
            "get_import_to_package_mapping",
            "import_name.split",
            "info.version",
            "issue.get",
            "json.loads",
            "level.lower",
            "logger.error",
            "logger.info",
            "logger.warning",
            "mapping.get",
            "match.group",
            "message.lower",
            "missing_modules.add",
            "module_name.split",
            "name.lower",
            "os.environ",
            "package_name.lower",
            "packages.get",
            "pip.exists",
            "pkg.get",
            "python_exe.exists",
            "re.match",
            "re.search",
            "result.message",
            "result.package",
            "result.returncode",
            "result.status",
            "result.stderr",
            "result.stdout",
            "result.version",
            "results.append",
            "subprocess.CalledProcessError",
            "subprocess.TimeoutExpired",
            "subprocess.run",
            "sys.executable",
            "sys.platform",
            "venv_dir.exists"
          ],
          "methods": [
            "__init__",
            "_detect_venv",
            "_update_paths",
            "_get_pip_path",
            "_get_python_path",
            "ensure_project_venv",
            "list_installed_packages",
            "is_installed",
            "get_installed_version",
            "resolve_package_name",
            "is_stdlib",
            "is_blocked",
            "install_package",
            "install_from_import",
            "install_missing_from_validation"
          ]
        }
      ],
      "functions": [
        {
          "name": "build_dynamic_import_mapping",
          "lines": "74-104",
          "tokens": 252,
          "content_hash": "44cd0e90e86cd04430e9568a0395035c",
          "analyzed_by": "qwen",
          "description": "Constructs a mapping from Python import names to their corresponding pip package names by combining installed package data with fallback mappings for uninstalled packages. Uses importlib.metadata.packages_distributions() and integrates with logging for error and debug tracking.",
          "references": [
            "FALLBACK_IMPORT_TO_PACKAGE.copy",
            "dynamic_mapping.items",
            "logger.debug",
            "logger.warning",
            "packages_distributions"
          ]
        },
        {
          "name": "get_import_to_package_mapping",
          "lines": "111-126",
          "tokens": 105,
          "content_hash": "78026e5e2c511f95368334c76c39711a",
          "analyzed_by": "qwen",
          "description": "Returns a cached mapping of Python import names to their corresponding pip package names, rebuilding it if needed or forced by the refresh flag.",
          "references": [
            "build_dynamic_import_mapping"
          ]
        },
        {
          "name": "list_installed_packages_tool",
          "lines": "675-732",
          "tokens": 394,
          "content_hash": "061a830ac377fea01406820d70a39a0d",
          "analyzed_by": "qwen",
          "description": "Lists installed Python packages in a project directory, using a specified Python executable if provided; returns the result in XML format. Integrates with subprocess for pip commands and DependencyManager for fallback package listing.",
          "references": [
            "DependencyManager",
            "Path",
            "json.loads",
            "logger.warning",
            "manager.list_installed_packages",
            "pkg.get",
            "result.returncode",
            "result.stdout",
            "subprocess.run",
            "xml_lines.append"
          ]
        },
        {
          "name": "install_dependency_tool",
          "lines": "735-793",
          "tokens": 497,
          "content_hash": "6ec7cdcd36b8f7409f558c8d5a9869c5",
          "analyzed_by": "qwen",
          "description": "Installs a Python package dependency in a project directory using a DependencyManager, supporting custom Python/pip paths and version specifiers, and returns the result in XML format.",
          "references": [
            "DependencyManager",
            "Path",
            "logger.error",
            "manager._pip_path",
            "manager._python_path",
            "manager.install_package",
            "python_path.endswith",
            "python_path.replace",
            "sys.platform",
            "xml_lines.append"
          ]
        },
        {
          "name": "search_pypi_tool",
          "lines": "796-840",
          "tokens": 329,
          "content_hash": "06b82fe4ae2e0d2b42775bb7ed004c2a",
          "analyzed_by": "qwen",
          "description": "Поиск пакета на PyPI по запросу и возврат информации в XML-формате, использует JSON API PyPI и обрабатывает ошибки, такие как отсутствие пакета.",
          "references": [
            "_search_pypi_suggestions",
            "data.get",
            "e.code",
            "info.get",
            "json.loads",
            "response.read",
            "urllib.error",
            "urllib.parse",
            "urllib.request"
          ]
        },
        {
          "name": "_search_pypi_suggestions",
          "lines": "843-887",
          "tokens": 357,
          "content_hash": "e7145d3a72f01eb36650195157367ebd",
          "analyzed_by": "qwen",
          "description": "Searches for similar Python packages on PyPI based on a query, using predefined mappings and variations; returns formatted XML-like suggestions for installation.",
          "references": [
            "chr",
            "query.lower",
            "suggestions.append"
          ]
        }
      ],
      "last_indexed": "2026-01-05T13:20:32.015311+00:00"
    },
    "app/utils/translator.py": {
      "name": "translator.py",
      "path": "app/utils/translator.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\translator.py",
      "file_hash": "2d1570c7406f5f0c6865b80d9bc14296",
      "tokens_total": 3334,
      "lines_total": 427,
      "imports": {
        "lines": "18-22",
        "modules": [
          "re",
          "logging",
          "asyncio",
          "typing.Optional",
          "functools.lru_cache"
        ],
        "tokens": 20
      },
      "globals": {
        "lines": "24-27",
        "names": [
          "logger",
          "_translation_disabled"
        ],
        "tokens": 11
      },
      "description": "Russian translation service for code and technical text using Gemini 2.0 Flash, with caching, async/sync wrappers, and pre-translation filters for Russian content and code blocks.",
      "classes": [],
      "functions": [
        {
          "name": "is_mostly_russian",
          "lines": "30-50",
          "tokens": 193,
          "content_hash": "7ea4ff46fb5934d9e654e79108f79ba0",
          "analyzed_by": "qwen",
          "description": "Determines if a given text is predominantly in Russian based on the proportion of Cyrillic characters, using a customizable threshold. Integrates with regular expressions for character detection.",
          "references": [
            "re.findall",
            "text.replace"
          ]
        },
        {
          "name": "_contains_only_code",
          "lines": "53-74",
          "tokens": 239,
          "content_hash": "6eb58b02c4115c1cf0e9bf229c6b2d58",
          "analyzed_by": "qwen",
          "description": "Определяет, состоит ли текст в основном из кода, на основе синтаксических признаков и форматирования; использует регулярные выражения и анализ строк.",
          "references": [
            "line.strip",
            "re.match",
            "stripped.endswith",
            "stripped.startswith",
            "text.strip"
          ]
        },
        {
          "name": "translate_to_russian",
          "lines": "77-163",
          "tokens": 720,
          "content_hash": "045ab8cb41f89828d4a937b6755f64c7",
          "analyzed_by": "qwen",
          "description": "Переводит текст на русский с помощью модели Gemini 2.0 Flash, сохраняя технические термины и код, интегрируется с LLM API для асинхронного перевода.",
          "references": [
            "_contains_only_code",
            "_translate_long_text",
            "call_llm",
            "cfg.MODEL_GEMINI_2_FLASH",
            "is_mostly_russian",
            "logger.debug",
            "logger.error",
            "logger.warning",
            "result.strip",
            "text.strip"
          ]
        },
        {
          "name": "_translate_long_text",
          "lines": "165-229",
          "tokens": 536,
          "content_hash": "d460b8a3066ccf8f283d51e22df2efa5",
          "analyzed_by": "qwen",
          "description": "Переводит длинный текст на русский язык по частям, разбивая его на абзацы и строки для соблюдения максимальной длины. Использует асинхронную функцию translate_to_russian для перевода каждой части.",
          "references": [
            "current_chunk.append",
            "line_chunk.append",
            "para.split",
            "parts.append",
            "text.split",
            "translate_to_russian"
          ]
        },
        {
          "name": "translate_sync",
          "lines": "236-297",
          "tokens": 429,
          "content_hash": "3a3a01ad54e7bcbba1cecb4ff6d05183",
          "analyzed_by": "qwen",
          "description": "Provides a synchronous translation wrapper for use in non-async contexts, using asyncio and threading to run async translation logic; includes checks for Russian text, code, and disables translation when needed.",
          "references": [
            "_contains_only_code",
            "asyncio.get_running_loop",
            "asyncio.new_event_loop",
            "asyncio.run",
            "asyncio.set_event_loop",
            "concurrent.futures",
            "future.result",
            "is_mostly_russian",
            "logger.warning",
            "loop.is_running",
            "new_loop.close",
            "new_loop.run_until_complete",
            "pool.submit",
            "text.strip",
            "translate_to_russian"
          ]
        },
        {
          "name": "translate_cached",
          "lines": "304-316",
          "tokens": 111,
          "content_hash": "8dfbe8d757071fcbd642cb7eac4866e0",
          "analyzed_by": "qwen",
          "description": "Provides cached synchronous translation for repeated short phrases, useful for statuses and headers; utilizes translate_sync and supports context-based translation.",
          "references": [
            "translate_sync"
          ]
        },
        {
          "name": "translate_thinking",
          "lines": "323-331",
          "tokens": 81,
          "content_hash": "d7a9cb6fde0dc90d46e337e7303c9627",
          "analyzed_by": "qwen",
          "description": "Переводит внутренние рассуждения агента на русский язык с контекстом анализа кода и решения задач, используя асинхронную функцию.",
          "references": [
            "translate_to_russian"
          ]
        },
        {
          "name": "translate_validator_verdict",
          "lines": "334-341",
          "tokens": 54,
          "content_hash": "780bcb722d5315ecb35b052fafed4634",
          "analyzed_by": "qwen",
          "description": "Переводит вердикт AI Validator на русский язык с контекстом \"code validator's assessment and verdict\". Использует асинхронную функцию translate_to_russian.",
          "references": [
            "translate_to_russian"
          ]
        },
        {
          "name": "translate_code_explanation",
          "lines": "344-351",
          "tokens": 62,
          "content_hash": "248a378e124a2680bcba183d7d44d96c",
          "analyzed_by": "qwen",
          "description": "Переводит объяснение кода на русский язык с контекстом для генератора кода, используя асинхронный вызов функции translate_to_russian.",
          "references": [
            "translate_to_russian"
          ]
        },
        {
          "name": "translate_analysis",
          "lines": "354-361",
          "tokens": 56,
          "content_hash": "0fbb09617ba23e955c5c439bcc2fe284",
          "analyzed_by": "qwen",
          "description": "Переводит текст анализа Оркестратора на русский язык с контекстом \"code analysis and architectural assessment\", используя асинхронную функцию.",
          "references": [
            "translate_to_russian"
          ]
        },
        {
          "name": "reset_translation_state",
          "lines": "364-371",
          "tokens": 70,
          "content_hash": "a4f6c2d5eb441f1d33f831e95e93cc82",
          "analyzed_by": "qwen",
          "description": "Resets the translator's internal state, disabling translation lock and clearing the translation cache to allow retrying translations after errors.",
          "references": [
            "translate_cached.cache_clear"
          ]
        },
        {
          "name": "test_translation",
          "lines": "373-398",
          "tokens": 190,
          "content_hash": "a11e7d09e4247beb40d8100ff373a34d",
          "analyzed_by": "qwen",
          "description": "Тестирует работу API перевода, проверяя, возвращает ли перевод текста корректный русский результат. Использует логирование для отслеживания успешных и неуспешных тестов.",
          "references": [
            "is_mostly_russian",
            "logger.error",
            "logger.info",
            "logger.warning",
            "translate_to_russian"
          ]
        },
        {
          "name": "check_translation_available",
          "lines": "401-427",
          "tokens": 178,
          "content_hash": "ec8801d373cf12d87b042342586a037f",
          "analyzed_by": "qwen",
          "description": "Проверяет синхронно, доступен ли перевод на основе конфигурации, без вызова API; возвращает True, если переводчик должен работать. Использует настройки из конфигурации и модули logging, functools.lru_cache.",
          "references": [
            "logger.warning"
          ]
        }
      ],
      "last_indexed": "2025-12-30T11:12:02.069454+00:00"
    },
    "app/utils/validation_logger.py": {
      "name": "validation_logger.py",
      "path": "app/utils/validation_logger.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\validation_logger.py",
      "file_hash": "58234c948e066293d54a8006e00d2a9b",
      "tokens_total": 2255,
      "lines_total": 201,
      "imports": {
        "lines": "7-12",
        "modules": [
          "logging",
          "traceback",
          "datetime.datetime",
          "pathlib.Path",
          "typing.Any",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "json"
        ],
        "tokens": 29
      },
      "globals": {
        "lines": "15-184",
        "names": [
          "VALIDATION_LOG_DIR",
          "_current_logger"
        ],
        "tokens": 20
      },
      "description": "Session-specific logging utility for validation pipelines, integrating with Python's logging system and file management for structured error tracking and traceback capture.",
      "classes": [
        {
          "name": "ValidationLogger",
          "lines": "19-180",
          "tokens": 1924,
          "content_hash": "f79387f3d86dc4ad7ce174012f92b5d9",
          "analyzed_by": "qwen",
          "description": "Provides detailed logging for validation pipeline stages with session-specific files, integrates with Python logging, traceback, and file system for structured logs and error tracking.",
          "references": [
            "block.code",
            "block.file_path",
            "block.mode",
            "datetime.now",
            "error_handler.setFormatter",
            "error_handler.setLevel",
            "f.write",
            "file_handler.setFormatter",
            "file_handler.setLevel",
            "issue.file_path",
            "issue.level",
            "issue.message",
            "json.dumps",
            "l.value",
            "logging.DEBUG",
            "logging.ERROR",
            "logging.FileHandler",
            "logging.Formatter",
            "logging.getLogger",
            "result.analysis",
            "result.approved",
            "result.confidence",
            "result.critical_issues",
            "result.error_count",
            "result.instruction",
            "result.issues",
            "result.levels_failed",
            "result.levels_passed",
            "result.success",
            "result.tool_calls",
            "result.verdict",
            "result.warning_count",
            "tc.arguments",
            "tc.name",
            "traceback.format_exc"
          ],
          "methods": [
            "__init__",
            "log_stage",
            "log_orchestrator",
            "log_code_generation",
            "log_validation",
            "log_ai_validation",
            "log_subprocess",
            "log_error",
            "log_complete"
          ]
        }
      ],
      "functions": [
        {
          "name": "get_validation_logger",
          "lines": "187-192",
          "tokens": 70,
          "content_hash": "b79ecfa7fc1f6c0d0cd8611ed86f81c4",
          "analyzed_by": "qwen",
          "description": "Provides a session-specific validation logger, reusing the existing logger if the session ID matches.",
          "references": [
            "ValidationLogger",
            "_current_logger.session_id"
          ]
        },
        {
          "name": "log_validation_error",
          "lines": "195-201",
          "tokens": 92,
          "content_hash": "68879e0bf8e30c22104e585d73cb3bb4",
          "analyzed_by": "qwen",
          "description": "Logs validation errors with stage, exception, and optional context; uses a current logger if available or falls back to standard logging.",
          "references": [
            "_current_logger.log_error",
            "logging.error"
          ]
        }
      ],
      "last_indexed": "2025-12-30T11:11:33.951364+00:00"
    },
    "scripts/test_validation_pipeline.py": {
      "name": "test_validation_pipeline.py",
      "path": "scripts/test_validation_pipeline.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_validation_pipeline.py",
      "file_hash": "d5fad40892353335022d74093179e7cf",
      "tokens_total": 3945,
      "lines_total": 476,
      "imports": {
        "lines": "10-53",
        "modules": [
          "asyncio",
          "logging",
          "sys",
          "os",
          "tempfile",
          "pathlib.Path",
          "subprocess"
        ],
        "tokens": 22
      },
      "globals": {
        "lines": "22-128",
        "names": [
          "SCRIPT_DIR",
          "PROJECT_ROOT",
          "LOG_FILE",
          "logger",
          "_original_run",
          "_original_Popen",
          "SUBPROCESS_ISSUES_FOUND"
        ],
        "tokens": 70
      },
      "description": "Unit test suite for a Python validation pipeline, verifying subprocess encoding fixes, import error handling, Cyrillic character support, and mypy integration.",
      "classes": [
        {
          "name": "PatchedPopen",
          "lines": "92-123",
          "tokens": 310,
          "content_hash": "4abfb5f97c2a88f62c3c962756ad1068",
          "analyzed_by": "qwen",
          "description": "Monitors and logs subprocess.Popen calls, detecting and fixing missing encoding in text mode with pipe output. Integrates with logging and tracks issues for diagnostic purposes.",
          "references": [
            "SUBPROCESS_ISSUES_FOUND.append",
            "diag_logger.debug",
            "diag_logger.warning",
            "kwargs.get",
            "logging.getLogger",
            "subprocess.PIPE",
            "traceback.format_stack"
          ],
          "methods": [
            "__init__"
          ]
        }
      ],
      "functions": [
        {
          "name": "patched_run",
          "lines": "59-89",
          "tokens": 313,
          "content_hash": "2191f4e95e8fd65ab4024b203b3f5c82",
          "analyzed_by": "qwen",
          "description": "Логирует вызовы subprocess.run, проверяет параметры encoding и text, и автоматически исправляет проблемы с кодировкой в текстовом режиме. Интегрируется с logging и модифицирует поведение subprocess.run через обёртку.",
          "references": [
            "SUBPROCESS_ISSUES_FOUND.append",
            "_original_run",
            "diag_logger.debug",
            "diag_logger.warning",
            "kwargs.get",
            "logging.getLogger",
            "subprocess.PIPE",
            "traceback.format_stack"
          ]
        },
        {
          "name": "test_validation_with_bad_import",
          "lines": "153-227",
          "tokens": 698,
          "content_hash": "2708b0bc913fe5b499a241db4e628706",
          "analyzed_by": "qwen",
          "description": "Тестирует валидатор на обработку ошибок импорта, проверяя, что он не падает и корректно обнаруживает отсутствующий модуль. Использует VirtualFileSystem и конфигурацию валидатора для симуляции реального проекта.",
          "references": [
            "ChangeValidator",
            "Path",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.SYNTAX",
            "ValidatorConfig",
            "VirtualFileSystem",
            "i.level",
            "issue.file_path",
            "issue.level",
            "issue.message",
            "result.error_count",
            "result.issues",
            "result.success",
            "result.warning_count",
            "tempfile.TemporaryDirectory",
            "traceback.print_exc",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_validation_with_cyrillic",
          "lines": "234-299",
          "tokens": 595,
          "content_hash": "6cb621236ae801aeaf21975c19c1a72f",
          "analyzed_by": "qwen",
          "description": "Tests validation pipeline with Cyrillic characters in code and comments, ensuring UTF-8 handling works with syntax, imports, and type checks.",
          "references": [
            "ChangeValidator",
            "Path",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.SYNTAX",
            "ValidationLevel.TYPES",
            "ValidatorConfig",
            "VirtualFileSystem",
            "issue.level",
            "issue.message",
            "l.value",
            "result.issues",
            "result.levels_failed",
            "result.levels_passed",
            "result.success",
            "tempfile.TemporaryDirectory",
            "traceback.print_exc",
            "validator.validate",
            "vfs.stage_change"
          ]
        },
        {
          "name": "test_mypy_direct",
          "lines": "306-367",
          "tokens": 498,
          "content_hash": "554375804e1ab59aa20fcda64c07c03f",
          "analyzed_by": "qwen",
          "description": "Tests direct mypy execution on a Python file with Cyrillic content, ensuring subprocess correctly handles output and encoding. Uses temporary directories and subprocess calls to validate mypy's behavior.",
          "references": [
            "Path",
            "check.stdout",
            "result.returncode",
            "result.stderr",
            "result.stdout",
            "subprocess.run",
            "sys.executable",
            "tempfile.TemporaryDirectory",
            "test_file.write_text",
            "traceback.print_exc"
          ]
        },
        {
          "name": "test_pip_list",
          "lines": "374-408",
          "tokens": 266,
          "content_hash": "58edb5af1ae960f71ad5b7c948431d23",
          "analyzed_by": "qwen",
          "description": "Runs pip list --format=json to retrieve installed Python packages in JSON format, validates the output, and checks for parsing errors. Used to test the functionality that may be causing issues in _get_pip_packages().",
          "references": [
            "json.loads",
            "result.returncode",
            "result.stdout",
            "subprocess.run",
            "sys.executable",
            "traceback.print_exc"
          ]
        },
        {
          "name": "main",
          "lines": "415-467",
          "tokens": 484,
          "content_hash": "bed2615837329f697ae3eaa979e57b99",
          "analyzed_by": "qwen",
          "description": "Runs integration tests for a validation pipeline, checking for issues like bad imports, Cyrillic handling, mypy compliance, and subprocess encoding problems.",
          "references": [
            "results.items",
            "test_mypy_direct",
            "test_pip_list",
            "test_validation_with_bad_import",
            "test_validation_with_cyrillic"
          ]
        }
      ],
      "last_indexed": "2025-12-30T11:11:50.435093+00:00"
    },
    "app/utils/pipeline_trace_logger.py": {
      "name": "pipeline_trace_logger.py",
      "path": "app/utils/pipeline_trace_logger.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\utils\\pipeline_trace_logger.py",
      "file_hash": "6e6f432e394c3d383bf8830a16a1eee8",
      "tokens_total": 3200,
      "lines_total": 403,
      "imports": {
        "lines": "7-12",
        "modules": [
          "json",
          "logging",
          "datetime.datetime",
          "pathlib.Path",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "dataclasses.dataclass",
          "dataclasses.field",
          "dataclasses.asdict"
        ],
        "tokens": 38
      },
      "globals": {
        "lines": "14-17",
        "names": [
          "logger",
          "TRACE_LOG_DIR"
        ],
        "tokens": 19
      },
      "description": "Real-time pipeline execution logger that serializes tool call, iteration, and request lifecycle traces to JSON files with integrated logging and automatic cleanup.",
      "classes": [
        {
          "name": "ToolCallTrace",
          "lines": "22-31",
          "tokens": 85,
          "content_hash": "3c56f980a3d398173f4d8a9b6fa5eb0f",
          "analyzed_by": "qwen",
          "description": "Tracks tool call events with metadata such as name, target, success status, and timestamp. Uses ISO format for timestamps and is designed for logging and tracing in a pipeline.",
          "references": [
            "datetime.now"
          ],
          "methods": [
            "__post_init__"
          ]
        },
        {
          "name": "IterationTrace",
          "lines": "35-80",
          "tokens": 420,
          "content_hash": "281b05b74013719153137290eea10d6e",
          "analyzed_by": "qwen",
          "description": "Tracks a single iteration of a pipeline, capturing tool usage, code generation, validation, runtime testing, and AI evaluation details. Integrates with logging and file systems for trace storage.",
          "references": [
            "datetime.now",
            "field"
          ],
          "methods": [
            "__post_init__"
          ]
        },
        {
          "name": "PipelineTrace",
          "lines": "84-104",
          "tokens": 158,
          "content_hash": "cf18e62e24542fc14f8ca47dea0fe5d0",
          "analyzed_by": "qwen",
          "description": "Tracks a complete pipeline request lifecycle with timestamps, status, and iteration details, using a unique request ID and logging to support debugging and monitoring.",
          "references": [
            "datetime.now",
            "field"
          ],
          "methods": [
            "__post_init__"
          ]
        },
        {
          "name": "PipelineTraceLogger",
          "lines": "107-400",
          "tokens": 2398,
          "content_hash": "f27cdc829b895dd586b5d417efc8d084",
          "analyzed_by": "qwen",
          "description": "Логирует выполнение pipeline в реальном времени, сохраняя данные в JSON-файлы с интеграцией логгирования и автоматической очисткой старых записей.",
          "references": [
            "IterationTrace",
            "PipelineTrace",
            "TRACE_LOG_DIR.glob",
            "ToolCallTrace",
            "asdict",
            "data.get",
            "datetime.now",
            "failures_info.append",
            "json.dump",
            "json.dumps",
            "json.load",
            "logger.error",
            "logger.info",
            "logger.warning",
            "old_trace.unlink",
            "r.get",
            "summary.get"
          ],
          "methods": [
            "__init__",
            "_init_file",
            "_save",
            "start_iteration",
            "add_tool_call",
            "set_instruction",
            "add_generated_code",
            "set_tech_validation",
            "set_ai_validation",
            "set_orchestrator_decision",
            "set_tests",
            "set_error",
            "complete",
            "_cleanup_old_traces",
            "file_path",
            "set_runtime_results"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-01T02:59:44.767981+00:00"
    },
    "app/agents/feedback_prompt_loader.py": {
      "name": "feedback_prompt_loader.py",
      "path": "app/agents/feedback_prompt_loader.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\agents\\feedback_prompt_loader.py",
      "file_hash": "13c4757f0ea4b779e48964901a5a6805",
      "tokens_total": 3131,
      "lines_total": 343,
      "imports": {
        "lines": "16-18",
        "modules": [
          "__future__.annotations",
          "logging",
          "typing.Optional"
        ],
        "tokens": 14
      },
      "globals": {
        "lines": "20-308",
        "names": [
          "logger",
          "_FEEDBACK_LOADER"
        ],
        "tokens": 20
      },
      "description": "Singleton-managed lazy loader for structured feedback handling prompts, enabling thread-safe retrieval and session reset in code generation systems.",
      "classes": [
        {
          "name": "FeedbackPromptLoader",
          "lines": "247-301",
          "tokens": 340,
          "content_hash": "9604bfc8d058007b08cb8863ecf23635",
          "analyzed_by": "qwen",
          "description": "Manages lazy, thread-safe loading of a feedback handling prompt block used during sessions, with optional forced loading and reset capability.",
          "references": [
            "_build_feedback_handling_block",
            "logger.info"
          ],
          "methods": [
            "__init__",
            "get_feedback_block",
            "trigger_load",
            "_load_block",
            "is_loaded",
            "reset"
          ]
        }
      ],
      "functions": [
        {
          "name": "_build_feedback_handling_block",
          "lines": "27-240",
          "tokens": 2425,
          "content_hash": "46e3d22061cdfd386ebf0755a5e4d33e",
          "analyzed_by": "qwen",
          "description": "Generates a structured feedback handling protocol for code generation systems, outlining principles, analysis steps, feedback types, and required response formats to improve instruction accuracy.",
          "references": [
            "parts.append"
          ]
        },
        {
          "name": "get_feedback_loader",
          "lines": "311-316",
          "tokens": 59,
          "content_hash": "33c362ac6e12b26e6c25488ae99fcd3e",
          "analyzed_by": "qwen",
          "description": "Provides a singleton instance of FeedbackPromptLoader for managing feedback prompts globally.",
          "references": [
            "FeedbackPromptLoader"
          ]
        },
        {
          "name": "reset_feedback_loader",
          "lines": "319-323",
          "tokens": 47,
          "content_hash": "79234c88dc3da29975d9c40c285174b6",
          "analyzed_by": "qwen",
          "description": "Resets the global feedback loader instance to prepare for a new session. Used to clear previous state before initializing a new feedback process.",
          "references": [
            "_FEEDBACK_LOADER.reset"
          ]
        },
        {
          "name": "get_feedback_block_if_needed",
          "lines": "326-343",
          "tokens": 93,
          "content_hash": "7f3d7c0ae25fb50ef5d2782c94b23056",
          "analyzed_by": "qwen",
          "description": "Returns a feedback block string if errors are present, otherwise returns an empty string; used for prompt formatting. Integrates with a feedback loader to retrieve or trigger feedback content.",
          "references": [
            "get_feedback_loader",
            "loader.get_feedback_block",
            "loader.trigger_load"
          ]
        }
      ],
      "last_indexed": "2026-01-08T23:52:44.887092+00:00"
    },
    "app/services/runtime_tester.py": {
      "name": "runtime_tester.py",
      "path": "app/services/runtime_tester.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\runtime_tester.py",
      "file_hash": "e9ff9e24e567c550ccd40c387e3ff459",
      "tokens_total": 25018,
      "lines_total": 3180,
      "imports": {
        "lines": "18-46",
        "modules": [
          "__future__.annotations",
          "ast",
          "os",
          "re",
          "sys",
          "json",
          "socket",
          "logging",
          "tempfile",
          "subprocess",
          "shutil",
          "asyncio",
          "uuid",
          "traceback",
          "time",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Set",
          "typing.Optional",
          "typing.Any",
          "typing.Tuple",
          "typing.TYPE_CHECKING",
          "dataclasses.dataclass",
          "dataclasses.field",
          "collections.defaultdict",
          "typing.Pattern",
          "enum.Enum",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 105
      },
      "globals": {
        "lines": "41-163",
        "names": [
          "FRAMEWORK_REGISTRY_PATH",
          "logger",
          "FRAMEWORK_PATTERNS"
        ],
        "tokens": 1104
      },
      "description": "Runtime testing framework with dynamic timeout calculation and framework-specific execution strategies, integrating project analysis, framework detection, and result summarization for multi-application testing.",
      "classes": [
        {
          "name": "AppType",
          "lines": "55-70",
          "tokens": 236,
          "content_hash": "92f80a0266fca8251fcf8a943d41fa12",
          "analyzed_by": "qwen",
          "description": "Classifies application types for runtime behavior analysis, supports identification of scripts, GUI/TUI apps, CLI tools, web apps, daemons, and testing frameworks.",
          "references": [],
          "methods": []
        },
        {
          "name": "TestStatus",
          "lines": "74-80",
          "tokens": 45,
          "content_hash": "672d54492df98edbe1e2ae5b982962d7",
          "analyzed_by": "qwen",
          "description": "Represents the possible statuses of a test execution, such as passed, failed, skipped, timeout, or error.",
          "references": [],
          "methods": []
        },
        {
          "name": "SizeCategory",
          "lines": "83-87",
          "tokens": 56,
          "content_hash": "9847d11b0bd6df7a223e791fef03703c",
          "analyzed_by": "qwen",
          "description": "Defines an Enum for categorizing project sizes (small, medium, large) based on token count, used for timeout calculations.",
          "references": [],
          "methods": []
        },
        {
          "name": "ProjectAnalysis",
          "lines": "171-192",
          "tokens": 191,
          "content_hash": "59f0815c9d30b0a047080299c8c4c940",
          "analyzed_by": "qwen",
          "description": "Stores metrics and metadata from project analysis before testing, including file statistics, token counts, timeout settings, and detected frameworks. Used for runtime testing configuration and reporting.",
          "references": [],
          "methods": [
            "to_dict"
          ]
        },
        {
          "name": "TestResult",
          "lines": "196-228",
          "tokens": 240,
          "content_hash": "86147c9c983c005dbbd1b94cfe8cc2bd",
          "analyzed_by": "qwen",
          "description": "Represents the result of testing a single file, including status, message, duration, and metadata, with helper properties and a method to convert the result to a dictionary.",
          "references": [
            "TestStatus.ERROR",
            "TestStatus.FAILED",
            "TestStatus.PASSED",
            "TestStatus.SKIPPED",
            "TestStatus.TIMEOUT"
          ],
          "methods": [
            "success",
            "is_error",
            "is_skipped",
            "to_dict"
          ]
        },
        {
          "name": "RuntimeTestSummary",
          "lines": "232-276",
          "tokens": 373,
          "content_hash": "4d029f6e95ed777847f9ad61ce8481ca",
          "analyzed_by": "qwen",
          "description": "Tracks and summarizes runtime test results across files, including counts of passes, failures, errors, and timeouts, with methods to add results and convert data to a dictionary.",
          "references": [
            "TestStatus.ERROR",
            "TestStatus.FAILED",
            "TestStatus.PASSED",
            "TestStatus.SKIPPED",
            "TestStatus.TIMEOUT",
            "field",
            "r.to_dict",
            "result.status"
          ],
          "methods": [
            "add_result",
            "success",
            "to_dict"
          ]
        },
        {
          "name": "TimeoutCalculator",
          "lines": "283-339",
          "tokens": 606,
          "content_hash": "bed33785a93ee9985d7fbae3c585673a",
          "analyzed_by": "qwen",
          "description": "Calculates dynamic timeouts for testing based on project size and application type, using token count and file count to determine total and per-file timeouts. Integrates with SizeCategory and AppType enums for categorization.",
          "references": [
            "AppType.API_DEPENDENT",
            "AppType.CLI",
            "AppType.DAEMON",
            "AppType.GUI",
            "AppType.INTERACTIVE",
            "AppType.SQL_GENERIC",
            "AppType.SQL_POSTGRES",
            "AppType.SQL_SQLITE",
            "AppType.STANDARD",
            "AppType.TESTING",
            "AppType.TUI",
            "AppType.UNKNOWN",
            "AppType.WEB_APP",
            "SizeCategory.LARGE",
            "SizeCategory.MEDIUM",
            "SizeCategory.SMALL"
          ],
          "methods": [
            "calculate",
            "get_timeout_for_type"
          ]
        },
        {
          "name": "FrameworkDetector",
          "lines": "343-695",
          "tokens": 2736,
          "content_hash": "b7e7f25bcec360a2b0a7aa130712c20f",
          "analyzed_by": "qwen",
          "description": "Detects software frameworks in Python code using AST-based import analysis, usage pattern matching, and weighted scoring to resolve conflicts, supporting both legacy and modern registry formats. Integrates with regex and AST parsing for accurate detection of GUI, CLI, web, daemon, and testing frameworks.",
          "references": [
            "AppType.API_DEPENDENT",
            "AppType.CLI",
            "AppType.DAEMON",
            "AppType.GUI",
            "AppType.SQL_POSTGRES",
            "AppType.SQL_SQLITE",
            "AppType.STANDARD",
            "AppType.TESTING",
            "AppType.TUI",
            "AppType.WEB_APP",
            "alias.name",
            "ast.Constant",
            "ast.If",
            "ast.Import",
            "ast.ImportFrom",
            "ast.NameConstant",
            "ast.While",
            "ast.parse",
            "ast.walk",
            "body_node.test",
            "category_to_app_type.get",
            "cli_matches.items",
            "cli_patterns.items",
            "compiled_patterns.append",
            "daemon_matches.items",
            "daemon_weights.get",
            "defaultdict",
            "framework_key.split",
            "framework_value.get",
            "framework_weights.items",
            "imports.add",
            "logging.getLogger",
            "matches.get",
            "modules.items",
            "node.body",
            "node.module",
            "node.names",
            "node.test",
            "pattern.search",
            "pattern_matches.items",
            "re.compile",
            "re.error",
            "re.findall",
            "re.search",
            "registry_data.items",
            "testing_matches.items",
            "testing_weights.get",
            "tree.body",
            "type_weights.items"
          ],
          "methods": [
            "__init__",
            "load_from_registry",
            "detect",
            "_extract_imports_ast",
            "_match_usage_patterns",
            "_detect_cli_patterns",
            "_detect_daemon_patterns",
            "_detect_testing_patterns",
            "_calculate_app_type_weights"
          ]
        },
        {
          "name": "RuntimeTester",
          "lines": "702-3180",
          "tokens": 19130,
          "content_hash": "50cf4d011a8a463e4074ba9149e1934a",
          "analyzed_by": "deepseek",
          "description": "Multi-application runtime testing framework with framework-specific execution strategies (GUI headless, SQL in-memory, API network-aware) and AST-based import analysis.",
          "references": [
            "AppType",
            "AppType.API_DEPENDENT",
            "AppType.CLI",
            "AppType.DAEMON",
            "AppType.GUI",
            "AppType.INTERACTIVE",
            "AppType.PACKAGE_MODULE",
            "AppType.SQL_GENERIC",
            "AppType.SQL_POSTGRES",
            "AppType.SQL_SQLITE",
            "AppType.STANDARD",
            "AppType.TESTING",
            "AppType.TUI",
            "AppType.WEB_APP",
            "FRAMEWORK_PATTERNS.items",
            "FrameworkDetector",
            "GUI_HEADLESS_CONFIG.get",
            "Path",
            "ProjectAnalysis",
            "RuntimeTestSummary",
            "TUI_HEADLESS_CONFIG.get",
            "TestResult",
            "TestStatus.ERROR",
            "TestStatus.FAILED",
            "TestStatus.PASSED",
            "TestStatus.SKIPPED",
            "TestStatus.TIMEOUT",
            "TimeoutCalculator.calculate",
            "TimeoutCalculator.get_timeout_for_type",
            "TokenCounter",
            "alias.name",
            "analysis.file_types",
            "app_dir.exists",
            "app_type.value",
            "ast.Constant",
            "ast.If",
            "ast.Import",
            "ast.ImportFrom",
            "ast.NameConstant",
            "ast.While",
            "ast.parse",
            "ast.walk",
            "asyncio.TimeoutError",
            "asyncio.create_subprocess_exec",
            "asyncio.subprocess",
            "asyncio.wait_for",
            "body_node.test",
            "category_to_app_type.get",
            "class_line.split",
            "content.upper",
            "current.exists",
            "current.parent",
            "detected_frameworks.keys",
            "detected_frameworks.update",
            "env.get",
            "env_setup_lines.append",
            "error_msg.replace",
            "error_output.split",
            "f.strip",
            "file_path.endswith",
            "file_path.replace",
            "framework.lower",
            "framework_priority.get",
            "full_path.exists",
            "full_path.parent",
            "full_path.read_text",
            "headless_env.items",
            "imported_modules.add",
            "imports.add",
            "json.JSONDecodeError",
            "json.dumps",
            "json.load",
            "json.loads",
            "json_counts.values",
            "l.strip",
            "line.startswith",
            "line.strip",
            "line_stripped.startswith",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "match.group",
            "module.endswith",
            "module.replace",
            "module.split",
            "module_name.endswith",
            "modules.items",
            "node.body",
            "node.module",
            "node.names",
            "node.test",
            "os.environ",
            "os.path",
            "os.pathsep",
            "output.split",
            "parent_dir.parent",
            "process.communicate",
            "process.kill",
            "process.returncode",
            "pythonpath_parts.append",
            "re.error",
            "re.finditer",
            "re.search",
            "registry_path.exists",
            "result.app_type",
            "result.communicate",
            "result.duration_ms",
            "result.kill",
            "result.returncode",
            "result.status",
            "result.stderr",
            "result.stdout",
            "result.wait",
            "size_category.value",
            "socket.create_connection",
            "src_dir.exists",
            "stderr.split",
            "stderr_bytes.decode",
            "stdout_bytes.decode",
            "subprocess.PIPE",
            "subprocess.Popen",
            "subprocess.TimeoutExpired",
            "subprocess.run",
            "summary.add_result",
            "summary.analysis",
            "summary.failed",
            "summary.passed",
            "summary.skipped",
            "summary.total_duration_ms",
            "summary.total_files",
            "summary_match.group",
            "sys.executable",
            "t.value",
            "target_file.endswith",
            "test_path.exists",
            "test_path.unlink",
            "test_path.write_text",
            "time.time",
            "traceback.format_exc",
            "tree.body",
            "uuid.uuid4",
            "warning_line.split"
          ],
          "methods": [
            "__init__",
            "_load_framework_registry",
            "_get_framework_mapping_info",
            "_extract_imports_ast",
            "_has_top_level_loop",
            "_get_project_python",
            "_setup_test_environment",
            "_get_headless_env_for_framework",
            "_detect_gui_framework",
            "_test_with_mock_fallback",
            "analyze_project",
            "run_all_tests",
            "_detect_frameworks",
            "_detect_transitive_frameworks",
            "_get_file_app_type",
            "_test_file",
            "_test_standard",
            "_test_package_module",
            "_is_inside_package",
            "_has_main_guard",
            "_file_path_to_module",
            "_is_potential_long_running",
            "_test_gui",
            "_run_generated_script",
            "_test_tui",
            "_test_sqlite",
            "_test_postgres",
            "_test_sql_file",
            "_test_api_dependent",
            "_test_daemon",
            "_test_interactive",
            "_test_cli",
            "_test_testing_framework",
            "_test_web_app",
            "_test_import_only",
            "_check_network"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-12T12:47:17.918835+00:00"
    },
    "scripts/test_file_modifier_indentation.py": {
      "name": "test_file_modifier_indentation.py",
      "path": "scripts/test_file_modifier_indentation.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_file_modifier_indentation.py",
      "file_hash": "5150fec7560da9f153a3df9b8fb9d232",
      "tokens_total": 22879,
      "lines_total": 3160,
      "imports": {
        "lines": "29-41",
        "modules": [
          "sys",
          "os",
          "asyncio",
          "logging",
          "tempfile",
          "shutil",
          "argparse",
          "time",
          "ast",
          "pathlib.Path",
          "datetime.datetime",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.Tuple",
          "dataclasses.dataclass",
          "dataclasses.field"
        ],
        "tokens": 58
      },
      "globals": {
        "lines": "44-2521",
        "names": [
          "PROJECT_ROOT",
          "ARGS",
          "log_level",
          "logger",
          "SAMPLE_SERVICE_FILE",
          "SAMPLE_NESTED_CLASSES",
          "SAMPLE_ASYNC_FILE",
          "SAMPLE_FUNCTIONS_FILE",
          "DEEPLY_NESTED_FILE",
          "FILE_WITH_DECORATORS",
          "FILE_WITH_DUPLICATE_METHODS",
          "FILE_WITH_COMMENTS"
        ],
        "tokens": 1486
      },
      "description": "Unit test suite for validating indentation normalization in a FileModifier class, integrating with custom logging, test fixtures, and command-line argument parsing.",
      "classes": [
        {
          "name": "ColorFormatter",
          "lines": "67-80",
          "tokens": 118,
          "content_hash": "88a41dcc74631a21cfb9f70162235de9",
          "analyzed_by": "qwen",
          "description": "Applies colored formatting to logging output based on log level, using ANSI escape codes. Integrates with Python's logging module.",
          "references": [
            "logging.Formatter",
            "record.levelname"
          ],
          "methods": [
            "format"
          ]
        },
        {
          "name": "TestResult",
          "lines": "98-118",
          "tokens": 190,
          "content_hash": "98e788e166ce7af97cc6284eefa8509f",
          "analyzed_by": "qwen",
          "description": "Represents the result of a test case with status, duration, messages, and error details, providing a formatted string representation for logging or display.",
          "references": [
            "field"
          ],
          "methods": [
            "__str__"
          ]
        },
        {
          "name": "TestSuite",
          "lines": "122-154",
          "tokens": 271,
          "content_hash": "60c0e4116118f870fcac17c30ef3125b",
          "analyzed_by": "qwen",
          "description": "Represents a test suite with metrics and summary reporting for test results, including counts of passed, failed, and skipped tests along with total execution time.",
          "references": [
            "field",
            "r.duration_ms",
            "r.passed",
            "r.skipped"
          ],
          "methods": [
            "passed",
            "failed",
            "skipped",
            "total_time_ms",
            "add",
            "summary"
          ]
        },
        {
          "name": "TestFixture",
          "lines": "307-336",
          "tokens": 235,
          "content_hash": "91ce7ed30c03604fc4cbbfdb6d51672d",
          "analyzed_by": "qwen",
          "description": "Manages isolated test environments with temporary directories and file operations, supporting setup, cleanup, file writing, and reading. Integrates with tempfile and shutil for directory management.",
          "references": [
            "ARGS.no_cleanup",
            "Path",
            "logger.info",
            "path.parent",
            "path.write_text",
            "shutil.rmtree",
            "tempfile.mkdtemp"
          ],
          "methods": [
            "__init__",
            "setup",
            "cleanup",
            "path",
            "write_file",
            "read_file"
          ]
        }
      ],
      "functions": [
        {
          "name": "parse_args",
          "lines": "52-57",
          "tokens": 86,
          "content_hash": "08c80082d5751c81dba616019d002708",
          "analyzed_by": "qwen",
          "description": "Parses command-line arguments for testing indentation handling in FileModifier, supporting verbose mode, test filtering, and temp file cleanup control.",
          "references": [
            "argparse.ArgumentParser",
            "parser.add_argument",
            "parser.parse_args"
          ]
        },
        {
          "name": "should_skip",
          "lines": "339-343",
          "tokens": 48,
          "content_hash": "06145144b05401bf353435cc27d0ede8",
          "analyzed_by": "qwen",
          "description": "Determines if a test should be skipped based on a filter argument, returning \"filtered out\" if the filter does not match the test name.",
          "references": [
            "ARGS.filter",
            "test_name.lower"
          ]
        },
        {
          "name": "validate_python_syntax",
          "lines": "346-352",
          "tokens": 68,
          "content_hash": "fcd391a5e34fadf7f74d8c241f7b0e6d",
          "analyzed_by": "qwen",
          "description": "Checks if a Python code string has valid syntax, returning a boolean and error message if invalid.",
          "references": [
            "ast.parse",
            "e.lineno",
            "e.msg"
          ]
        },
        {
          "name": "get_indentation",
          "lines": "355-357",
          "tokens": 33,
          "content_hash": "3ed4e0b02cac9f90ca9234b783f87000",
          "analyzed_by": "qwen",
          "description": "Calculates the indentation level of a given string line in spaces. Used for analyzing or modifying code formatting.",
          "references": [
            "line.lstrip"
          ]
        },
        {
          "name": "test_normalize_basic",
          "lines": "364-394",
          "tokens": 302,
          "content_hash": "47486b8cc6b05837499b1d316515dd05",
          "analyzed_by": "qwen",
          "description": "Tests the normalization of code indentation from 8 spaces to 4 spaces using the FileModifier class. Verifies correct indentation levels and code structure after transformation.",
          "references": [
            "FileModifier",
            "TestResult",
            "get_indentation",
            "modifier._normalize_and_indent_code",
            "result.splitlines",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_normalize_zero_indent",
          "lines": "397-425",
          "tokens": 261,
          "content_hash": "e9d00ea7d076411eb50e60322a0db038",
          "analyzed_by": "qwen",
          "description": "Tests normalization of code indentation to zero indent (module level), using the FileModifier service to adjust indentation and validate results.",
          "references": [
            "FileModifier",
            "TestResult",
            "get_indentation",
            "modifier._normalize_and_indent_code",
            "result.splitlines",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_normalize_preserve_relative",
          "lines": "428-463",
          "tokens": 333,
          "content_hash": "9e1ec88632a93e09b6a08ca47f0312d3",
          "analyzed_by": "qwen",
          "description": "Tests that code indentation is normalized while preserving relative indentation levels, using a sample nested code block and asserting expected indentation per line.",
          "references": [
            "FileModifier",
            "TestResult",
            "get_indentation",
            "modifier._normalize_and_indent_code",
            "result.splitlines",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_normalize_empty_lines",
          "lines": "466-496",
          "tokens": 248,
          "content_hash": "d9a849b9b6df0bedfce53b262ec69d5a",
          "analyzed_by": "qwen",
          "description": "Tests that empty lines in code are preserved without trailing spaces during indentation normalization, using the FileModifier service.",
          "references": [
            "FileModifier",
            "TestResult",
            "modifier._normalize_and_indent_code",
            "result.splitlines",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_normalize_mixed_indents",
          "lines": "499-541",
          "tokens": 509,
          "content_hash": "dc67655902293e108da05313acc2518a",
          "analyzed_by": "qwen",
          "description": "Tests the normalization of Python code with mixed indentation levels, ensuring correct indentation and valid syntax when embedded in a class structure.",
          "references": [
            "FileModifier",
            "TestResult",
            "get_indentation",
            "modifier._normalize_and_indent_code",
            "result.splitlines",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_detect_indent_before",
          "lines": "548-579",
          "tokens": 256,
          "content_hash": "5c3b9467dca9e6184e1c4ce4a9884611",
          "analyzed_by": "qwen",
          "description": "Tests the detection of indentation from preceding lines in a file, using the FileModifier class to determine the correct indent level at a specific line.",
          "references": [
            "FileModifier",
            "TestResult",
            "modifier._detect_indent_from_context",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_detect_indent_after",
          "lines": "582-611",
          "tokens": 234,
          "content_hash": "9224eb8ef0197007d4133d64bc1805aa",
          "analyzed_by": "qwen",
          "description": "Tests the detection of indentation (4 spaces) by analyzing lines after a given index in a file, using the FileModifier service.",
          "references": [
            "FileModifier",
            "TestResult",
            "modifier._detect_indent_from_context",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_replace_method_with_wrong_indent",
          "lines": "618-675",
          "tokens": 472,
          "content_hash": "f7bbea0ca8072e4c7b28c42bdf3dfb54",
          "analyzed_by": "qwen",
          "description": "Tests the REPLACE_METHOD functionality with incorrectly indented code (8 spaces), ensuring it is auto-corrected to proper Python indentation (4 spaces for method, 8 for body). Integrates with FileModifier and syntax validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "fixture.write_file",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_replace_method_with_zero_indent",
          "lines": "678-735",
          "tokens": 447,
          "content_hash": "e7813c87f2bbd3e03b9a6d0213bb8a9a",
          "analyzed_by": "qwen",
          "description": "Tests replacing a method in a Python file with code that has zero indentation, ensuring the FileModifier correctly applies and indents the replacement code. Uses a test fixture and validates the resulting Python syntax.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "fixture.write_file",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_replace_method_preserves_others",
          "lines": "738-785",
          "tokens": 366,
          "content_hash": "82485733ee47e4b1f2be6d0ce1eb91bf",
          "analyzed_by": "qwen",
          "description": "Tests that the REPLACE_METHOD operation in FileModifier preserves other methods and classes in a file, using a sample service file as input.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_replace_function_wrong_indent",
          "lines": "792-844",
          "tokens": 425,
          "content_hash": "5a1be5ad8376703c08d78d5e3553cb2b",
          "analyzed_by": "qwen",
          "description": "Tests the correction of function indentation when replacing a function in a Python file, ensuring the new function is at the module level with 0 indentation. Integrates with FileModifier, ParsedCodeBlock, and syntax validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "get_indentation",
            "line.strip",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_insert_class_new_method",
          "lines": "851-905",
          "tokens": 454,
          "content_hash": "01b1d7cfb69fead8d99850c6fe3a6863",
          "analyzed_by": "qwen",
          "description": "Tests inserting a new method into a class with correct indentation and positioning, using a file modifier and validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_insert_class_no_existing_methods",
          "lines": "908-955",
          "tokens": 338,
          "content_hash": "f394edcf411f13374488115272a4ba86",
          "analyzed_by": "qwen",
          "description": "Tests inserting a method into a Python class that initially has no methods, using the FileModifier service.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_patch_method_insert_after",
          "lines": "962-1025",
          "tokens": 527,
          "content_hash": "420a36b69b99596deca79432eb103c37",
          "analyzed_by": "qwen",
          "description": "Tests inserting code after a specific line in a method using the PATCH_METHOD pattern, ensuring correct placement and syntax validity. Integrates with FileModifier and TestFixture.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_patch_method_insert_before_return",
          "lines": "1028-1077",
          "tokens": 388,
          "content_hash": "cd8d892f5b2a0212dcb86ab4d166dca3",
          "analyzed_by": "qwen",
          "description": "Tests inserting code before a return statement in a method using PATCH_METHOD, validates syntax and insertion position.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_patch_method_default_before_return",
          "lines": "1080-1128",
          "tokens": 381,
          "content_hash": "4195d200d7fb30a945eb590024013b10",
          "analyzed_by": "qwen",
          "description": "Tests the default behavior of the PATCH_METHOD in FileModifier, ensuring code is inserted before the return statement in the target method.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_replace_class_wrong_indent",
          "lines": "1135-1185",
          "tokens": 361,
          "content_hash": "33ff92ad5eece8fadb0e01cb4a1e88c4",
          "analyzed_by": "qwen",
          "description": "Tests replacing a class with incorrect indentation in a file, ensuring the replacement is corrected and does not affect other classes. Uses FileModifier and Python syntax validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_insert_into_file_function",
          "lines": "1192-1236",
          "tokens": 351,
          "content_hash": "c5230ebee419720d3275670553c8653c",
          "analyzed_by": "qwen",
          "description": "Tests the INSERT_INTO_FILE functionality for adding a new function with correct indentation and syntax validation. Uses a test fixture and integrates with FileModifier and ParsedCodeBlock.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_async_method_replace",
          "lines": "1243-1295",
          "tokens": 384,
          "content_hash": "2d6eec1bf011c62cda7ad690f15f8b19",
          "analyzed_by": "qwen",
          "description": "Tests replacing an async method in a Python class using a file modifier, ensuring syntax validity and correct content preservation. Integrates with FileModifier, ParsedCodeBlock, and test utilities.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_method_with_decorator_replace",
          "lines": "1298-1344",
          "tokens": 364,
          "content_hash": "5d3c24b4b2d82852e2c68a560ee1900f",
          "analyzed_by": "qwen",
          "description": "Tests replacing a method with decorators in a Python class, ensuring the replacement preserves the decorator and maintains valid syntax. Uses a file modifier and validation for async code.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_nested_class_method",
          "lines": "1347-1392",
          "tokens": 340,
          "content_hash": "344fb0a03d5520d8b228a3fd81b81981",
          "analyzed_by": "qwen",
          "description": "Tests replacing a method inside a nested class using the FileModifier, ensuring correct syntax and content after modification.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_vfs_integration_modify",
          "lines": "1399-1453",
          "tokens": 430,
          "content_hash": "1aeb8fdbf84b9f9d2dc6e83583c1701a",
          "analyzed_by": "qwen",
          "description": "Tests integration between FileModifier and VirtualFileSystem by applying a code block to a virtual file, verifying staged changes, and ensuring original files remain unmodified. Uses test fixtures and assertions for validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "fixture.read_file",
            "fixture.write_file",
            "modifier.apply_code_block_to_vfs",
            "result.message",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax",
            "vfs.has_pending_changes",
            "vfs.read_file"
          ]
        },
        {
          "name": "test_multiple_blocks_same_file",
          "lines": "1456-1522",
          "tokens": 525,
          "content_hash": "1c44e0a174042406bfea02b31aa4dbb7",
          "analyzed_by": "qwen",
          "description": "Tests applying multiple code modification blocks to the same file, including replacing a method and inserting a new one, using a virtual file system. Integrates with FileModifier, ParsedCodeBlock, and VirtualFileSystem.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "VirtualFileSystem",
            "fixture.cleanup",
            "fixture.path",
            "fixture.write_file",
            "modifier.apply_code_block_to_vfs",
            "result1.message",
            "result1.success",
            "result2.message",
            "result2.success",
            "should_skip",
            "time.time",
            "validate_python_syntax",
            "vfs.read_file"
          ]
        },
        {
          "name": "test_extreme_indent_correction",
          "lines": "1529-1577",
          "tokens": 367,
          "content_hash": "c763966eae306603b7fda6b4556ef904",
          "analyzed_by": "qwen",
          "description": "Tests the correction of extreme indentation (16+ spaces) in Python code, ensuring it is properly converted to standard 4-space indentation. Integrates with FileModifier and ParsedCodeBlock for code transformation and validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_tabs_to_spaces_conversion",
          "lines": "1580-1624",
          "tokens": 354,
          "content_hash": "561e4a9b981abd32d4ccb30a5f958a91",
          "analyzed_by": "qwen",
          "description": "Tests whether tabs in code are converted to spaces during modification, but notes that the current implementation may not perform the conversion.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_generator_tabs_mixed_with_spaces",
          "lines": "1637-1679",
          "tokens": 351,
          "content_hash": "d2e32e9d73ff0f3913b40238ee114e96",
          "analyzed_by": "qwen",
          "description": "Tests handling of mixed tabs and spaces in code indentation for a file modifier, ensuring valid Python output is generated. Integrates with FileModifier, ParsedCodeBlock, and syntax validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_generator_trailing_whitespace",
          "lines": "1682-1723",
          "tokens": 340,
          "content_hash": "84e8b601a3c1cdfe64e21338ae8cb4b2",
          "analyzed_by": "qwen",
          "description": "Tests handling of trailing whitespace in code generated by the FileModifier, using a sample code block and validating the output syntax.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_generator_windows_line_endings",
          "lines": "1726-1767",
          "tokens": 339,
          "content_hash": "4643516a88f87b88e6af767b69e130c7",
          "analyzed_by": "qwen",
          "description": "Tests handling of Windows CRLF line endings in code blocks processed by FileModifier, ensuring valid Python syntax is preserved. Integrates with TestFixture and ParsedCodeBlock for setup and validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_generator_inconsistent_indent_within_block",
          "lines": "1770-1819",
          "tokens": 391,
          "content_hash": "d983787b3f68f1b331322cb32da5ef49",
          "analyzed_by": "qwen",
          "description": "Tests that a code block with inconsistent indentation is properly normalized by the FileModifier, ensuring valid Python syntax and correct indentation in the output.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_patch_deeply_nested_code",
          "lines": "1852-1900",
          "tokens": 389,
          "content_hash": "d4c254bf783438891091c6dfd8a469a9",
          "analyzed_by": "qwen",
          "description": "Tests the ability to patch code at 4+ levels of nesting in a file using the FileModifier, validating syntax and insertion correctness. Integrates with TestFixture, ParsedCodeBlock, and validation utilities.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_insert_method_into_nested_class",
          "lines": "1903-1953",
          "tokens": 392,
          "content_hash": "f52b287746fc96f5f0b29d2583199e47",
          "analyzed_by": "qwen",
          "description": "Tests inserting a method into a nested class using FileModifier, validating syntax and insertion order. Integrates with ParsedCodeBlock and TestFixture.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_replace_decorated_method_removes_old_decorators",
          "lines": "1994-2044",
          "tokens": 397,
          "content_hash": "36b8a37bd904cc6ffc830cf526773a0b",
          "analyzed_by": "qwen",
          "description": "Tests that a decorated method is replaced correctly by removing old decorators while preserving others in the same file. Uses a file modifier to apply changes and validates the resulting code syntax and content.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_replace_method_with_new_decorators",
          "lines": "2047-2094",
          "tokens": 361,
          "content_hash": "e80ee0e0abfbe5b7966da900a6f1a4c8",
          "analyzed_by": "qwen",
          "description": "Tests replacing a plain method with a decorated version in a Python class, ensuring syntax validity and correct content replacement. Uses FileModifier and ParsedCodeBlock for code transformation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_replace_method_correct_class_first",
          "lines": "2137-2186",
          "tokens": 390,
          "content_hash": "9d3b544cbb28e17e71e81e7d1154dde1",
          "analyzed_by": "qwen",
          "description": "Tests replacing a method in the first class with duplicate method names across multiple classes, ensuring only the intended class is modified. Integrates with FileModifier and ParsedCodeBlock for code transformation and validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_replace_method_correct_class_middle",
          "lines": "2189-2236",
          "tokens": 380,
          "content_hash": "cf107409d3aee4bc4180fb4a24ec8371",
          "analyzed_by": "qwen",
          "description": "Tests replacing a method in a middle class when multiple classes have the same method name, ensuring only the target class is modified. Uses FileModifier and ParsedCodeBlock to apply and validate the change.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_error_class_not_found",
          "lines": "2243-2283",
          "tokens": 309,
          "content_hash": "87e7ae9ff60ce060f6a4262272aa7353",
          "analyzed_by": "qwen",
          "description": "Tests error handling when a target class does not exist in file modification, ensuring graceful failure and unchanged content. Integrates with FileModifier and TestFixture.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_error_method_not_found",
          "lines": "2286-2322",
          "tokens": 285,
          "content_hash": "374de8f0eed54e889fddcbfb5208bde8",
          "analyzed_by": "qwen",
          "description": "Tests error handling when a target method does not exist in a file modification operation, using a code block and FileModifier. Integrates with TestFixture for setup and cleanup.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.success",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_error_function_not_found",
          "lines": "2325-2360",
          "tokens": 278,
          "content_hash": "8eb91e4c45981ff594252e39c032bdf5",
          "analyzed_by": "qwen",
          "description": "Tests error handling when a target function does not exist in the file modification process, using the FileModifier and ParsedCodeBlock.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.success",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_error_patch_pattern_not_found",
          "lines": "2363-2400",
          "tokens": 294,
          "content_hash": "7e38222ca8a3482b9520c29a5ebd2d68",
          "analyzed_by": "qwen",
          "description": "Tests error handling when a PATCH_METHOD pattern is not found in file modification, using a test fixture and asserting failure conditions.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.success",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_error_invalid_mode",
          "lines": "2403-2437",
          "tokens": 259,
          "content_hash": "b9d4489c9939df50981aa27a4e3e310b",
          "analyzed_by": "qwen",
          "description": "Tests that an error is properly raised when an invalid mode is used in FileModifier, ensuring failure handling for unrecognized code block modes. Integrates with TestFixture for setup and cleanup.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.success",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_error_syntax_error_in_existing_file",
          "lines": "2440-2481",
          "tokens": 307,
          "content_hash": "3d0499509812df70aa841a2f5fa25695",
          "analyzed_by": "qwen",
          "description": "Tests error handling when a syntax error exists in an existing file during code modification, using a test fixture and asserting the failure message contains syntax-related terms.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.success",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_replace_method_preserves_surrounding_comments",
          "lines": "2524-2575",
          "tokens": 379,
          "content_hash": "23e490dee5026426e9c57950f4a81acd",
          "analyzed_by": "qwen",
          "description": "Tests that the FileModifier preserves surrounding comments when replacing a method in a Python file, ensuring class-level, init, and inter-method comments remain intact.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_replace_preserves_class_attributes",
          "lines": "2578-2623",
          "tokens": 333,
          "content_hash": "592633119ebf60e6125f5f91deea0971",
          "analyzed_by": "qwen",
          "description": "Tests that replacing a method in a class preserves existing class attributes and other methods. Uses a file modifier to apply changes and validates the output content.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_replace_method_with_only_pass",
          "lines": "2630-2685",
          "tokens": 365,
          "content_hash": "702c46a19558d112f3f6eeff0944a109",
          "analyzed_by": "qwen",
          "description": "Tests replacing a method with only pass in a Python class using the FileModifier, ensuring the replacement is syntactically valid and preserves other methods. Integrates with TestFixture, ParsedCodeBlock, and Python syntax validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_method_with_multiline_string",
          "lines": "2688-2747",
          "tokens": 385,
          "content_hash": "b5abc8cef051822e802e8d7cd56ae3e2",
          "analyzed_by": "qwen",
          "description": "Tests that multiline strings with irregular indentation in a Python file are correctly handled when replacing a method, ensuring the resulting code remains syntactically valid. Uses FileModifier and ParsedCodeBlock for code transformation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_insert_import_deduplication",
          "lines": "2750-2791",
          "tokens": 340,
          "content_hash": "39e514192dac2624c6aa724a69086fe8",
          "analyzed_by": "qwen",
          "description": "Tests that the INSERT_IMPORT operation in FileModifier prevents duplicate imports, ensuring existing ones are not duplicated and warnings are generated appropriately. Integrates with ParsedCodeBlock and TestFixture for setup and validation.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "result.warnings",
            "should_skip",
            "time.time"
          ]
        },
        {
          "name": "test_append_to_empty_file",
          "lines": "2794-2834",
          "tokens": 295,
          "content_hash": "827a14b27b4c74e2bf493105acc711a2",
          "analyzed_by": "qwen",
          "description": "Tests appending a code block to an empty file using the FileModifier, ensuring the result is valid Python and contains the expected code.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "test_create_new_file_with_replace_file",
          "lines": "2837-2896",
          "tokens": 389,
          "content_hash": "0d34492a440995061eb9f8d35b306de4",
          "analyzed_by": "qwen",
          "description": "Tests the REPLACE_FILE mode of the FileModifier by creating a new file with specified Python content and validating its syntax and structure.",
          "references": [
            "FileModifier",
            "ParsedCodeBlock",
            "TestFixture",
            "TestResult",
            "fixture.cleanup",
            "modifier.apply_code_block",
            "result.message",
            "result.new_content",
            "result.success",
            "should_skip",
            "time.time",
            "validate_python_syntax"
          ]
        },
        {
          "name": "run_all_tests",
          "lines": "2899-3155",
          "tokens": 2073,
          "content_hash": "dab51cba39e24e64b246fa243e620404",
          "analyzed_by": "qwen",
          "description": "Runs a comprehensive test suite for code indentation and modification operations, including unit, integration, edge case, stress, and special case tests.",
          "references": [
            "ARGS.filter",
            "TestSuite",
            "all_suites.append",
            "datetime.now",
            "decorator_suite.add",
            "decorator_suite.summary",
            "detect_suite.add",
            "detect_suite.summary",
            "edge_suite.add",
            "edge_suite.summary",
            "generator_suite.add",
            "generator_suite.summary",
            "insert_file_suite.add",
            "insert_file_suite.summary",
            "insert_suite.add",
            "insert_suite.summary",
            "multi_class_suite.add",
            "multi_class_suite.summary",
            "negative_suite.add",
            "negative_suite.summary",
            "nesting_suite.add",
            "nesting_suite.summary",
            "norm_suite.add",
            "norm_suite.summary",
            "patch_suite.add",
            "patch_suite.summary",
            "preservation_suite.add",
            "preservation_suite.summary",
            "replace_class_suite.add",
            "replace_class_suite.summary",
            "replace_func_suite.add",
            "replace_func_suite.summary",
            "replace_method_suite.add",
            "replace_method_suite.summary",
            "result.error",
            "result.name",
            "result.passed",
            "result.skipped",
            "s.failed",
            "s.passed",
            "s.skipped",
            "s.total_time_ms",
            "special_suite.add",
            "special_suite.summary",
            "stress_suite.add",
            "stress_suite.summary",
            "suite.failed",
            "suite.name",
            "suite.passed",
            "suite.results",
            "suite.skipped",
            "test_append_to_empty_file",
            "test_async_method_replace",
            "test_create_new_file_with_replace_file",
            "test_detect_indent_after",
            "test_detect_indent_before",
            "test_error_class_not_found",
            "test_error_function_not_found",
            "test_error_invalid_mode",
            "test_error_method_not_found",
            "test_error_patch_pattern_not_found",
            "test_error_syntax_error_in_existing_file",
            "test_extreme_indent_correction",
            "test_generator_inconsistent_indent_within_block",
            "test_generator_tabs_mixed_with_spaces",
            "test_generator_trailing_whitespace",
            "test_generator_windows_line_endings",
            "test_insert_class_new_method",
            "test_insert_class_no_existing_methods",
            "test_insert_import_deduplication",
            "test_insert_into_file_function",
            "test_insert_method_into_nested_class",
            "test_method_with_decorator_replace",
            "test_method_with_multiline_string",
            "test_multiple_blocks_same_file",
            "test_nested_class_method",
            "test_normalize_basic",
            "test_normalize_empty_lines",
            "test_normalize_mixed_indents",
            "test_normalize_preserve_relative",
            "test_normalize_zero_indent",
            "test_patch_deeply_nested_code",
            "test_patch_method_default_before_return",
            "test_patch_method_insert_after",
            "test_patch_method_insert_before_return",
            "test_replace_class_wrong_indent",
            "test_replace_decorated_method_removes_old_decorators",
            "test_replace_function_wrong_indent",
            "test_replace_method_correct_class_first",
            "test_replace_method_correct_class_middle",
            "test_replace_method_preserves_others",
            "test_replace_method_preserves_surrounding_comments",
            "test_replace_method_with_new_decorators",
            "test_replace_method_with_only_pass",
            "test_replace_method_with_wrong_indent",
            "test_replace_method_with_zero_indent",
            "test_replace_preserves_class_attributes",
            "test_tabs_to_spaces_conversion",
            "test_vfs_integration_modify",
            "vfs_suite.add",
            "vfs_suite.summary"
          ]
        }
      ],
      "last_indexed": "2025-12-31T23:42:51.646270+00:00"
    },
    "scripts/test_runtime_tester_integration.py": {
      "name": "test_runtime_tester_integration.py",
      "path": "scripts/test_runtime_tester_integration.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_runtime_tester_integration.py",
      "file_hash": "c9521d28ab3c98a8174e581d1525c5f5",
      "tokens_total": 8636,
      "lines_total": 1232,
      "imports": {
        "lines": "11-47",
        "modules": [
          "os",
          "sys",
          "asyncio",
          "tempfile",
          "shutil",
          "socket",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Tuple",
          "unittest.mock.patch",
          "unittest.mock.MagicMock",
          "time",
          "app.services.virtual_fs.VirtualFileSystem",
          "app.services.virtual_fs.ChangeType",
          "app.services.runtime_tester.RuntimeTester",
          "app.services.runtime_tester.RuntimeTestSummary",
          "app.services.runtime_tester.TestResult",
          "app.services.runtime_tester.TestStatus",
          "app.services.runtime_tester.AppType",
          "app.services.runtime_tester.ProjectAnalysis",
          "app.services.runtime_tester.TimeoutCalculator",
          "app.services.runtime_tester.SizeCategory",
          "app.services.runtime_tester.FRAMEWORK_PATTERNS",
          "app.services.change_validator.ChangeValidator",
          "app.services.change_validator.ValidationResult",
          "app.services.change_validator.ValidationLevel",
          "app.services.change_validator.ValidatorConfig",
          "app.services.change_validator.IssueSeverity",
          "app.agents.feedback_handler.FeedbackHandler",
          "app.agents.feedback_handler.create_runtime_test_feedback",
          "app.agents.feedback_handler.RuntimeTestFeedback"
        ],
        "tokens": 157
      },
      "globals": {
        "lines": "54-241",
        "names": [
          "STANDARD_OK",
          "STANDARD_ERROR",
          "STANDARD_INFINITE",
          "EMPTY_FILE",
          "COMMENTS_ONLY",
          "FILE_WITH_INPUT",
          "RELATIVE_IMPORT_FILE",
          "NEAR_TIMEOUT",
          "PYGAME_OK",
          "PYGAME_WITH_DISPLAY",
          "TKINTER_OK",
          "SQLITE_OK",
          "SQLITE_FILE_DB",
          "SQLITE_WRITE_READ",
          "POSTGRES_CODE",
          "API_SIMPLE",
          "API_BAD_URL",
          "FLASK_APP",
          "FASTAPI_APP",
          "CONDITIONAL_IMPORTS",
          "PACKAGE_INIT",
          "PACKAGE_UTILS",
          "PACKAGE_MAIN",
          "TIMEOUT_STANDARD",
          "TIMEOUT_BLOCKING",
          "TIMEOUT_QUICK"
        ],
        "tokens": 895
      },
      "description": "Integration test suite for validating runtime components across multiple scenarios, executed asynchronously with comprehensive system integration.",
      "classes": [
        {
          "name": "ComprehensiveRuntimeTest",
          "lines": "248-1210",
          "tokens": 7341,
          "content_hash": "f23be1aaaa6c82e2bb086e836d52e101",
          "analyzed_by": "qwen",
          "description": "Comprehensive test suite for runtime validation and analysis, covering standard, GUI, SQL, web app, and API scenarios, with integration with VirtualFileSystem, ChangeValidator, and FeedbackHandler.",
          "references": [
            "AppType.GUI",
            "AppType.SQL_POSTGRES",
            "AppType.SQL_SQLITE",
            "AppType.STANDARD",
            "AppType.WEB_APP",
            "ChangeType.CREATE",
            "ChangeValidator",
            "FeedbackHandler",
            "Path",
            "RuntimeTester",
            "SizeCategory.LARGE",
            "SizeCategory.MEDIUM",
            "SizeCategory.SMALL",
            "TestStatus.ERROR",
            "TestStatus.FAILED",
            "TestStatus.PASSED",
            "TestStatus.SKIPPED",
            "TestStatus.TIMEOUT",
            "TimeoutCalculator.calculate",
            "TimeoutCalculator.get_timeout_for_type",
            "ValidationLevel.IMPORTS",
            "ValidationLevel.RUNTIME",
            "ValidationLevel.SYNTAX",
            "ValidatorConfig",
            "VirtualFileSystem",
            "analysis.detected_frameworks",
            "analysis.file_count",
            "analysis.file_types",
            "analysis.total_tokens",
            "api_result.status",
            "app_type.value",
            "cat.value",
            "create_runtime_test_feedback",
            "expected_status.value",
            "fastapi_result.status",
            "feedback.failed",
            "feedback.passed",
            "feedback.skipped",
            "feedback.to_prompt_format",
            "file_path.parent",
            "file_path.write_text",
            "file_result.status",
            "flask_result.status",
            "handler.add_runtime_test_feedback",
            "handler.get_feedback_for_orchestrator",
            "infinite_result.status",
            "memory_result.status",
            "original_db.exists",
            "os.environ",
            "pygame_result.message",
            "pygame_result.status",
            "r.duration_ms",
            "r.file_path",
            "result.details",
            "result.message",
            "result.runtime_files_checked",
            "result.runtime_test_summary",
            "result.status",
            "results_by_file.get",
            "shutil.rmtree",
            "summary.errors",
            "summary.failed",
            "summary.passed",
            "summary.results",
            "summary.skipped",
            "summary.timeouts",
            "summary.total_duration_ms",
            "summary.total_files",
            "tempfile.mkdtemp",
            "tester._check_network",
            "tester._detect_frameworks",
            "tester._network_available",
            "tester.analyze_project",
            "tester.run_all_tests",
            "time.time",
            "tkinter_result.status",
            "validator.validate"
          ],
          "methods": [
            "__init__",
            "setup",
            "teardown",
            "create_file",
            "record",
            "test_timeout_calculator",
            "test_framework_detection",
            "test_project_analysis",
            "test_standard_files",
            "test_timeout_handling",
            "test_near_timeout_passes",
            "test_gui_headless",
            "test_gui_headless_no_display_error",
            "test_sqlite_operations",
            "test_sqlite_data_persistence",
            "test_postgres_without_url",
            "test_web_apps_skipped",
            "test_api_with_network",
            "test_api_without_network",
            "test_api_network_error_handling",
            "test_input_causes_timeout",
            "test_relative_imports",
            "test_conditional_imports",
            "test_package_with_init",
            "test_statistics_consistency",
            "test_change_validator_integration",
            "test_feedback_handler_integration",
            "test_error_handling",
            "run_all"
          ]
        }
      ],
      "functions": [
        {
          "name": "main",
          "lines": "1217-1227",
          "tokens": 102,
          "content_hash": "292686672bad3054b611fd80514cf821",
          "analyzed_by": "qwen",
          "description": "Runs a comprehensive test suite for the runtime tester, executing all tests asynchronously and returning the success status. Includes warnings about test duration and behavior, and integrates with the ComprehensiveRuntimeTest class.",
          "references": [
            "ComprehensiveRuntimeTest",
            "test.run_all"
          ]
        }
      ],
      "last_indexed": "2026-01-01T01:36:03.691506+00:00"
    },
    "scripts/test_indent_normalization.py": {
      "name": "test_indent_normalization.py",
      "path": "scripts/test_indent_normalization.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\scripts\\test_indent_normalization.py",
      "file_hash": "c0b6f709359ccca822da9cf8c7d375e4",
      "tokens_total": 14743,
      "lines_total": 1879,
      "imports": {
        "lines": "12-26",
        "modules": [
          "sys",
          "os",
          "tempfile",
          "shutil",
          "unittest",
          "pathlib.Path",
          "typing.List",
          "typing.Dict",
          "typing.Tuple",
          "typing.Optional",
          "ast",
          "re",
          "app.services.file_modifier.FileModifier",
          "app.services.file_modifier.ModifyInstruction",
          "app.services.file_modifier.ModifyMode"
        ],
        "tokens": 51
      },
      "globals": {
        "lines": "23-23",
        "names": [
          "PROJECT_ROOT"
        ],
        "tokens": 9
      },
      "description": "Unit test suite for validating indentation normalization and code structure preservation during Python code modifications, integrating with custom utilities and the unittest framework.",
      "classes": [
        {
          "name": "IndentNormalizationTestCase",
          "lines": "64-207",
          "tokens": 1289,
          "content_hash": "457d95ea8c8beea3871b0ec3ed006b1f",
          "analyzed_by": "qwen",
          "description": "Базовый тестовый класс для проверки нормализации отступов в Python-коде, включает утверждения для валидации синтаксиса, структуры методов и сохранения исходных элементов кода.",
          "references": [
            "FileModifier",
            "ast.parse",
            "code.splitlines",
            "e.lineno",
            "e.msg",
            "e.offset",
            "find_line_starting_with",
            "get_line_indent",
            "line.strip",
            "re.match",
            "stripped.count",
            "stripped.startswith",
            "unittest.TestCase"
          ],
          "methods": [
            "setUpClass",
            "assert_valid_python",
            "assert_line_indent",
            "assert_method_structure",
            "assert_existing_code_unchanged"
          ]
        },
        {
          "name": "TestInsertIntoClassDetailed",
          "lines": "214-354",
          "tokens": 1176,
          "content_hash": "1f8cb1045094ce7ea837d089a1e659f1",
          "analyzed_by": "qwen",
          "description": "Тестирует корректность вставки методов в класс с нормализацией отступов, включая обработку декораторов, генераторов и вложенных блоков. Использует unittest и пользовательские утилиты для проверки структуры кода.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "result.message",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "get_base_class",
            "test_correct_indent_preserved",
            "test_generator_error_8_space_body_fixed",
            "test_nested_blocks_indent_chain",
            "test_decorator_with_method"
          ]
        },
        {
          "name": "TestReplaceMethodDetailed",
          "lines": "361-431",
          "tokens": 517,
          "content_hash": "4d311e3bb742190a256513a2edffca9f",
          "analyzed_by": "qwen",
          "description": "Tests the replacement of methods in a Python class while preserving code structure and normalizing indentation, using a Calculator class as a test subject. Integrates with ModifyInstruction and IndentNormalizationTestCase for code modification and validation.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.REPLACE_METHOD",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "get_base",
            "test_replace_preserves_context",
            "test_replace_with_bad_indent"
          ]
        },
        {
          "name": "TestPatchMethodDetailed",
          "lines": "438-500",
          "tokens": 523,
          "content_hash": "187b7073eaea44aeb3b88d46cbab12e3",
          "analyzed_by": "qwen",
          "description": "Tests the correct insertion and indentation normalization of code patches within method bodies, ensuring consistent Python syntax after modification.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.PATCH_METHOD",
            "result.message",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "get_base",
            "test_patch_inserts_with_correct_indent",
            "test_patch_with_wrong_indent_code"
          ]
        },
        {
          "name": "TestReplaceFunctionDetailed",
          "lines": "507-567",
          "tokens": 428,
          "content_hash": "b0495387ad808b3a2c563a0e78e56d5b",
          "analyzed_by": "qwen",
          "description": "Contains detailed unit tests for function replacement logic in an indentation normalization system, using Python's unittest framework and asserting correct code structure and indentation levels.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.REPLACE_FUNCTION",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "get_base",
            "test_replace_function_at_level_0",
            "test_replace_function_with_class_indent"
          ]
        },
        {
          "name": "TestAppendToFileDetailed",
          "lines": "574-599",
          "tokens": 230,
          "content_hash": "702f54f93de5780af4259253428120b0",
          "analyzed_by": "qwen",
          "description": "Тестирует поведение добавления класса с неправильными отступами в конец файла без их нормализации. Использует модульные проверки и интеграцию с ModifyInstruction и IndentNormalizationTestCase.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.APPEND_TO_FILE",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "test_append_class_with_wrong_indent"
          ]
        },
        {
          "name": "TestEdgeCasesDetailed",
          "lines": "606-688",
          "tokens": 629,
          "content_hash": "69b0ab1bfcb633dfa2004cf83be3f3d8",
          "analyzed_by": "qwen",
          "description": "Тестирует сложные и редкие сценарии вставки кода в классы, включая пустые классы, многострочные сигнатуры и асинхронные методы с контекстными менеджерами. Использует утверждения для проверки корректности отступов и структуры вставленного кода.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "test_empty_class_insert",
            "test_multiline_signature",
            "test_async_method_with_context_managers"
          ]
        },
        {
          "name": "TestRealGeneratorErrors",
          "lines": "695-800",
          "tokens": 953,
          "content_hash": "01b7da408f10becb057b39011dfa40a3",
          "analyzed_by": "qwen",
          "description": "Tests common code generation indentation errors when inserting methods into classes, ensuring correct Python syntax and consistent indentation structure.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "test_error_def_0_body_8",
            "test_error_inconsistent_nesting",
            "test_preserves_relative_structure"
          ]
        },
        {
          "name": "TestComplexLargeCodeInsertion",
          "lines": "857-1650",
          "tokens": 6034,
          "content_hash": "98b9f5faad122dd435f3ce2856729670",
          "analyzed_by": "qwen",
          "description": "Tests the insertion of large code blocks into complex Python files with proper indentation normalization, including class and method insertion, replacement, and in-line patching. Integrates with code modification utilities for validation and structure checks.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.APPEND_TO_FILE",
            "ModifyMode.INSERT_INTO_CLASS",
            "ModifyMode.PATCH_METHOD",
            "ModifyMode.REPLACE_METHOD",
            "result.message",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "get_large_base_file",
            "test_insert_large_method_into_dataprocessor",
            "test_insert_large_method_with_generator_error",
            "test_replace_large_method_preserving_context",
            "test_insert_entire_new_class_into_large_file",
            "test_patch_large_method_with_complex_code"
          ]
        },
        {
          "name": "TestMultipleConsecutiveModifications",
          "lines": "1653-1771",
          "tokens": 929,
          "content_hash": "93e967e3477d554dab45ca120ec6471c",
          "analyzed_by": "qwen",
          "description": "Tests sequential code modifications in a Python class, including inserts, replacements, and patches, with validation of syntax and indentation consistency. Integrates with ModifyInstruction and IndentNormalizationTestCase for structured code manipulation.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "ModifyMode.PATCH_METHOD",
            "ModifyMode.REPLACE_METHOD",
            "result.message",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "get_base",
            "test_three_consecutive_inserts",
            "test_insert_then_replace_then_patch"
          ]
        },
        {
          "name": "TestExtremeNestingDepth",
          "lines": "1774-1823",
          "tokens": 493,
          "content_hash": "85604ec34772cb8702723dded0ffc20c",
          "analyzed_by": "qwen",
          "description": "Tests code with extreme nesting depth (up to 7 levels), ensuring correct indentation normalization and Python syntax validation. Integrates with ModifyInstruction and IndentNormalizationTestCase for code modification and verification.",
          "references": [
            "ModifyInstruction",
            "ModifyMode.INSERT_INTO_CLASS",
            "result.new_content",
            "result.success"
          ],
          "methods": [
            "test_deeply_nested_code_7_levels"
          ]
        }
      ],
      "functions": [
        {
          "name": "get_line_indent",
          "lines": "29-33",
          "tokens": 55,
          "content_hash": "05e9249aa6f6cbcf9f65445f172ff73e",
          "analyzed_by": "qwen",
          "description": "Counts the number of leading spaces in a string, returns -1 if the string is empty.",
          "references": [
            "line.lstrip",
            "line.strip"
          ]
        },
        {
          "name": "analyze_indents",
          "lines": "36-48",
          "tokens": 99,
          "content_hash": "caf424eb38daa11a50d82aea897988aa",
          "analyzed_by": "qwen",
          "description": "Анализирует отступы в строках кода и возвращает список с номером строки, размером отступа и содержимым строки без пробелов.",
          "references": [
            "code.splitlines",
            "get_line_indent",
            "line.strip",
            "result.append"
          ]
        },
        {
          "name": "find_line_starting_with",
          "lines": "51-61",
          "tokens": 118,
          "content_hash": "dd956b21f4e165b9b73748256a555c8e",
          "analyzed_by": "qwen",
          "description": "Searches for a line in the given code that starts with the specified prefix after stripping whitespace, returning the line number, indentation level, and full line; returns (0, 0, \"\") if not found.",
          "references": [
            "code.splitlines",
            "get_line_indent",
            "line.strip"
          ]
        },
        {
          "name": "run_tests",
          "lines": "807-850",
          "tokens": 353,
          "content_hash": "a275815f0289cbdcb346893e3ffbacae",
          "analyzed_by": "qwen",
          "description": "Запускает набор модульных тестов для проверки функциональности, выводит детализированные результаты и возвращает статус успешного прохождения всех тестов. Использует unittest для организации и выполнения тестов.",
          "references": [
            "loader.loadTestsFromTestCase",
            "result.errors",
            "result.failures",
            "result.testsRun",
            "runner.run",
            "suite.addTests",
            "unittest.TestLoader",
            "unittest.TestSuite",
            "unittest.TextTestRunner"
          ]
        },
        {
          "name": "run_tests",
          "lines": "1827-1874",
          "tokens": 388,
          "content_hash": "06ee75e876cda6e01ea3b50d72861170",
          "analyzed_by": "qwen",
          "description": "Запускает набор модульных тестов для проверки функциональности обработки кода, включая вставку, замену и модификацию методов и функций, с выводом детализированного отчёта о результатах. Использует unittest для организации и выполнения тестов.",
          "references": [
            "loader.loadTestsFromTestCase",
            "result.errors",
            "result.failures",
            "result.testsRun",
            "runner.run",
            "suite.addTests",
            "unittest.TestLoader",
            "unittest.TestSuite",
            "unittest.TextTestRunner"
          ]
        }
      ],
      "last_indexed": "2026-01-01T04:30:12.436708+00:00"
    },
    "scripts/test_generator_models.py": {
      "name": "test_generator_models.py",
      "path": "scripts/test_generator_models.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro (есть гугл дж 03.06.26)\\scripts\\test_generator_models.py",
      "file_hash": "faf36966cfb09d633a272b6e7866dd2d",
      "tokens_total": 9621,
      "lines_total": 1255,
      "imports": {
        "lines": "16-50",
        "modules": [
          "asyncio",
          "json",
          "logging",
          "os",
          "sys",
          "time",
          "traceback",
          "dataclasses.dataclass",
          "dataclasses.field",
          "datetime.datetime",
          "pathlib.Path",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Any",
          "typing.Tuple",
          "rich.console.Console",
          "rich.panel.Panel",
          "rich.table.Table",
          "rich.syntax.Syntax",
          "rich.box",
          "config.settings.cfg",
          "app.agents.code_generator.generate_code",
          "app.agents.code_generator.generate_code_agent_mode",
          "app.agents.code_generator.CodeGeneratorResult",
          "app.agents.code_generator.CodeBlock",
          "app.services.file_modifier.ParsedCodeBlock",
          "app.utils.token_counter.TokenCounter"
        ],
        "tokens": 147
      },
      "globals": {
        "lines": "29-107",
        "names": [
          "PROJECT_ROOT",
          "console",
          "GENERATOR_MODELS",
          "ENABLE_CODE_REVIEWER",
          "CODE_REVIEWER_MODEL",
          "LOG_DIR",
          "TEST_TIMESTAMP",
          "log_file",
          "file_handler",
          "logger",
          "console_handler",
          "api_client_logger",
          "code_gen_logger"
        ],
        "tokens": 241
      },
      "description": "Unit test suite for evaluating code generation models across ASK and AGENT modes, integrating structured test cases, performance logging, and result reporting.",
      "classes": [
        {
          "name": "TestCase",
          "lines": "126-134",
          "tokens": 86,
          "content_hash": "802f42a63a6b73c99afe3b0351b3932c",
          "analyzed_by": "qwen",
          "description": "Defines a test case configuration for code generation tests, specifying parameters like mode, instruction, existing code, and expected elements.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "TestResult",
          "lines": "138-150",
          "tokens": 98,
          "content_hash": "37cdbd5df04e38d720e3e02e208feae6",
          "analyzed_by": "qwen",
          "description": "Represents the outcome of a single model test, tracking success status, performance metrics, and output details. Used in conjunction with test generation and evaluation workflows.",
          "references": [
            "field"
          ],
          "methods": []
        }
      ],
      "functions": [
        {
          "name": "log_section",
          "lines": "112-118",
          "tokens": 84,
          "content_hash": "2ebd769f0b304f486b176e3c13031492",
          "analyzed_by": "qwen",
          "description": "Logs a section separator with a title using both a logger and a console, for visual organization in test output.",
          "references": [
            "console.print",
            "logger.info"
          ]
        },
        {
          "name": "get_test_cases",
          "lines": "157-853",
          "tokens": 5099,
          "content_hash": "f7a3d5663395c884a4b3d7627f2d3d57",
          "analyzed_by": "qwen",
          "description": "Defines a set of test cases for code generation and modification scenarios, covering both \"ASK\" and \"AGENT\" modes, including method modifications, new method additions, file creation, multi-file imports, complex entity modifications, and refactoring with module extraction.",
          "references": [
            "TestCase"
          ]
        },
        {
          "name": "run_ask_mode_test",
          "lines": "859-951",
          "tokens": 770,
          "content_hash": "81d2c5d4b29a1b9d70f3c7e4836fd56a",
          "analyzed_by": "deepseek",
          "description": "Asynchronous test runner for code generation models, integrates with generate_code() to evaluate model performance and validate output against expected elements.",
          "references": [
            "Panel",
            "Syntax",
            "TestResult",
            "all_code.lower",
            "b.code",
            "console.print",
            "e.lower",
            "generate_code",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "result.code_blocks",
            "result.error",
            "result.model_used",
            "result.raw_response",
            "result.success",
            "test_case.existing_code",
            "test_case.expected_elements",
            "test_case.instruction",
            "test_case.name",
            "test_case.target_file",
            "time.time",
            "traceback.format_exc"
          ]
        },
        {
          "name": "run_agent_mode_test",
          "lines": "954-1097",
          "tokens": 1345,
          "content_hash": "c5327f09ed799b10e2f8fd8e60a7ad0a",
          "analyzed_by": "qwen",
          "description": "Runs AGENT mode tests for code generation models, using generate_code_agent_mode() to evaluate output quality, correctness, and performance, with logging, diagnostics, and console feedback. Integrates with TestCase and TestResult for structured test execution and reporting.",
          "references": [
            "Panel",
            "Syntax",
            "TestResult",
            "all_code.lower",
            "b.code",
            "block.code",
            "block.file_path",
            "block.mode",
            "console.print",
            "e.lower",
            "file_contents.values",
            "generate_code_agent_mode",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "raw_response.count",
            "raw_response.rstrip",
            "raw_response.splitlines",
            "test_case.expected_elements",
            "test_case.file_contents",
            "test_case.instruction",
            "test_case.name",
            "time.time",
            "traceback.format_exc"
          ]
        },
        {
          "name": "run_all_tests",
          "lines": "1100-1234",
          "tokens": 1232,
          "content_hash": "b12091b7a9264f480d16a5f4d5f84d75",
          "analyzed_by": "qwen",
          "description": "Runs comprehensive tests on multiple code generation models, comparing their performance in generate_code() and generate_code_agent_mode() across test cases, and outputs detailed results, summaries, and a recommended best-performing model. Integrates with logging, asyncio, and JSON for structured output.",
          "references": [
            "Panel",
            "Table",
            "all_results.append",
            "asyncio.sleep",
            "box.ROUNDED",
            "console.print",
            "get_test_cases",
            "json.dump",
            "log_section",
            "logger.info",
            "model_stats.items",
            "r.code_blocks_count",
            "r.duration_ms",
            "r.error",
            "r.missing_elements",
            "r.mode",
            "r.model_name",
            "r.success",
            "r.test_case",
            "r.total_code_lines",
            "result.duration_ms",
            "result.success",
            "result.total_code_lines",
            "run_agent_mode_test",
            "run_ask_mode_test",
            "table.add_column",
            "table.add_row",
            "tc.name",
            "test_case.mode",
            "test_case.name"
          ]
        },
        {
          "name": "main",
          "lines": "1241-1251",
          "tokens": 93,
          "content_hash": "f6ea3eda8fe91c7149d7d97e4e0694fe",
          "analyzed_by": "qwen",
          "description": "Orchestrates and runs all tests for generator models, with error handling and console feedback using rich formatting.",
          "references": [
            "console.print",
            "logger.error",
            "run_all_tests",
            "traceback.format_exc"
          ]
        }
      ],
      "last_indexed": "2026-01-03T21:00:34.617240+00:00"
    },
    "app/services/tree_sitter_parser.py": {
      "name": "tree_sitter_parser.py",
      "path": "app/services/tree_sitter_parser.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\services\\tree_sitter_parser.py",
      "file_hash": "021aeac805f8004959dbe64a84ff6d0f",
      "tokens_total": 4331,
      "lines_total": 558,
      "imports": {
        "lines": "15-20",
        "modules": [
          "__future__.annotations",
          "logging",
          "dataclasses.dataclass",
          "dataclasses.field",
          "typing.Optional",
          "typing.List",
          "typing.Tuple",
          "typing.Iterator",
          "enum.Enum"
        ],
        "tokens": 34
      },
      "globals": {
        "lines": "22-518",
        "names": [
          "logger",
          "_parser",
          "_language",
          "_default_parser"
        ],
        "tokens": 28
      },
      "description": "Fault-tolerant Python AST parser using Tree-sitter that extracts classes, functions, and imports into structured data classes for code analysis and transformation.",
      "classes": [
        {
          "name": "NodeType",
          "lines": "55-61",
          "tokens": 74,
          "content_hash": "c1ab38bc23b7d4d071a4c4d394d36e42",
          "analyzed_by": "qwen",
          "description": "Defines an enumeration of node types used during Tree-sitter parsing, including classes, functions, methods, and error nodes.",
          "references": [],
          "methods": []
        },
        {
          "name": "CodeSpan",
          "lines": "65-82",
          "tokens": 133,
          "content_hash": "2551970223141ebf60eaadbe8488325c",
          "analyzed_by": "qwen",
          "description": "Represents a span of code in a file with start and end line and byte positions, used for tracking code boundaries in AST parsing.",
          "references": [],
          "methods": [
            "line_count"
          ]
        },
        {
          "name": "ParsedImport",
          "lines": "86-89",
          "tokens": 38,
          "content_hash": "c99509a7479bd3d22c0f6fbe01e7516b",
          "analyzed_by": "qwen",
          "description": "Represents a parsed import statement along with its position in the file, using a CodeSpan to track location.",
          "references": [],
          "methods": []
        },
        {
          "name": "ParsedClass",
          "lines": "93-102",
          "tokens": 133,
          "content_hash": "fa71c85bb399db12f684cfc4752ce67c",
          "analyzed_by": "qwen",
          "description": "Represents a parsed class with its name, span, methods, decorators, and structural metadata for code analysis and transformation.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "ParsedFunction",
          "lines": "106-116",
          "tokens": 155,
          "content_hash": "d85b6611dcad5e7f6c038d712b4c9810",
          "analyzed_by": "qwen",
          "description": "Represents a parsed function or method with metadata such as name, span, async status, decorators, and structural information like parent class and indentation. Used for code analysis and transformation tasks.",
          "references": [
            "field"
          ],
          "methods": []
        },
        {
          "name": "ParseResult",
          "lines": "120-154",
          "tokens": 312,
          "content_hash": "164ce35b70133ef16fa3002501e9c683",
          "analyzed_by": "qwen",
          "description": "Хранит результаты парсинга исходного кода, включая классы, функции, импорты и ошибки, с возможностью поиска элементов по имени. Используется в парсере на основе Tree-sitter.",
          "references": [
            "field",
            "func.name",
            "method.name"
          ],
          "methods": [
            "has_errors",
            "get_class",
            "get_function",
            "get_method"
          ]
        },
        {
          "name": "FaultTolerantParser",
          "lines": "160-511",
          "tokens": 2738,
          "content_hash": "b387f3ff6b62ebbd245e113994a9593d",
          "analyzed_by": "qwen",
          "description": "Fault-tolerant Python parser using Tree-sitter that builds a structure of classes and functions even in the presence of syntax errors, integrates with custom data classes for parsing results and error tracking.",
          "references": [
            "CodeSpan",
            "ParseResult",
            "ParsedClass",
            "ParsedFunction",
            "ParsedImport",
            "_get_parser",
            "body.children",
            "body.start_point",
            "child.end_byte",
            "child.end_point",
            "child.start_byte",
            "child.start_point",
            "child.type",
            "dec_text.strip",
            "decorator_spans.append",
            "decorators.append",
            "error_text.strip",
            "f.parent_class",
            "func.indent",
            "logger.error",
            "method.indent",
            "node.children",
            "node.end_byte",
            "node.end_point",
            "node.is_missing",
            "node.start_byte",
            "node.start_point",
            "node.type",
            "parsed_class.methods",
            "result.classes",
            "result.errors",
            "result.functions",
            "result.get_class",
            "result.get_function",
            "result.get_method",
            "result.imports",
            "result.parsed_imports",
            "result.success",
            "source_code.encode",
            "source_code.splitlines",
            "span.end_line",
            "span.start_line",
            "span_node.end_byte",
            "span_node.end_point",
            "span_node.start_byte",
            "span_node.start_point",
            "tree.root_node"
          ],
          "methods": [
            "__init__",
            "_ensure_parser",
            "parse",
            "_collect_errors",
            "_parse_node",
            "_parse_definition",
            "_get_name",
            "_get_body",
            "_is_async",
            "_has_errors_inside",
            "find_class",
            "find_function",
            "find_method",
            "get_node_text",
            "get_element_indent"
          ]
        }
      ],
      "functions": [
        {
          "name": "_get_parser",
          "lines": "29-48",
          "tokens": 140,
          "content_hash": "fe5ce10a80f06cf8e8fc260e82db8b38",
          "analyzed_by": "qwen",
          "description": "Lazily initializes a Tree-sitter parser for Python, with logging and error handling for missing dependencies.",
          "references": [
            "Language",
            "Parser",
            "logger.debug",
            "logger.warning",
            "tspython.language"
          ]
        },
        {
          "name": "get_parser",
          "lines": "521-526",
          "tokens": 60,
          "content_hash": "3003af85662fbcc9b93e7f17a90e4bd4",
          "analyzed_by": "qwen",
          "description": "Returns a global instance of the FaultTolerantParser, initializing it if it doesn't already exist.",
          "references": [
            "FaultTolerantParser"
          ]
        },
        {
          "name": "parse",
          "lines": "529-531",
          "tokens": 39,
          "content_hash": "f38044564e611deff095d895caf47e0f",
          "analyzed_by": "qwen",
          "description": "Parses source code using a global Tree Sitter parser, returns a ParseResult. Relies on get_parser() to initialize or retrieve the parser instance.",
          "references": [
            "get_parser"
          ]
        },
        {
          "name": "find_class",
          "lines": "534-536",
          "tokens": 42,
          "content_hash": "86475c505c58acf81a048a6653373fe7",
          "analyzed_by": "qwen",
          "description": "Searches for a class by name in the provided source code using a Tree-sitter parser. Returns a ParsedClass object if found, or None otherwise.",
          "references": [
            "get_parser"
          ]
        },
        {
          "name": "find_method",
          "lines": "539-545",
          "tokens": 57,
          "content_hash": "36fe506d0607628e78750665001730ed",
          "analyzed_by": "qwen",
          "description": "Searches for a method within a class in the provided source code using a Tree Sitter parser. Returns a ParsedFunction object if found, or None otherwise.",
          "references": [
            "get_parser"
          ]
        },
        {
          "name": "find_function",
          "lines": "548-550",
          "tokens": 43,
          "content_hash": "37368284ff5f0fcea3f27501c7da42a5",
          "analyzed_by": "qwen",
          "description": "Searches for a function by name in the provided source code using a Tree Sitter parser. Returns a ParsedFunction object if found, or None otherwise.",
          "references": [
            "get_parser"
          ]
        }
      ],
      "last_indexed": "2026-01-10T06:22:40.270414+00:00"
    },
    "app/tools/grep_search.py": {
      "name": "grep_search.py",
      "path": "app/tools/grep_search.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\grep_search.py",
      "file_hash": "5ae506716e19da509536972f567ff717",
      "tokens_total": 2525,
      "lines_total": 359,
      "imports": {
        "lines": "6-13",
        "modules": [
          "os",
          "re",
          "fnmatch",
          "pathlib.Path",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "typing.Tuple",
          "typing.Optional",
          "typing.Set",
          "logging",
          "dataclasses.dataclass",
          "app.utils.file_types.FileTypeDetector"
        ],
        "tokens": 48
      },
      "globals": {
        "lines": "15-15",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Grep-like search tool for project directories and virtual file systems, returning XML-formatted results with regex support, file filtering, and context-aware match formatting.",
      "classes": [
        {
          "name": "GrepMatch",
          "lines": "19-26",
          "tokens": 56,
          "content_hash": "0883e41d78a7203898e017e650ee9417",
          "analyzed_by": "qwen",
          "description": "Represents a single grep match result with file path, line content, and optional surrounding context.",
          "references": [],
          "methods": []
        }
      ],
      "functions": [
        {
          "name": "grep_search_tool",
          "lines": "29-175",
          "tokens": 1025,
          "content_hash": "6cbeba3958516c9618a26ad1ce196f7b",
          "analyzed_by": "qwen",
          "description": "Performs a grep-like search across files in a project directory and a virtual file system, supporting regex, case sensitivity, file filtering, and result limits, returning formatted XML output. Integrates with pathlib, re, and a custom VirtualFileSystem.",
          "references": [
            "Path",
            "_collect_disk_files",
            "_format_error",
            "_format_results",
            "_search_in_content",
            "file_path.read_text",
            "file_path.relative_to",
            "logger.info",
            "logger.warning",
            "match.matches_in_file",
            "matches.extend",
            "re.IGNORECASE",
            "re.compile",
            "re.error",
            "re.escape",
            "search_root.exists",
            "vfs_files.items",
            "vfs_files.keys",
            "virtual_fs.get_staged_files",
            "virtual_fs.read_file"
          ]
        },
        {
          "name": "_collect_disk_files",
          "lines": "178-208",
          "tokens": 230,
          "content_hash": "29b1f4bc8d876d607124687a465c4ac9",
          "analyzed_by": "qwen",
          "description": "Collects files from disk under a given root, applying file patterns, type detection, and exclusion rules, with a limit on the number of files returned. Integrates with FileTypeDetector and respects symlink structures.",
          "references": [
            "FileTypeDetector",
            "_should_process_file",
            "files_to_search.append",
            "logger.error",
            "search_root.rglob"
          ]
        },
        {
          "name": "_should_process_file",
          "lines": "211-236",
          "tokens": 177,
          "content_hash": "f22493852d338bc3fb3e31622882941a",
          "analyzed_by": "qwen",
          "description": "Determines if a file should be processed by checking if it is a regular text file, not a symlink, not excluded via VFS, and located within the project directory. Integrates with FileTypeDetector for file type classification.",
          "references": [
            "detector.detect",
            "detector.is_text_based",
            "file_path.is_file",
            "file_path.is_symlink",
            "file_path.relative_to"
          ]
        },
        {
          "name": "_search_in_content",
          "lines": "239-272",
          "tokens": 235,
          "content_hash": "651434f37da842e60727ccc539d7a186",
          "analyzed_by": "qwen",
          "description": "Searches for a compiled regex pattern in file content and returns matches with surrounding context, limited by the specified number of matches per file.",
          "references": [
            "GrepMatch",
            "compiled_pattern.search",
            "content.splitlines",
            "file_matches.append",
            "re.Pattern"
          ]
        },
        {
          "name": "_format_results",
          "lines": "275-341",
          "tokens": 596,
          "content_hash": "15ad11976c4abcf85b73fe14d0e686e7",
          "analyzed_by": "qwen",
          "description": "Formats grep search results into an XML string with file and line context details, including summary comments for clarity.",
          "references": [
            "_escape_xml",
            "match.context_after",
            "match.context_before",
            "match.file_path",
            "match.line_content",
            "match.line_number",
            "match.matches_in_file",
            "matches_by_file.items",
            "xml_parts.append"
          ]
        },
        {
          "name": "_escape_xml",
          "lines": "344-350",
          "tokens": 60,
          "content_hash": "4079807aadba2d99dd35fbb8f073f3e4",
          "analyzed_by": "qwen",
          "description": "Escapes XML special characters in a string to ensure safe XML output. Replaces &, <, >, \", and ' with their corresponding XML entity equivalents.",
          "references": [
            "text.replace"
          ]
        },
        {
          "name": "_format_error",
          "lines": "353-359",
          "tokens": 58,
          "content_hash": "005b1709824960c4a9bb043a622576ce",
          "analyzed_by": "qwen",
          "description": "Formats error messages for grep search operations with a suggestion to check search patterns and file filters.",
          "references": []
        }
      ],
      "last_indexed": "2026-01-08T04:08:43.201650+00:00"
    },
    "app/tools/file_relations.py": {
      "name": "file_relations.py",
      "path": "app/tools/file_relations.py",
      "full_path": "C:\\Users\\Admin\\AI_Assistant_Pro\\app\\tools\\file_relations.py",
      "file_hash": "95b075bf22abaa41bc9ecc605c48731b",
      "tokens_total": 2925,
      "lines_total": 345,
      "imports": {
        "lines": "7-11",
        "modules": [
          "os",
          "re",
          "pathlib.Path",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "typing.Optional",
          "typing.Set",
          "logging"
        ],
        "tokens": 26
      },
      "globals": {
        "lines": "13-13",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "File relationship analyzer for Python projects that extracts imports, importers, tests, and sibling files, supporting virtual file systems and outputting structured XML.",
      "classes": [],
      "functions": [
        {
          "name": "show_file_relations_tool",
          "lines": "16-64",
          "tokens": 397,
          "content_hash": "df4f53d144a128a78a0a86bce31b2675",
          "analyzed_by": "qwen",
          "description": "Analyzes and displays file relationships within a project, supporting virtual file systems and customizable inclusion of tests and sibling files, returning results in XML format.",
          "references": [
            "Path",
            "_analyze_file_relations",
            "_format_error",
            "_format_relations",
            "file_path.replace",
            "full_path.exists",
            "logger.info",
            "virtual_fs.file_exists"
          ]
        },
        {
          "name": "_analyze_file_relations",
          "lines": "67-108",
          "tokens": 406,
          "content_hash": "2d2b3168f223a1961cc2a59b206fe692",
          "analyzed_by": "qwen",
          "description": "Analyzes a file's relationships including imports, importers, test files, and sibling files within a project, with support for virtual file systems and customizable inclusion options.",
          "references": [
            "_extract_imports",
            "_find_importers",
            "_find_sibling_files",
            "_find_test_files",
            "_read_file_content",
            "logger.error"
          ]
        },
        {
          "name": "_read_file_content",
          "lines": "111-126",
          "tokens": 113,
          "content_hash": "b7c37cb1a1e5132c5b4dad08e3d6c519",
          "analyzed_by": "qwen",
          "description": "Reads file content from either a virtual file system or the actual file system, depending on availability. Uses pathlib for path resolution and handles UTF-8 encoding.",
          "references": [
            "Path",
            "full_path.exists",
            "full_path.read_text",
            "virtual_fs.read_file"
          ]
        },
        {
          "name": "_extract_imports",
          "lines": "129-143",
          "tokens": 140,
          "content_hash": "3e589416965c4e3c73239a318f29a956",
          "analyzed_by": "qwen",
          "description": "Extracts import statements from file content using regular expressions, supporting both import X and from X import Y syntax.",
          "references": [
            "imports.append",
            "match.group",
            "re.MULTILINE",
            "re.finditer"
          ]
        },
        {
          "name": "_find_importers",
          "lines": "146-176",
          "tokens": 215,
          "content_hash": "ab770adf2254c898a7236693b2aac53d",
          "analyzed_by": "qwen",
          "description": "Finds all Python files in a project that import the specified file, using a virtual file system for file access and analysis. Integrates with helper functions for module name conversion and import detection.",
          "references": [
            "_file_imports_module",
            "_path_to_module",
            "file_path.endswith",
            "importers.append",
            "virtual_fs.get_all_python_files",
            "virtual_fs.read_file"
          ]
        },
        {
          "name": "_find_test_files",
          "lines": "179-206",
          "tokens": 256,
          "content_hash": "e8a15e7ddd03ad40c30026fbb6bf264f",
          "analyzed_by": "qwen",
          "description": "Finds test files associated with a given Python file using a virtual file system or predefined naming patterns.",
          "references": [
            "Path",
            "file_path.endswith",
            "test_files.append",
            "virtual_fs.file_exists",
            "virtual_fs.find_test_files"
          ]
        },
        {
          "name": "_find_sibling_files",
          "lines": "209-242",
          "tokens": 355,
          "content_hash": "a46f63f7079c65b1e6089c93bfceffcc",
          "analyzed_by": "qwen",
          "description": "Находит до 50 файлов-сibling'ов (файлов в той же директории) заданного файла, используя либо виртуальную файловую систему, либо прямой доступ к файловой системе.",
          "references": [
            "Path",
            "dir_path.exists",
            "dir_path.iterdir",
            "item.is_file",
            "item.name",
            "item.relative_to",
            "logger.debug",
            "siblings.append"
          ]
        },
        {
          "name": "_path_to_module",
          "lines": "245-257",
          "tokens": 101,
          "content_hash": "e33790eba521ecac386a9e03f87ea305",
          "analyzed_by": "qwen",
          "description": "Converts a file path to a Python module name by removing .py and replacing slashes with dots, while handling __init__.py files appropriately.",
          "references": [
            "file_path.endswith",
            "module.endswith"
          ]
        },
        {
          "name": "_file_imports_module",
          "lines": "260-281",
          "tokens": 221,
          "content_hash": "2a34911040810d31b5de103c03db698f",
          "analyzed_by": "qwen",
          "description": "Checks if a file imports a specified module using regex, supporting both direct and sub-module imports.",
          "references": [
            "module_name.split",
            "re.MULTILINE",
            "re.escape",
            "re.search"
          ]
        },
        {
          "name": "_format_relations",
          "lines": "284-336",
          "tokens": 528,
          "content_hash": "c4d7583cc1ce2d1d9a8a35ec3b128a67",
          "analyzed_by": "qwen",
          "description": "Formats file relationships data into an XML string with summary comments, structured by imports, imported_by, tests, and siblings.",
          "references": [
            "xml_parts.append"
          ]
        },
        {
          "name": "_format_error",
          "lines": "339-345",
          "tokens": 84,
          "content_hash": "ee375f2b6a788dff03814ca8dcbacbfa",
          "analyzed_by": "qwen",
          "description": "Форматирует сообщение об ошибке в XML-подобном формате с подсказкой по устранению проблемы.",
          "references": []
        }
      ],
      "last_indexed": "2026-01-09T03:15:29.730962+00:00"
    }
  },
  "stats": {
    "qwen_calls": 992,
    "qwen_successes": 229,
    "qwen_failures": 219,
    "deepseek_calls": 285,
    "deepseek_successes": 285,
    "deepseek_failures": 0,
    "fallback_to_deepseek": 219,
    "total_analysis_tokens": 607422,
    "files_indexed": 80,
    "files_skipped": 0,
    "files_updated": 0,
    "files_added": 80,
    "files_removed": 0,
    "parse_recoveries": 231,
    "indexing_duration_seconds": 427.749256,
    "errors": [
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-",
      "Qwen HTTP 429: {\"error\":{\"message\":\"Provider returned error\",\"code\":429,\"metadata\":{\"raw\":\"qwen/qwen-2.5-coder-32b-"
    ]
  }
}